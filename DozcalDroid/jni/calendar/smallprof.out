           ================ SmallProf version 2.02 ================
                           Profile of ./calendar.pl                    Page 1
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000     1:#!/usr/bin/perl
        0   0.00000   0.00000     2:# +AMDG  This document was begun on 8 Sept
        0   0.00000   0.00000     3:# of the Nativity of the Blessed Virgin Mary
        0   0.00000   0.00000     4:# of St. Hadrian, Martyr, and it is humbly
        0   0.00000   0.00000     5:# for their prayers, and to the Sacred Heart
        0   0.00000   0.00000     6:# His mercy.
        0   0.00000   0.00000     7:
        0   0.00000   0.00000     8:use strict;
        0   0.00000   0.00000     9:use POSIX;
        0   0.00000   0.00000    10:use Data::Dumper::Simple;
        0   0.00000   0.00000    11:use String::Escape qw (unbackslash);
        0   0.00000   0.00000    12:use Time::Piece;
        0   0.00000   0.00000    13:use Date::Day;
        0   0.00000   0.00000    14:use Date::Easter;
        0   0.00000   0.00000    15:use Date::Pcalc qw(Add_Delta_Days
        0   0.00000   0.00000    16: Date_to_Days leap_year);
        0   0.00000   0.00000    17:use Getopt::Std;
        1   0.00001   0.00000    18:getopts('f:d:o:');
        1   0.00000   0.00000    19:our($opt_f,$opt_d,$opt_o);
        0   0.00000   0.00000    20:
        0   0.00000   0.00000    21:# define our exit codes
        0   0.00000   0.00000    22:
        1   0.00000   0.00000    23:my $SUCCESS = 0;
        1   0.00000   0.00000    24:my $BAD_INPUT_FILE = 1;
        1   0.00000   0.00000    25:my $INPUT_FILE_NOT_EXIST = 2;
        1   0.00000   0.00000    26:my $BAD_OUTPUT_FORMAT = 3;
        0   0.00000   0.00000    27:
        0   0.00000   0.00000    28:# change to dozenal digits; takes the scalar
        0   0.00000   0.00000    29:# returnst he dozenal digit character
        0   0.00000   0.00000    30:
        0   0.00000   0.00000    31:sub dozenize($)
        0   0.00000   0.00000    32:{
     2580   0.00550   0.04000    33: if (($_[0] >= 0) && ($_[0] <= 9)) {
        0   0.00000   0.00000    34:  return $_[0];
        0   0.00000   0.00000    35: } else {
      501   0.00045   0.01000    36:  return 'X' if ($_[0] == 10);
      440   0.00132   0.00000    37:  return 'E' if ($_[0] == 11);
        0   0.00000   0.00000    38: }
        0   0.00000   0.00000    39:}
        0   0.00000   0.00000    40:
        0   0.00000   0.00000    41:# convert integers from decmial to dozenal;
        0   0.00000   0.00000    42:# integer, returns the scalar string
        0   0.00000   0.00000    43:
        0   0.00000   0.00000    44:sub doz_int($)
        0   0.00000   0.00000    45:{
     1138   0.00080   0.03000    46: my $decnum = $_[0];
     1138   0.00183   0.03000    47: my $holder = 1;
     1138   0.00277   0.02000    48: my $doznum = "";
        0   0.00000   0.00000    49:
     1138   0.00098   0.05000    50: while ($decnum >= 12) {
     1442   0.00127   0.02000    51:  $holder = $decnum % 12;
     1442   0.00347   0.03000    52:  $holder = dozenize($holder);
     1442   0.00118   0.00000    53:  $doznum .= $holder;
     1442   0.00183   0.05000    54:  $decnum /= 12;
        0   0.00000   0.00000    55: }
     1138   0.00112   0.05000    56: $holder = $decnum % 12;
           ================ SmallProf version 2.02 ================
                           Profile of ./calendar.pl                    Page 2
       =================================================================
    count wall tm  cpu time line
     1138   0.00076   0.00000    57: $holder = dozenize($holder);
     1138   0.00091   0.01000    58: $doznum .= $holder;
     1138   0.00499   0.04000    59: return scalar reverse($doznum);
        0   0.00000   0.00000    60:}
        0   0.00000   0.00000    61:
        0   0.00000   0.00000    62:# converts single dozenal digits to decimal
        0   0.00000   0.00000    63:# scalar dozenal digit, returns the scalar
        0   0.00000   0.00000    64:
        0   0.00000   0.00000    65:sub decimalize($)
        0   0.00000   0.00000    66:{
     1712   0.00090   0.02000    67: if ($_[0] eq 'X') {
        0   0.00000   0.00000    68:  return 10;
        0   0.00000   0.00000    69: } elsif ($_[0] eq 'E') {
        0   0.00000   0.00000    70:  return 11;
        0   0.00000   0.00000    71: } else {
     1687   0.01351   0.03000    72:  return $_[0];
        0   0.00000   0.00000    73: }
        0   0.00000   0.00000    74:}
        0   0.00000   0.00000    75:
        0   0.00000   0.00000    76:# converts dozenal integers into decimal
        0   0.00000   0.00000    77:# dozenal integer as a scalar, returns the
        0   0.00000   0.00000    78:# as a scalar
        0   0.00000   0.00000    79:
        0   0.00000   0.00000    80:sub dec_int($)
        0   0.00000   0.00000    81:{
      837   0.00041   0.03000    82: my @digits;
      837   0.00020   0.01000    83: my $len;
      837   0.00023   0.01000    84: my $decnum;
      837   0.00023   0.02000    85: my $exp = 0;
        0   0.00000   0.00000    86:
      837   0.00875   0.00000    87: @digits = split(//,$_[0]);
      837   0.00261   0.00000    88: $exp = $#digits;
      837   0.00053   0.00000    89: foreach my $var (@digits) {
     1712   0.00069   0.01000    90:  $decnum += decimalize($var) * (12**($exp--
        0   0.00000   0.00000    91: }
      837   0.00200   0.01000    92: return $decnum;
        0   0.00000   0.00000    93:}
        0   0.00000   0.00000    94:
        0   0.00000   0.00000    95:# define our mod functions; both take two
        0   0.00000   0.00000    96:# y, and return an integer
        0   0.00000   0.00000    97:
        0   0.00000   0.00000    98:sub mod($$)
        0   0.00000   0.00000    99:{
        0   0.00000   0.00000   100: return $_[0] - $_[1] * ($_[0] / $_[1]);
        0   0.00000   0.00000   101:}
        0   0.00000   0.00000   102:sub amod($$)
        0   0.00000   0.00000   103:{
        0   0.00000   0.00000   104: return $_[1] + mod($_[0],-$_[1]);
        0   0.00000   0.00000   105:}
        0   0.00000   0.00000   106:
        0   0.00000   0.00000   107:# get the julian date; takes year, month, day
        0   0.00000   0.00000   108:
        0   0.00000   0.00000   109:sub julday($$$)
        0   0.00000   0.00000   110:{
      288   0.00012   0.00000   111: return 1721423.5 +
        0   0.00000   0.00000   112:}
           ================ SmallProf version 2.02 ================
                           Profile of ./calendar.pl                    Page 3
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   113:
        0   0.00000   0.00000   114:# convert julian date back to gregorian date;
        0   0.00000   0.00000   115:# julian day, returns an array of year,
        0   0.00000   0.00000   116:
        0   0.00000   0.00000   117:sub jultogreg($)
        0   0.00000   0.00000   118:{
      516   0.00600   0.00000   119: return Add_Delta_Days(1,1,1,$_[0] -
        0   0.00000   0.00000   120:}
        0   0.00000   0.00000   121:
        0   0.00000   0.00000   122:# define @calendar; this array eats the
        0   0.00000   0.00000   123:# data file
        0   0.00000   0.00000   124:
        1   0.00000   0.00000   125:my $calfile;
        1   0.00000   0.00000   126:my @calendar;
        0   0.00000   0.00000   127:
        0   0.00000   0.00000   128:# define @eventlist; this array takes the
        0   0.00000   0.00000   129:# converted into absolute dates
        0   0.00000   0.00000   130:
        1   0.00000   0.00000   131:my @eventlist;
        0   0.00000   0.00000   132:
        0   0.00000   0.00000   133:# define arrays to hold the dates grouped by
        0   0.00000   0.00000   134:# criteria
        0   0.00000   0.00000   135:
        1   0.00000   0.00000   136:my @callist;
        1   0.00000   0.00000   137:my @monthlist;
        1   0.00000   0.00000   138:my @weeklist;
        1   0.00000   0.00000   139:my @daylist;
        0   0.00000   0.00000   140:
        0   0.00000   0.00000   141:# define date format default; command line
        0   0.00000   0.00000   142:# option can change
        0   0.00000   0.00000   143:
        1   0.00000   0.00000   144:my $dateformat = "%d %b %Y";
        0   0.00000   0.00000   145:
        0   0.00000   0.00000   146:# define layouts; an array of strings; each
        0   0.00000   0.00000   147:# is formatted "output-type, type,
        0   0.00000   0.00000   148:
        1   0.00000   0.00000   149:my @layouts = (
        0   0.00000   0.00000   150: "text, event, %d: %t: %n\\n",
        0   0.00000   0.00000   151: "text, special, %d: %n\\n"
        0   0.00000   0.00000   152:);
        0   0.00000   0.00000   153:
        0   0.00000   0.00000   154:# option handling from config file; takes the
        0   0.00000   0.00000   155:# (starts with "%") and fills the appropriate
        0   0.00000   0.00000   156:# options hash; returns nothing
        0   0.00000   0.00000   157:
        0   0.00000   0.00000   158:sub config_opt($)
        0   0.00000   0.00000   159:{
        9   0.00000   0.00000   160: my $var; my $ovar; my $finish;
        0   0.00000   0.00000   161:
        3   0.00002   0.00000   162: if ($_ =~ /^%DATEFORM/) {
        1   0.00001   0.00000   163:  ($dateformat) = ($_ =~
        0   0.00000   0.00000   164: } elsif ($_ =~ /^%FORM_([A-
        6   0.00002   0.00000   165:  $var = lc($1); $ovar = $2; $finish = $3;
        2   0.00001   0.00000   166:  for (my $i = 0; $i <= $#layouts; $i++) {
        4   0.00007   0.00000   167:   if ($layouts[$i] =~ /$var, $ovar/) {
        2   0.00012   0.00000   168:    $layouts[$i] =~ s/($var, $ovar,\s*).*/$1
           ================ SmallProf version 2.02 ================
                           Profile of ./calendar.pl                    Page 4
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   169:   }
        2   0.00000   0.00000   170:  }
        0   0.00000   0.00000   171: }
        0   0.00000   0.00000   172:}
        0   0.00000   0.00000   173:
        0   0.00000   0.00000   174:# takes a filehandle; returns no value;
        0   0.00000   0.00000   175:
        0   0.00000   0.00000   176:sub popsched(*)
        0   0.00000   0.00000   177:{
        1   0.00000   0.00000   178: my $i = 0;
        1   0.00000   0.00000   179: my $j = 0;
        1   0.00000   0.00000   180: my $k = 0;
        1   0.00000   0.00000   181: my @row = ();   # placeholder to feed into
        1   0.00013   0.01000   182: open($calfile,"<","$_[0]") || die $!;
        1   0.00004   0.00000   183: while (<$calfile>) {
       24   0.00001   0.00000   184:  if ($_ =~ /^%/) {
        3   0.00000   0.00000   185:   config_opt($_);
        0   0.00000   0.00000   186:  }
       24   0.00000   0.00000   187:  $k++;
       24   0.00000   0.00000   188:  if ($_ !~ /^#/) {
       24   0.00029   0.00000   189:   if ($_ =~ /(.*)\t(.*)\t(.*)\t(.*)\t(.*)/)
       21   0.00052   0.00000   190:    @row = ($_ =~
       21   0.00013   0.00000   191:    push @{$calendar[$i]},@row if $_ !~ /^#/;
       21   0.00003   0.00000   192:    $i++;
        0   0.00000   0.00000   193:   }
        0   0.00000   0.00000   194:  } elsif ($_ =~ /^#/) {
        0   0.00000   0.00000   195:   next;
        0   0.00000   0.00000   196:  } else {
        0   0.00000   0.00000   197:   print STDERR "dozcal error:  malformation
        0   0.00000   0.00000   198:   print STDERR "file $_[0] at line $k\n";
        0   0.00000   0.00000   199:   exit $BAD_INPUT_FILE;
        0   0.00000   0.00000   200:  }
        0   0.00000   0.00000   201: }
        1   0.00003   0.00000   202: close $calfile;
        0   0.00000   0.00000   203:}
        0   0.00000   0.00000   204:
        0   0.00000   0.00000   205:sub use_input_file()
        0   0.00000   0.00000   206:{
        1   0.00000   0.00000   207: if ($opt_f) {
        0   0.00000   0.00000   208:  if (!-e $opt_f) {
        0   0.00000   0.00000   209:   print STDERR "dozcal error:  data file
        0   0.00000   0.00000   210:   print STDERR "does not exist\n";
        0   0.00000   0.00000   211:   exit $INPUT_FILE_NOT_EXIST;
        0   0.00000   0.00000   212:  } else {
        0   0.00000   0.00000   213:   popsched($opt_f);
        0   0.00000   0.00000   214:  }
        0   0.00000   0.00000   215: } else {
        1   0.00000   0.00000   216:  popsched('sampdata');
        0   0.00000   0.00000   217: }
        0   0.00000   0.00000   218:}
        0   0.00000   0.00000   219:
        0   0.00000   0.00000   220:# takes the first and last days of a range
        0   0.00000   0.00000   221:# list of all the dates between them,
        0   0.00000   0.00000   222:# themselves
        0   0.00000   0.00000   223:
        0   0.00000   0.00000   224:sub fill_range($$)
           ================ SmallProf version 2.02 ================
                           Profile of ./calendar.pl                    Page 5
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   225:{
        8   0.00000   0.00000   226: my $firstmon = -1;  # first month in range
        8   0.00000   0.00000   227: my $lastmon = -1;   # second month in range
        8   0.00000   0.00000   228: my $firstyear = -1;  # first year in range
        8   0.00000   0.00000   229: my $lastyear = -1;  # last year in range
        8   0.00000   0.00000   230: my $firstday = -1;  # first day in range
        8   0.00000   0.00000   231: my $lastday = -1;   # last day in range
        8   0.00000   0.00000   232: my @range = ();   # range of dates to return
        0   0.00000   0.00000   233:
        8   0.00006   0.00000   234: my @months = qw( Jan Feb Mar Apr May Jun Jul
        8   0.00000   0.00000   235: for (my $i = 0; $i < 13; $i++) {
      104   0.00158   0.01000   236:  $firstmon = $i if ($_[0] =~ /$months[$i]/);
      104   0.00169   0.00000   237:  $lastmon = $i if ($_[1] =~ /$months[$i]/);
        8   0.00000   0.00000   238: }
        8   0.00000   0.00000   239: $firstmon = $lastmon if (($firstmon == -1)
        8   0.00000   0.00000   240: $lastmon = $firstmon if (($firstmon > -1) &&
        8   0.00007   0.00000   241: $firstyear = $1 if $_[0] =~ /([\dXE]{4,4})/;
        8   0.00007   0.00000   242: $lastyear = $1 if $_[1] =~ /([\dXE]{4,4})/;
        8   0.00001   0.00000   243: $firstyear = $lastyear if (($firstyear == -
        8   0.00000   0.00000   244: $lastyear = $firstyear if (($firstyear > -1)
        8   0.00005   0.00000   245: $firstday = $1 if $_[0] =~
        8   0.00004   0.00000   246: $lastday = $1 if $_[1] =~ /([\d\dXE]{1,2})/;
        8   0.00000   0.00000   247: $firstday = dec_int($firstday);
        8   0.00000   0.00000   248: $lastday = dec_int($lastday);
        8   0.00000   0.00000   249: $firstyear = dec_int($firstyear);
        8   0.00000   0.00000   250: $lastyear = dec_int($lastyear);
        8   0.00000   0.00000   251: $firstmon++;
        8   0.00000   0.00000   252: $lastmon++;
        8   0.00000   0.00000   253: $firstday =
        8   0.00000   0.00000   254: $lastday =
        8   0.00000   0.00000   255: my $i = 0;
        8   0.00033   0.00000   256: $range[$i++] = $firstday++ while $firstday
        8   0.00021   0.00000   257: return @range;
        0   0.00000   0.00000   258:}
        0   0.00000   0.00000   259:
        0   0.00000   0.00000   260:# before passing to the range and list
        0   0.00000   0.00000   261:# applicable), parse the date and put it into
        0   0.00000   0.00000   262:# form (e.g., 4 Mar 11E8); accepts variety of
        0   0.00000   0.00000   263:# little-endian or big-endian formats, but
        0   0.00000   0.00000   264:# American way; requires four-digit year;
        0   0.00000   0.00000   265:# or -1 if a valid date isn't found
        0   0.00000   0.00000   266:
        0   0.00000   0.00000   267:sub parse_dates($)
        0   0.00000   0.00000   268:{
       68   0.00000   0.00000   269: my $flag = 0;     # set to 1 if found valid
       68   0.00000   0.00000   270: my $temp = $_[0];    # variable to deal with
       68   0.00000   0.00000   271: my $year = -1;
       68   0.00000   0.00000   272: my $month = -1;
       68   0.00002   0.01000   273: my $day = -1;
       68   0.00000   0.00000   274: my $standate = -1;
       68   0.00055   0.00000   275: my @months = qw( Jan Feb Mar Apr May Jun Jul
       68   0.00000   0.00000   276: my $t = localtime;
        0   0.00000   0.00000   277:
       68   0.00037   0.00000   278: if ($temp =~ /([\dXE]{2,4})[-
       18   0.00000   0.00000   279:  $flag = 1;
       18   0.00009   0.00000   280:  ($year,$month,$day) = ($1,$2,$3);
           ================ SmallProf version 2.02 ================
                           Profile of ./calendar.pl                    Page 6
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   281: } elsif ($temp =~
        0   0.00000   0.00000   282:  $flag = 1;
        0   0.00000   0.00000   283:  ($year,$month,$day) = ($3,$1,$2);
        0   0.00000   0.00000   284: } elsif ($temp =~ /([\dXE]{1,2})[-
        8   0.00000   0.00000   285:  $flag = 1;
        8   0.00004   0.00000   286:  ($year,$month,$day) = ($3,$1,$2);
        0   0.00000   0.00000   287: } else {
       42   0.00000   0.00000   288:  my $i;
       42   0.00000   0.00000   289:  foreach my $var (@months) {
      546   0.00008   0.02000   290:   $i++;
      546   0.00845   0.00000   291:   next if ($temp !~ /$var/);
       14   0.00000   0.00000   292:   $month = $i if $i < 13;
       14   0.00000   0.00000   293:   $month = 1 if $month == -1;
       14   0.00013   0.00000   294:   if ($temp =~ /([\dXE]{4,4})/) {
        0   0.00000   0.00000   295:    $year = $1;
        0   0.00000   0.00000   296:   } else {
        4   0.00000   0.00000   297:    $year = $t->year;
        4   0.00000   0.00000   298:    $year = doz_int($year);
        0   0.00000   0.00000   299:   }
       14   0.00010   0.00000   300:   if ($temp =~ /([\dXE]{1,2})/) {
        0   0.00000   0.00000   301:    $day = $1;
        0   0.00000   0.00000   302:   } else {
        0   0.00000   0.00000   303:    $day = $t->mday;
        0   0.00000   0.00000   304:    $day = doz_int($day);
        0   0.00000   0.00000   305:   }
       14   0.00004   0.00000   306:   $standate =  "$day $months[$month-1]
        0   0.00000   0.00000   307:  }
        0   0.00000   0.00000   308: }
       68   0.00000   0.00000   309: if ($flag == 1) {
       26   0.00000   0.00000   310:  $month = "Oct" if $month eq "X" || $month
       26   0.00000   0.00000   311:  $month = "Nov" if $month eq "E" || $month
       26   0.00000   0.00000   312:  $month = "Dec" if $month eq "10";
       26   0.00002   0.00000   313:  if ($month =~ /[\dXE]+/) {
        8   0.00000   0.00000   314:   $month--;
        8   0.00000   0.00000   315:   $month = $months[$month];
        0   0.00000   0.00000   316:  }
       26   0.00001   0.00000   317:  $standate = $day." ".$month." ".$year;
        0   0.00000   0.00000   318: }
       68   0.00057   0.00000   319: return $standate;
        0   0.00000   0.00000   320:}
        0   0.00000   0.00000   321:
        0   0.00000   0.00000   322:# takes an individual date as scalar string,
        0   0.00000   0.00000   323:# julian day
        0   0.00000   0.00000   324:
        0   0.00000   0.00000   325:sub ind_date($)
        0   0.00000   0.00000   326:{
        5   0.00000   0.00000   327: my $year;
        5   0.00000   0.00000   328: my $month;
        5   0.00000   0.00000   329: my $day = 1;
        5   0.00004   0.00000   330: my @months = qw( Jan Feb Mar Apr May Jun Jul
        5   0.00000   0.00000   331: my $t = localtime;
        0   0.00000   0.00000   332:
        5   0.00000   0.00000   333: for (my $i = 0; $i < 13; $i++) {
       65   0.00110   0.00000   334:  $month = $i if ($_[0] =~ /$months[$i]/);
        5   0.00000   0.00000   335: }
        5   0.00006   0.00000   336: if ($_[0] =~ /([\dXE]{4,4})/) {
           ================ SmallProf version 2.02 ================
                           Profile of ./calendar.pl                    Page 7
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   337:  $year = $1;
        0   0.00000   0.00000   338: } else {
        0   0.00000   0.00000   339:  $year = $t->year;
        0   0.00000   0.00000   340:  $year = doz_int($year);
        0   0.00000   0.00000   341: }
        5   0.00004   0.00000   342: $day = $1 if $_[0] =~ /([\d\dXE]{1,2})/;
        5   0.00000   0.00000   343: $day = dec_int($day);
        5   0.00000   0.00000   344: $year = dec_int($year);
        5   0.00000   0.00000   345: $month++;
        5   0.00000   0.00000   346: return julday($year,$month,$day);
        0   0.00000   0.00000   347:}
        0   0.00000   0.00000   348:
        0   0.00000   0.00000   349:# takes a scalar; parses it for dayname,
        0   0.00000   0.00000   350:# returns an array of julian days that match
        0   0.00000   0.00000   351:
        0   0.00000   0.00000   352:sub parse_daynames($)
        0   0.00000   0.00000   353:{
       12   0.00000   0.00000   354: my $temp = $_[0];
       12   0.00000   0.00000   355: my $first = "";
       12   0.00000   0.00000   356: my $last = "";
       12   0.00005   0.00000   357: my @weekdays = qw( Sun Mon Tue Wed Thu Fri
       12   0.00010   0.00000   358: my @months = qw( Jan Feb Mar Apr May Jun Jul
       12   0.00009   0.00000   359: my @monthdays = qw( 31 28 31 30 31 30 31 31
       12   0.00000   0.00000   360: my @range;
       12   0.00000   0.00000   361: my $year;
       12   0.00000   0.01000   362: my $month = -1;
       12   0.00000   0.00000   363: my $day;
       12   0.00000   0.00000   364: my $t = localtime;
       12   0.00000   0.00000   365: my $i = 0;
       12   0.00000   0.01000   366: my $j = 0;
       12   0.00000   0.00000   367: my $weekday;
       12   0.00000   0.00000   368: my $flag = 0;
       12   0.00000   0.00000   369: my $monthname = "";
        0   0.00000   0.00000   370:
       12   0.00001   0.00000   371: while ($temp =~ /--/) {
        1   0.00002   0.00000   372:  ($first,$last)=($temp=~/([A-Z][a-z]+day)--
        1   0.00003   0.00000   373:  $temp =~ s/$first--$last//;
        1   0.00000   0.00000   374:  foreach my $var (@months) {
       10   0.00015   0.00000   375:   last if grep(/$var/,$temp);
        9   0.00000   0.00000   376:   $j++;
        1   0.00000   0.00000   377:  } foreach my $var (@weekdays) {
        4   0.00006   0.00000   378:   last if grep(/$var/,$first);
        3   0.00000   0.00000   379:   $i++;
        0   0.00000   0.00000   380:  }
        1   0.00000   0.00000   381:  $monthname = $months[$j];
        1   0.00002   0.00000   382:  while (!grep(/$weekdays[$i]/,$last)) {
        2   0.00005   0.00000   383:   $temp .= $weekdays[$i++]."day"."
        0   0.00000   0.00000   384:  }
        1   0.00001   0.00000   385:  $temp .= $weekdays[$i++]."day"."
        0   0.00000   0.00000   386: }
       12   0.00000   0.00000   387: $i = 0;
       12   0.00002   0.00000   388: while (($temp =~ /,/) || ($temp !~ /[,]/ &&
       17   0.00019   0.00000   389:  ($first) = ($temp =~ /[^\s\w\d]*([\/-
       17   0.00061   0.00000   390:  $temp =~ s/$first[,]*//;
       17   0.00000   0.00000   391:  foreach my $var (@weekdays) {
      119   0.00195   0.01000   392:   if (grep(/$var/,$first)) {
           ================ SmallProf version 2.02 ================
                           Profile of ./calendar.pl                    Page 8
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   393:    $weekday = $var;
        0   0.00000   0.00000   394:   }
        0   0.00000   0.00000   395:  }
       17   0.00000   0.00000   396:  foreach my $var (@months) {
      221   0.00373   0.02000   397:   if (grep(/$var/,$first)) {
       13   0.00000   0.00000   398:    $flag = 1;
       13   0.00000   0.00000   399:    $i = 0;
       13   0.00004   0.00000   400:    $i++ while $months[$i] ne $var;
       13   0.00000   0.00000   401:    $month = $i + 1;
       13   0.00002   0.00000   402:    if ($first =~ /([\dXE]{4,4})/) {
        1   0.00000   0.00000   403:     $year = $1;
        1   0.00000   0.00000   404:     $year = dec_int($year);
        0   0.00000   0.00000   405:    } else {
       12   0.00002   0.00000   406:     $year = $t->year;
        0   0.00000   0.00000   407:    }
       13   0.00000   0.00000   408:    $day = 1;
       13   0.00000   0.00000   409:    $weekday = lc($weekday);
       13   0.00000   0.00000   410:    $monthdays[1]++ if (leap_year($year)) &&
       13   0.00001   0.00000   411:    $day++ while (lc(day($month,$day,$year))
       13   0.00001   0.00000   412:    while ($day <= @monthdays[$month-1]) {
       59   0.00000   0.00000   413:     push(@range,julday($year,$month,$day));
       59   0.00005   0.00000   414:     $day += 7;
        0   0.00000   0.00000   415:    }
        0   0.00000   0.00000   416:   }
        0   0.00000   0.00000   417:  }
       17   0.00002   0.00000   418:  if ($flag == 0) {
        4   0.00000   0.00000   419:   $month = 1;
        4   0.00001   0.00000   420:   if ($first =~ /([\dXE]{4,4})/) {
        0   0.00000   0.00000   421:    $year = $1;
        0   0.00000   0.00000   422:   } else {
        4   0.00001   0.00000   423:    $year = $t->year;
        0   0.00000   0.00000   424:   }
        4   0.00000   0.00000   425:   $monthdays[1]++ if (leap_year($year)) &&
        4   0.00000   0.00000   426:   $day = 1;
        4   0.00000   0.00000   427:   $weekday = lc($weekday);
        4   0.00000   0.00000   428:   $day++ while (lc(day(1,$day,$year)) ne
        4   0.00001   0.00000   429:   while ($day <= $monthdays[$month-1] &&
      208   0.00000   0.00000   430:    push(@range,julday($year,$month,$day));
      208   0.00004   0.01000   431:    $day += 7;
      208   0.00012   0.01000   432:    if ($day > $monthdays[$month-1]) {
       48   0.00000   0.00000   433:     $month++;
       48   0.00000   0.00000   434:     $day = 1;
       48   0.00003   0.00000   435:     if ($month <= 12) {
        0   0.00000   0.00000   436:      $day++ while
        0   0.00000   0.00000   437:     }
        0   0.00000   0.00000   438:    }
        0   0.00000   0.00000   439:   }
        0   0.00000   0.00000   440:  }
        0   0.00000   0.00000   441: }
       12   0.00032   0.00000   442: return @range;
        0   0.00000   0.00000   443:}
        0   0.00000   0.00000   444:
        0   0.00000   0.00000   445:# takes a scalar (a date field from
        0   0.00000   0.00000   446:# returns a list of dates which meet the
        0   0.00000   0.00000   447:
        0   0.00000   0.00000   448:sub get_dates($)
           ================ SmallProf version 2.02 ================
                           Profile of ./calendar.pl                    Page 9
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   449:{
       42   0.00002   0.01000   450: my $first = ""; # first date of a range
       42   0.00000   0.00000   451: my $last = "";  # last date of a range
       42   0.00000   0.00000   452: my @range = (); # the array of dates which
       42   0.00000   0.00000   453: my $temp;   # placeholder so we don't
        0   0.00000   0.00000   454:
       42   0.00000   0.00000   455: $temp = $_[0];
       42   0.00019   0.01000   456: $temp =~ s/\s//g;
       42   0.00004   0.00000   457: while ($temp =~ /--/ && $temp !~ /day/) {
        8   0.00016   0.00000   458:  ($first,$last)=($temp=~/[^\s\w\d]*([\/-
        8   0.00023   0.00000   459:  $temp =~ s/$first--$last//;
        8   0.00000   0.00000   460:  $first = parse_dates($first) if
        8   0.00000   0.00000   461:  $last = parse_dates($last) if
        8   0.00000   0.00000   462:  push(@range,fill_range($first,$last));
        0   0.00000   0.00000   463: }
       42   0.00003   0.01000   464: while ($temp =~ /,/ && $temp !~ /day/) {
        2   0.00002   0.00000   465:  ($first) = ($temp =~ /[^\s\w\d]*([^;][\/-
        2   0.00006   0.00000   466:  $temp =~ s/$first,//;
        2   0.00000   0.00000   467:  $first = parse_dates($first) if
        2   0.00000   0.00000   468:  push(@range,ind_date($first));
        0   0.00000   0.00000   469: }
       42   0.00002   0.00000   470: if ($temp =~ /day/) {
        0   0.00000   0.00000   471:  @range = parse_daynames($temp);
        0   0.00000   0.00000   472: } else {
       30   0.00000   0.00000   473:  push(@range,ind_date(parse_dates($temp)))
        0   0.00000   0.00000   474:   if parse_dates($temp) != -1;
        0   0.00000   0.00000   475: }
       42   0.00060   0.01000   476: return @range;
        0   0.00000   0.00000   477:}
        0   0.00000   0.00000   478:
        0   0.00000   0.00000   479:# takes a scalar argument, the first field of
        0   0.00000   0.00000   480:# line, and scans it for a time or times;
        0   0.00000   0.00000   481:# of times
        0   0.00000   0.00000   482:
        0   0.00000   0.00000   483:sub get_times($)
        0   0.00000   0.00000   484:{
       21   0.00000   0.00000   485: my @times;
       21   0.00000   0.00000   486: my $temp;
       21   0.00000   0.00000   487: my $i;
        0   0.00000   0.00000   488:
       21   0.00002   0.01000   489: $temp = $_[0];
       21   0.00002   0.00000   490: $temp =~ s/\s//g;
       21   0.00007   0.00000   491: while ($temp =~ /([\dXE]{1,2};[\dXE]{1,4}[-
       10   0.00004   0.00000   492:  push(@times,$1);
       10   0.00027   0.00000   493:  $temp =~ s/$1//;
        0   0.00000   0.00000   494: }
       21   0.00005   0.01000   495: return @times;
        0   0.00000   0.00000   496:}
        0   0.00000   0.00000   497:
        0   0.00000   0.00000   498:# after @calendar is populated, creates the
        0   0.00000   0.00000   499:# the events associated with them; takes no
        0   0.00000   0.00000   500:# nothing
        0   0.00000   0.00000   501:
        0   0.00000   0.00000   502:sub parse_input_file()
        0   0.00000   0.00000   503:{
        1   0.00000   0.00000   504: my @range;
           ================ SmallProf version 2.02 ================
                           Profile of ./calendar.pl                    Page 10
       =================================================================
    count wall tm  cpu time line
        1   0.00000   0.00000   505: my @exceptions;
        1   0.00000   0.00000   506: my @times;
        1   0.00000   0.00000   507: my $times;
        1   0.00000   0.00000   508: my @row;
        1   0.00000   0.00000   509: my @final_range;
        1   0.00000   0.00000   510: my $j = 0;
        0   0.00000   0.00000   511:
        1   0.00000   0.00000   512: for (my $i=0; $i <= $#calendar; ++$i) {
       21   0.00002   0.00000   513:  @range = get_dates($calendar[$i][1]);
       21   0.00004   0.00000   514:  @times = get_times($calendar[$i][2]);
       21   0.00001   0.00000   515:  $times = join(",",@times);
       21   0.00001   0.00000   516:  $times =~ s/--,/--/g;
       21   0.00001   0.00000   517:  @exceptions = get_dates($calendar[$i][3]);
       21   0.00001   0.00000   518:  foreach my $var (@range) {
      523   0.00347   0.01000   519:   @row =
      523   0.00401   0.00000   520:   push @{$eventlist[$j++]},@row if
        0   0.00000   0.00000   521:  }
        1   0.00000   0.00000   522: }
        0   0.00000   0.00000   523:# for (my $i = 0; $i <= $#eventlist; $i++) {
        0   0.00000   0.00000   524:#  for ($j = 0; $j < 4; $j++) {
        0   0.00000   0.00000   525:#   print $eventlist[$i][$j]."\n";
        0   0.00000   0.00000   526:#  }
        0   0.00000   0.00000   527:# }
        0   0.00000   0.00000   528:# my @parseddate;
        0   0.00000   0.00000   529:# for (my $i = 0; $i <= $#eventlist; $i++) {
        0   0.00000   0.00000   530:#  @parseddate =
        0   0.00000   0.00000   531:#  print
        0   0.00000   0.00000   532:#  print " $parseddate[0] $parseddate[1]
        0   0.00000   0.00000   533:# }
        0   0.00000   0.00000   534:}
        0   0.00000   0.00000   535:
        0   0.00000   0.00000   536:# takes day, month, and year; returns a
        0   0.00000   0.00000   537:# dozenalized date
        0   0.00000   0.00000   538:
        0   0.00000   0.00000   539:sub thedate($$$)
        0   0.00000   0.00000   540:{
      378   0.00018   0.01000   541: my $date;
      378   0.00021   0.02000   542: my $year;
      378   0.00016   0.00000   543: my $month;
      378   0.00011   0.00000   544: my $day;
        0   0.00000   0.00000   545:
      378   0.00317   0.03000   546: $year = doz_int($_[2]);
      378   0.00046   0.03000   547: $month = doz_int($_[1]);
      378   0.00042   0.00000   548: $day = doz_int($_[0]);
      378   1.57720   3.81000   549: $date = qx(dozdate -d"$year-$month-$day"
      378   0.01851   0.00000   550: $date =~ s/^\s(.*)\s$/$1/;
      378   0.00972   0.00000   551: return $date;
        0   0.00000   0.00000   552:}
        0   0.00000   0.00000   553:
        0   0.00000   0.00000   554:# request a calendar; takes the year, the
        0   0.00000   0.00000   555:# day, and returns the requested array; if
        0   0.00000   0.00000   556:# gives the entire year; if day is zero,
        0   0.00000   0.00000   557:# month
        0   0.00000   0.00000   558:
        0   0.00000   0.00000   559:sub prod_cal($$$)
        0   0.00000   0.00000   560:{
           ================ SmallProf version 2.02 ================
                           Profile of ./calendar.pl                    Page 11
       =================================================================
    count wall tm  cpu time line
        1   0.00000   0.00000   561: my $i;
        1   0.00000   0.00000   562: my $j;
        1   0.00000   0.00000   563: my $k;
        1   0.00000   0.00000   564: my @parsed;
        0   0.00000   0.00000   565:
        1   0.00000   0.00000   566: for ($i = 0; $i <= $#eventlist; ++$i) {
      516   0.00531   0.03000   567:  @parsed = jultogreg($eventlist[$i][0]);
      516   0.00079   0.00000   568:  if ($parsed[0] == $_[0]) {
      378   0.00032   0.01000   569:   for ($j = 0; $j <= 4; ++$j) {
     1890   0.00380   0.03000   570:
        0   0.00000   0.00000   571:     $parsed[0]) if ($j == 4);
     1890   0.01035   0.02000   572:    $callist[$k][$j]=$eventlist[$i][$j]
        0   0.00000   0.00000   573:     if ($j != 4);
      378   0.00028   0.01000   574:   }
      378   0.00024   0.00000   575:   $k++;
      378   0.00289   0.00000   576:   if ($_[1] != 0) {
        0   0.00000   0.00000   577:    if ($parsed[1] != $_[1]) {
        0   0.00000   0.00000   578:     splice(@callist,(--$k),1);
        0   0.00000   0.00000   579:    } elsif (($parsed[2] != $_[2]) && ($_[2]
        0   0.00000   0.00000   580:     splice(@callist,(--$k),1);
        0   0.00000   0.00000   581:    }
        0   0.00000   0.00000   582:   }
        0   0.00000   0.00000   583:  }
        1   0.00000   0.00000   584: }
        1   0.00030   0.00000   585: return @callist;
        0   0.00000   0.00000   586:}
        0   0.00000   0.00000   587:
        0   0.00000   0.00000   588:# parse the request dates; return an array of
        0   0.00000   0.00000   589:
        0   0.00000   0.00000   590:sub get_input_date($)
        0   0.00000   0.00000   591:{
        1   0.00000   0.00000   592: my $year;
        1   0.00000   0.00000   593: my $month = 0;
        1   0.00000   0.00000   594: my $day = 0;
        1   0.00001   0.00000   595: my @months = qw( Jan Feb Mar Apr May Jun Jul
        1   0.00000   0.00000   596: my $i = 0;
        1   0.00000   0.00000   597: my $whole = "";
        1   0.00000   0.00000   598: my $flag = 0;
        0   0.00000   0.00000   599:
        1   0.00001   0.00000   600: if ($_[0] =~ /([\dXE]{4,4})/) {
        0   0.00000   0.00000   601:  $year = $1;
        0   0.00000   0.00000   602: }
        1   0.00000   0.00000   603: foreach my $var (@months) {
       13   0.00000   0.00000   604:  $i++;
       13   0.00020   0.00000   605:  if ($_[0] =~ $var) {
        0   0.00000   0.00000   606:   $month = doz_int($i);
        0   0.00000   0.00000   607:   $flag = 1;
        0   0.00000   0.00000   608:   last;
        0   0.00000   0.00000   609:  }
        0   0.00000   0.00000   610: }
        1   0.00000   0.00000   611: if ($flag == 1) {
        0   0.00000   0.00000   612:  $day = $1 if ($_[0] =~
        0   0.00000   0.00000   613:  $day = $1 if ($_[0] =~
        0   0.00000   0.00000   614: }
        1   0.00000   0.00000   615: $whole .= $year;
        1   0.00000   0.00000   616: if ($month eq "0") {
           ================ SmallProf version 2.02 ================
                           Profile of ./calendar.pl                    Page 12
       =================================================================
    count wall tm  cpu time line
        1   0.00011   0.00000   617:  if ($_[0] =~ /($year.*?([\dXE]{1,2}))/) {
        0   0.00000   0.00000   618:   $month = $2;
        0   0.00000   0.00000   619:   $whole = $1;
        0   0.00000   0.00000   620:  } elsif ($_[0] =~
        0   0.00000   0.00000   621:   $month = $2;
        0   0.00000   0.00000   622:   $whole = $1;
        0   0.00000   0.00000   623:  }
        0   0.00000   0.00000   624: }
        1   0.00000   0.00000   625: if ($day eq "0") {
        1   0.00009   0.00000   626:  if ($_[0] =~
        0   0.00000   0.00000   627:   $day = $2;
        0   0.00000   0.00000   628:   $whole = $1;
        0   0.00000   0.00000   629:  } elsif ($_[0] =~
        0   0.00000   0.00000   630:   $day = $2;
        0   0.00000   0.00000   631:   $whole = $1;
        0   0.00000   0.00000   632:  }
        0   0.00000   0.00000   633: }
        1   0.00001   0.00000   634: return ($year,$month,$day);
        0   0.00000   0.00000   635:}
        0   0.00000   0.00000   636:
        0   0.00000   0.00000   637:# parses the requested input date; returns an
        0   0.00000   0.00000   638:# list of the matching appointments/events
        0   0.00000   0.00000   639:
        0   0.00000   0.00000   640:sub parse_it()
        0   0.00000   0.00000   641:{
        1   0.00000   0.00000   642: my $year;
        1   0.00000   0.00000   643: my $month = 0;
        1   0.00000   0.00000   644: my $day = 0;
        1   0.00000   0.00000   645: my $t = localtime;
        1   0.00000   0.00000   646: my @resarray;
        0   0.00000   0.00000   647:
        1   0.00000   0.00000   648: if ($opt_d) {
        0   0.00000   0.00000   649:  ($year,$month,$day) =
        0   0.00000   0.00000   650:  $year = dec_int($year);
        0   0.00000   0.00000   651: } else {
        1   0.00000   0.00000   652:  ($year,$month,$day) = get_input_date($t-
        0   0.00000   0.00000   653: }
        1   0.00000   0.00000   654: $month = dec_int($month);
        1   0.00000   0.00000   655: $day = dec_int($day);
        1   0.00000   0.00000   656: @resarray = prod_cal($year,$month,$day);
        0   0.00000   0.00000   657:# for (my $i = 0; $i <= $#resarray; $i++) {
        0   0.00000   0.00000   658:#  for (my $j = 0; $j < 5; $j++) {
        0   0.00000   0.00000   659:#   print "$resarray[$i][$j] ";
        0   0.00000   0.00000   660:#  }
        0   0.00000   0.00000   661:# }
        1   0.00026   0.00000   662: return @resarray;
        0   0.00000   0.00000   663:}
        0   0.00000   0.00000   664:
        0   0.00000   0.00000   665:# form_string, which formats the parts of the
        0   0.00000   0.00000   666:# time, and name) and sends them back to the
        0   0.00000   0.00000   667:# function; takes the format string, the
        0   0.00000   0.00000   668:# layouts array that we're dealing with, and
        0   0.00000   0.00000   669:# time, and name, and returns the formatted
        0   0.00000   0.00000   670:
        0   0.00000   0.00000   671:sub form_string($$$$$)
        0   0.00000   0.00000   672:{
           ================ SmallProf version 2.02 ================
                           Profile of ./calendar.pl                    Page 13
       =================================================================
    count wall tm  cpu time line
      378   0.00020   0.00000   673: my $date = $_[2];
      378   0.00009   0.00000   674: my $time = $_[3];
      378   0.00010   0.00000   675: my $name = $_[4];
      378   0.00011   0.01000   676: my $i = $_[1];
      378   0.00007   0.01000   677: my $string = $_[0];
      378   0.00007   0.00000   678: my $holder;
      378   0.00013   0.00000   679: my $spacer = " ";
      378   0.00009   0.01000   680: my $numfill = 0;
      378   0.00011   0.00000   681: my $curr;
      378   0.00006   0.00000   682: my $whole;
      378   0.00008   0.00000   683: my $leftjust = 0;
        0   0.00000   0.00000   684:
      378   0.00267   0.00000   685: while ($string =~ /(%.*?([dnt]))/) {
     1020   0.00185   0.00000   686:  $curr = $2;
     1020   0.00105   0.01000   687:  $whole = $1;
     1020   0.03282   0.01000   688:  if ($string =~ /%(.*?)$curr/) {
     1020   0.00196   0.03000   689:   $holder = $1;
     1020   0.00054   0.01000   690:   if ($holder =~ /-/) {
      264   0.00004   0.00000   691:    $leftjust = 1;
      264   0.00109   0.00000   692:    $holder =~ s/-//;
        0   0.00000   0.00000   693:   }
     1020   0.00404   0.01000   694:   if ($holder =~ /([\dXE]+)/) {
      792   0.00023   0.00000   695:    $numfill = dec_int($1);
      792   0.00611   0.00000   696:    if ($holder =~ /([^\d])/) {
        0   0.00000   0.00000   697:     $spacer = $1;
        0   0.00000   0.00000   698:    }
        0   0.00000   0.00000   699:   }
     1020   0.00052   0.02000   700:   if ($curr eq 'd') {
      378   0.00014   0.00000   701:    $numfill -= length($date);
      378   0.00016   0.00000   702:    $spacer x= $numfill;
      378   0.01276   0.00000   703:    $date =~ s/($date)/$spacer$1/ if
      378   0.00008   0.00000   704:    $date =~ s/($date)/$1$spacer/ if
        0   0.00000   0.00000   705:   }
     1020   0.00035   0.02000   706:   if ($curr eq 't') {
      264   0.00007   0.01000   707:    $numfill -= length($time);
      264   0.00008   0.01000   708:    $spacer x= $numfill;
      264   0.00016   0.01000   709:    $time =~ s/($time)/$spacer$1/ if
      264   0.00749   0.01000   710:    $time =~ s/($time)/$1$spacer/ if
        0   0.00000   0.00000   711:   }
     1020   0.00023   0.02000   712:   if ($curr eq 'n') {
      378   0.00019   0.00000   713:    $numfill -= length($name);
      378   0.00008   0.01000   714:    $spacer x= $numfill;
      378   0.00216   0.01000   715:    $name =~ s/($name)/$spacer$1/ if
      378   0.01075   0.01000   716:    $name =~ s/($name)/$1$spacer/ if
        0   0.00000   0.00000   717:   }
        0   0.00000   0.00000   718:  }
     1020   0.00418   0.00000   719:  $string =~ s/%.*?$curr/$date/ if $curr eq
     1020   0.00354   0.00000   720:  $string =~ s/%.*?$curr/$time/ if $curr eq
     1020   0.01022   0.03000   721:  $string =~ s/%.*?$curr/$name/ if $curr eq
        0   0.00000   0.00000   722: }
      378   0.00164   0.03000   723: return $string;
        0   0.00000   0.00000   724:}
        0   0.00000   0.00000   725:
        0   0.00000   0.00000   726:# formats the requeste dates for plain text
        0   0.00000   0.00000   727:# array of the dates, returns nothing
        0   0.00000   0.00000   728:
           ================ SmallProf version 2.02 ================
                           Profile of ./calendar.pl                    Page 14
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   729:sub text_format(\@)
        0   0.00000   0.00000   730:{
        1   0.00000   0.00000   731: my $lastdate = "";  # variable to prevent
        0   0.00000   0.00000   732:         # printing of dates
        1   0.00000   0.00000   733: my $outline = "";
        1   0.00000   0.00000   734: my $date = "";
        1   0.00000   0.00000   735: my $time = "";
        1   0.00000   0.00000   736: my $name = "";
        0   0.00000   0.00000   737:
        1   0.00001   0.00000   738: for (my $i = 0; $i <= $#{$_[0]}; $i++) {
      378   0.00038   0.00000   739:  for (my $j = 0; $j <= $#layouts; $j++) {
      756   0.00935   0.00000   740:   if (grep(/text,
      378   0.00445   0.00000   741:    ($outline) = ($layouts[$j] =~
      378   0.00158   0.01000   742:    $outline =
        0   0.00000   0.00000   743:     $_[0][$i][2]);
        0   0.00000   0.00000   744:#    $outline =~ s/%.*?d/$_[0][$i][4]/;
        0   0.00000   0.00000   745:#    $outline =~ s/%.*?t/$_[0][$i][1]/;
        0   0.00000   0.00000   746:#    $outline =~ s/%.*?n/$_[0][$i][2]/;
      378   0.00038   0.01000   747:    print unbackslash($outline);
        0   0.00000   0.00000   748:   }
      378   0.00007   0.00000   749:  }
        1   0.00000   0.00000   750: }
        0   0.00000   0.00000   751:}
        0   0.00000   0.00000   752:
        0   0.00000   0.00000   753:# checks for a requested output format
        0   0.00000   0.00000   754:# then calls the appropriate function to
        0   0.00000   0.00000   755:# the array of relevant dates, returns
        0   0.00000   0.00000   756:
        0   0.00000   0.00000   757:sub output(\@)
        0   0.00000   0.00000   758:{
        1   0.00000   0.00000   759: my $format = "text";
        0   0.00000   0.00000   760:
        1   0.00000   0.00000   761: $format = $opt_o if ($opt_o);
        1   0.00001   0.00000   762: if ($format eq "text") {
        0   0.00000   0.00000   763:  text_format(@{$_[0]});
        0   0.00000   0.00000   764: } else {
        0   0.00000   0.00000   765:  print STDERR "dozcal error:  the output
        0   0.00000   0.00000   766:  print STDERR "\"$format\" is not
        0   0.00000   0.00000   767:  exit $BAD_OUTPUT_FORMAT;
        0   0.00000   0.00000   768: }
        0   0.00000   0.00000   769:}
        0   0.00000   0.00000   770:
        0   0.00000   0.00000   771:# a function for testing the rest
        0   0.00000   0.00000   772:
        0   0.00000   0.00000   773:sub test_func()
        0   0.00000   0.00000   774:{
        0   0.00000   0.00000   775: my @testarray;
        0   0.00000   0.00000   776: my $i;
        0   0.00000   0.00000   777: my $j;
        0   0.00000   0.00000   778:
        0   0.00000   0.00000   779: @testarray = prod_cal(2011,2,0);
        0   0.00000   0.00000   780: for (my $i = 0; $i <= $#testarray; $i++) {
        0   0.00000   0.00000   781:  for ($j = 0; $j < 5; $j++) {
        0   0.00000   0.00000   782:   print "$testarray[$i][$j] ";
        0   0.00000   0.00000   783:  }
        0   0.00000   0.00000   784: }
           ================ SmallProf version 2.02 ================
                           Profile of ./calendar.pl                    Page 15
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   785:}
        0   0.00000   0.00000   786:
        0   0.00000   0.00000   787:# we all know what this one's for
        0   0.00000   0.00000   788:
        0   0.00000   0.00000   789:sub main()
        0   0.00000   0.00000   790:{
        1   0.00000   0.00000   791: my @datearray;
        0   0.00000   0.00000   792:
        1   0.00000   0.00000   793: use_input_file();
        1   0.00000   0.00000   794: parse_input_file();
        1   0.00000   0.00000   795: @datearray = parse_it();
        1   0.00153   0.00000   796: @datearray = sort { $a->[0] <=> $b->[0] }
        1   0.00001   0.00000   797: output(@datearray);
        0   0.00000   0.00000   798:# test_func();
        0   0.00000   0.00000   799:}
        0   0.00000   0.00000   800:
        1   0.00000   0.00000   801:main();
           ================ SmallProf version 2.02 ================
                  Profile of /usr/lib/perl/5.10/Time/Piece.pm          Page 16
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000     1:# $Id: Piece.pm 82 2009-06-27 13:20:23Z matt
        0   0.00000   0.00000     2:
        0   0.00000   0.00000     3:package Time::Piece;
        0   0.00000   0.00000     4:
        0   0.00000   0.00000     5:use strict;
        0   0.00000   0.00000     6:
        0   0.00000   0.00000     7:require Exporter;
        0   0.00000   0.00000     8:require DynaLoader;
        0   0.00000   0.00000     9:use Time::Seconds;
        0   0.00000   0.00000    10:use Carp;
        0   0.00000   0.00000    11:use Time::Local;
        0   0.00000   0.00000    12:use UNIVERSAL qw(isa);
        0   0.00000   0.00000    13:
        0   0.00000   0.00000    14:our @ISA = qw(Exporter DynaLoader);
        0   0.00000   0.00000    15:
        0   0.00000   0.00000    16:our @EXPORT = qw(
        0   0.00000   0.00000    17:    localtime
        0   0.00000   0.00000    18:    gmtime
        0   0.00000   0.00000    19:);
        0   0.00000   0.00000    20:
        0   0.00000   0.00000    21:our %EXPORT_TAGS = (
        0   0.00000   0.00000    22:    ':override' => 'internal',
        0   0.00000   0.00000    23:    );
        0   0.00000   0.00000    24:
        0   0.00000   0.00000    25:our $VERSION = '1.15';
        0   0.00000   0.00000    26:
        0   0.00000   0.00000    27:bootstrap Time::Piece $VERSION;
        0   0.00000   0.00000    28:
        0   0.00000   0.00000    29:my $DATE_SEP = '-';
        0   0.00000   0.00000    30:my $TIME_SEP = ':';
        0   0.00000   0.00000    31:my @MON_LIST = qw(Jan Feb Mar Apr May Jun Jul
        0   0.00000   0.00000    32:my @FULLMON_LIST = qw(January February March
        0   0.00000   0.00000    33:                      August September
        0   0.00000   0.00000    34:my @DAY_LIST = qw(Sun Mon Tue Wed Thu Fri
        0   0.00000   0.00000    35:my @FULLDAY_LIST = qw(Sunday Monday Tuesday
        0   0.00000   0.00000    36:
        0   0.00000   0.00000    37:use constant 'c_sec' => 0;
        0   0.00000   0.00000    38:use constant 'c_min' => 1;
        0   0.00000   0.00000    39:use constant 'c_hour' => 2;
        0   0.00000   0.00000    40:use constant 'c_mday' => 3;
        0   0.00000   0.00000    41:use constant 'c_mon' => 4;
        0   0.00000   0.00000    42:use constant 'c_year' => 5;
        0   0.00000   0.00000    43:use constant 'c_wday' => 6;
        0   0.00000   0.00000    44:use constant 'c_yday' => 7;
        0   0.00000   0.00000    45:use constant 'c_isdst' => 8;
        0   0.00000   0.00000    46:use constant 'c_epoch' => 9;
        0   0.00000   0.00000    47:use constant 'c_islocal' => 10;
        0   0.00000   0.00000    48:
        0   0.00000   0.00000    49:sub localtime {
      172   0.00066   0.00000    50:    unshift @_, __PACKAGE__ unless eval {
       86   0.00000   0.00000    51:    my $class = shift;
       86   0.00000   0.01000    52:    my $time  = shift;
       86   0.00001   0.00000    53:    $time = time if (!defined $time);
       86   0.00008   0.00000    54:    $class->_mktime($time, 1);
        0   0.00000   0.00000    55:}
        0   0.00000   0.00000    56:
           ================ SmallProf version 2.02 ================
                  Profile of /usr/lib/perl/5.10/Time/Piece.pm          Page 17
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000    57:sub gmtime {
        0   0.00000   0.00000    58:    unshift @_, __PACKAGE__ unless eval {
        0   0.00000   0.00000    59:    my $class = shift;
        0   0.00000   0.00000    60:    my $time  = shift;
        0   0.00000   0.00000    61:    $time = time if (!defined $time);
        0   0.00000   0.00000    62:    $class->_mktime($time, 0);
        0   0.00000   0.00000    63:}
        0   0.00000   0.00000    64:
        0   0.00000   0.00000    65:sub new {
        0   0.00000   0.00000    66:    my $class = shift;
        0   0.00000   0.00000    67:    my ($time) = @_;
        0   0.00000   0.00000    68:
        0   0.00000   0.00000    69:    my $self;
        0   0.00000   0.00000    70:
        0   0.00000   0.00000    71:    if (defined($time)) {
        0   0.00000   0.00000    72:        $self = $class->localtime($time);
        0   0.00000   0.00000    73:    }
        0   0.00000   0.00000    74:    elsif (ref($class) && $class-
        0   0.00000   0.00000    75:        $self = $class->_mktime($class-
        0   0.00000   0.00000    76:    }
        0   0.00000   0.00000    77:    else {
        0   0.00000   0.00000    78:        $self = $class->localtime();
        0   0.00000   0.00000    79:    }
        0   0.00000   0.00000    80:
        0   0.00000   0.00000    81:    return bless $self, $class;
        0   0.00000   0.00000    82:}
        0   0.00000   0.00000    83:
        0   0.00000   0.00000    84:sub parse {
        0   0.00000   0.00000    85:    my $proto = shift;
        0   0.00000   0.00000    86:    my $class = ref($proto) || $proto;
        0   0.00000   0.00000    87:    my @components;
        0   0.00000   0.00000    88:    if (@_ > 1) {
        0   0.00000   0.00000    89:        @components = @_;
        0   0.00000   0.00000    90:    }
        0   0.00000   0.00000    91:    else {
        0   0.00000   0.00000    92:        @components = shift =~
        0   0.00000   0.00000    93:        @components =
        0   0.00000   0.00000    94:    }
        0   0.00000   0.00000    95:    return $class->new(_strftime("%s",
        0   0.00000   0.00000    96:}
        0   0.00000   0.00000    97:
        0   0.00000   0.00000    98:sub _mktime {
       86   0.00002   0.00000    99:    my ($class, $time, $islocal) = @_;
      172   0.00001   0.00000   100:    $class = eval { (ref $class) && (ref
        0   0.00000   0.00000   101:           ? ref $class
        0   0.00000   0.00000   102:           : $class;
       86   0.00000   0.00000   103:    if (ref($time)) {
        0   0.00000   0.00000   104:        $time->[c_epoch] = undef;
        0   0.00000   0.00000   105:        return wantarray ? @$time : bless
        0   0.00000   0.00000   106:    }
       86   0.00123   0.00000   107:    _tzset();
       86   0.00114   0.00000   108:    my @time = $islocal ?
        0   0.00000   0.00000   109:            CORE::localtime($time)
        0   0.00000   0.00000   110:                :
        0   0.00000   0.00000   111:            CORE::gmtime($time);
       86   0.00115   0.00000   112:    wantarray ? @time : bless [@time, $time,
           ================ SmallProf version 2.02 ================
                  Profile of /usr/lib/perl/5.10/Time/Piece.pm          Page 18
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   113:}
        0   0.00000   0.00000   114:
        0   0.00000   0.00000   115:my %_special_exports = (
       86   0.00022   0.00000   116:  localtime => sub { my $c = $_[0]; sub { $c-
        0   0.00000   0.00000   117:  gmtime    => sub { my $c = $_[0]; sub { $c-
        0   0.00000   0.00000   118:);
        0   0.00000   0.00000   119:
        0   0.00000   0.00000   120:sub export {
        0   0.00000   0.00000   121:  my ($class, $to, @methods) = @_;
        0   0.00000   0.00000   122:  for my $method (@methods) {
        0   0.00000   0.00000   123:    if (exists $_special_exports{$method}) {
        0   0.00000   0.00000   124:      no strict 'refs';
        0   0.00000   0.00000   125:      no warnings 'redefine';
        0   0.00000   0.00000   126:      *{$to . "::$method"} =
        0   0.00000   0.00000   127:    } else {
        0   0.00000   0.00000   128:      $class->SUPER::export($to, $method);
        0   0.00000   0.00000   129:    }
        0   0.00000   0.00000   130:  }
        0   0.00000   0.00000   131:}
        0   0.00000   0.00000   132:
        0   0.00000   0.00000   133:sub import {
        0   0.00000   0.00000   134:    # replace CORE::GLOBAL localtime and
        0   0.00000   0.00000   135:    my $class = shift;
        0   0.00000   0.00000   136:    my %params;
        0   0.00000   0.00000   137:    map($params{$_}++,@_,@EXPORT);
        0   0.00000   0.00000   138:    if (delete $params{':override'}) {
        0   0.00000   0.00000   139:        $class->export('CORE::GLOBAL', keys
        0   0.00000   0.00000   140:    }
        0   0.00000   0.00000   141:    else {
        0   0.00000   0.00000   142:        $class->export((caller)[0], keys
        0   0.00000   0.00000   143:    }
        0   0.00000   0.00000   144:}
        0   0.00000   0.00000   145:
        0   0.00000   0.00000   146:## Methods ##
        0   0.00000   0.00000   147:
        0   0.00000   0.00000   148:sub sec {
        0   0.00000   0.00000   149:    my $time = shift;
        0   0.00000   0.00000   150:    $time->[c_sec];
        0   0.00000   0.00000   151:}
        0   0.00000   0.00000   152:
        0   0.00000   0.00000   153:*second = \&sec;
        0   0.00000   0.00000   154:
        0   0.00000   0.00000   155:sub min {
        0   0.00000   0.00000   156:    my $time = shift;
        0   0.00000   0.00000   157:    $time->[c_min];
        0   0.00000   0.00000   158:}
        0   0.00000   0.00000   159:
        0   0.00000   0.00000   160:*minute = \&min;
        0   0.00000   0.00000   161:
        0   0.00000   0.00000   162:sub hour {
        0   0.00000   0.00000   163:    my $time = shift;
        0   0.00000   0.00000   164:    $time->[c_hour];
        0   0.00000   0.00000   165:}
        0   0.00000   0.00000   166:
        0   0.00000   0.00000   167:sub mday {
        0   0.00000   0.00000   168:    my $time = shift;
           ================ SmallProf version 2.02 ================
                  Profile of /usr/lib/perl/5.10/Time/Piece.pm          Page 19
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   169:    $time->[c_mday];
        0   0.00000   0.00000   170:}
        0   0.00000   0.00000   171:
        0   0.00000   0.00000   172:*day_of_month = \&mday;
        0   0.00000   0.00000   173:
        0   0.00000   0.00000   174:sub mon {
        0   0.00000   0.00000   175:    my $time = shift;
        0   0.00000   0.00000   176:    $time->[c_mon] + 1;
        0   0.00000   0.00000   177:}
        0   0.00000   0.00000   178:
        0   0.00000   0.00000   179:sub _mon {
        0   0.00000   0.00000   180:    my $time = shift;
        0   0.00000   0.00000   181:    $time->[c_mon];
        0   0.00000   0.00000   182:}
        0   0.00000   0.00000   183:
        0   0.00000   0.00000   184:sub month {
        0   0.00000   0.00000   185:    my $time = shift;
        0   0.00000   0.00000   186:    if (@_) {
        0   0.00000   0.00000   187:        return $_[$time->[c_mon]];
        0   0.00000   0.00000   188:    }
        0   0.00000   0.00000   189:    elsif (@MON_LIST) {
        0   0.00000   0.00000   190:        return $MON_LIST[$time->[c_mon]];
        0   0.00000   0.00000   191:    }
        0   0.00000   0.00000   192:    else {
        0   0.00000   0.00000   193:        return $time->strftime('%b');
        0   0.00000   0.00000   194:    }
        0   0.00000   0.00000   195:}
        0   0.00000   0.00000   196:
        0   0.00000   0.00000   197:*monname = \&month;
        0   0.00000   0.00000   198:
        0   0.00000   0.00000   199:sub fullmonth {
        0   0.00000   0.00000   200:    my $time = shift;
        0   0.00000   0.00000   201:    if (@_) {
        0   0.00000   0.00000   202:        return $_[$time->[c_mon]];
        0   0.00000   0.00000   203:    }
        0   0.00000   0.00000   204:    elsif (@FULLMON_LIST) {
        0   0.00000   0.00000   205:        return $FULLMON_LIST[$time->[c_mon]];
        0   0.00000   0.00000   206:    }
        0   0.00000   0.00000   207:    else {
        0   0.00000   0.00000   208:        return $time->strftime('%B');
        0   0.00000   0.00000   209:    }
        0   0.00000   0.00000   210:}
        0   0.00000   0.00000   211:
        0   0.00000   0.00000   212:sub year {
       21   0.00000   0.00000   213:    my $time = shift;
       21   0.00004   0.00000   214:    $time->[c_year] + 1900;
        0   0.00000   0.00000   215:}
        0   0.00000   0.00000   216:
        0   0.00000   0.00000   217:sub _year {
        0   0.00000   0.00000   218:    my $time = shift;
        0   0.00000   0.00000   219:    $time->[c_year];
        0   0.00000   0.00000   220:}
        0   0.00000   0.00000   221:
        0   0.00000   0.00000   222:sub yy {
        0   0.00000   0.00000   223:    my $time = shift;
        0   0.00000   0.00000   224:    my $res = $time->[c_year] % 100;
           ================ SmallProf version 2.02 ================
                  Profile of /usr/lib/perl/5.10/Time/Piece.pm          Page 20
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   225:    return $res > 9 ? $res : "0$res";
        0   0.00000   0.00000   226:}
        0   0.00000   0.00000   227:
        0   0.00000   0.00000   228:sub wday {
        0   0.00000   0.00000   229:    my $time = shift;
        0   0.00000   0.00000   230:    $time->[c_wday] + 1;
        0   0.00000   0.00000   231:}
        0   0.00000   0.00000   232:
        0   0.00000   0.00000   233:sub _wday {
        0   0.00000   0.00000   234:    my $time = shift;
        0   0.00000   0.00000   235:    $time->[c_wday];
        0   0.00000   0.00000   236:}
        0   0.00000   0.00000   237:
        0   0.00000   0.00000   238:*day_of_week = \&_wday;
        0   0.00000   0.00000   239:
        0   0.00000   0.00000   240:sub wdayname {
        0   0.00000   0.00000   241:    my $time = shift;
        0   0.00000   0.00000   242:    if (@_) {
        0   0.00000   0.00000   243:        return $_[$time->[c_wday]];
        0   0.00000   0.00000   244:    }
        0   0.00000   0.00000   245:    elsif (@DAY_LIST) {
        0   0.00000   0.00000   246:        return $DAY_LIST[$time->[c_wday]];
        0   0.00000   0.00000   247:    }
        0   0.00000   0.00000   248:    else {
        0   0.00000   0.00000   249:        return $time->strftime('%a');
        0   0.00000   0.00000   250:    }
        0   0.00000   0.00000   251:}
        0   0.00000   0.00000   252:
        0   0.00000   0.00000   253:*day = \&wdayname;
        0   0.00000   0.00000   254:
        0   0.00000   0.00000   255:sub fullday {
        0   0.00000   0.00000   256:    my $time = shift;
        0   0.00000   0.00000   257:    if (@_) {
        0   0.00000   0.00000   258:        return $_[$time->[c_wday]];
        0   0.00000   0.00000   259:    }
        0   0.00000   0.00000   260:    elsif (@FULLDAY_LIST) {
        0   0.00000   0.00000   261:        return $FULLDAY_LIST[$time-
        0   0.00000   0.00000   262:    }
        0   0.00000   0.00000   263:    else {
        0   0.00000   0.00000   264:        return $time->strftime('%A');
        0   0.00000   0.00000   265:    }
        0   0.00000   0.00000   266:}
        0   0.00000   0.00000   267:
        0   0.00000   0.00000   268:sub yday {
        0   0.00000   0.00000   269:    my $time = shift;
        0   0.00000   0.00000   270:    $time->[c_yday];
        0   0.00000   0.00000   271:}
        0   0.00000   0.00000   272:
        0   0.00000   0.00000   273:*day_of_year = \&yday;
        0   0.00000   0.00000   274:
        0   0.00000   0.00000   275:sub isdst {
        0   0.00000   0.00000   276:    my $time = shift;
        0   0.00000   0.00000   277:    $time->[c_isdst];
        0   0.00000   0.00000   278:}
        0   0.00000   0.00000   279:
        0   0.00000   0.00000   280:*daylight_savings = \&isdst;
           ================ SmallProf version 2.02 ================
                  Profile of /usr/lib/perl/5.10/Time/Piece.pm          Page 21
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   281:
        0   0.00000   0.00000   282:# Thanks to Tony Olekshy
        0   0.00000   0.00000   283:sub tzoffset {
        0   0.00000   0.00000   284:    my $time = shift;
        0   0.00000   0.00000   285:
        0   0.00000   0.00000   286:    return Time::Seconds->new(0) unless
        0   0.00000   0.00000   287:
        0   0.00000   0.00000   288:    my $epoch = $time->epoch;
        0   0.00000   0.00000   289:
        0   0.00000   0.00000   290:    my $j = sub {
        0   0.00000   0.00000   291:
        0   0.00000   0.00000   292:        my ($s,$n,$h,$d,$m,$y) = @_; $m += 1;
        0   0.00000   0.00000   293:
        0   0.00000   0.00000   294:        $time->_jd($y, $m, $d, $h, $n, $s);
        0   0.00000   0.00000   295:
        0   0.00000   0.00000   296:    };
        0   0.00000   0.00000   297:
        0   0.00000   0.00000   298:    # Compute floating offset in hours.
        0   0.00000   0.00000   299:    #
        0   0.00000   0.00000   300:    my $delta = 24 * (&$j(CORE::localtime
        0   0.00000   0.00000   301:
        0   0.00000   0.00000   302:    # Return value in seconds rounded to
        0   0.00000   0.00000   303:    return Time::Seconds->new( int($delta *
        0   0.00000   0.00000   304:}
        0   0.00000   0.00000   305:
        0   0.00000   0.00000   306:sub epoch {
        0   0.00000   0.00000   307:    my $time = shift;
        0   0.00000   0.00000   308:    if (defined($time->[c_epoch])) {
        0   0.00000   0.00000   309:        return $time->[c_epoch];
        0   0.00000   0.00000   310:    }
        0   0.00000   0.00000   311:    else {
        0   0.00000   0.00000   312:        my $epoch = $time->[c_islocal] ?
        0   0.00000   0.00000   313:          timelocal(@{$time}[c_sec .. c_mon],
        0   0.00000   0.00000   314:          :
        0   0.00000   0.00000   315:          timegm(@{$time}[c_sec .. c_mon],
        0   0.00000   0.00000   316:        $time->[c_epoch] = $epoch;
        0   0.00000   0.00000   317:        return $epoch;
        0   0.00000   0.00000   318:    }
        0   0.00000   0.00000   319:}
        0   0.00000   0.00000   320:
        0   0.00000   0.00000   321:sub hms {
        0   0.00000   0.00000   322:    my $time = shift;
        0   0.00000   0.00000   323:    my $sep = @_ ? shift(@_) : $TIME_SEP;
        0   0.00000   0.00000   324:    sprintf("%02d$sep%02d$sep%02d", $time-
        0   0.00000   0.00000   325:}
        0   0.00000   0.00000   326:
        0   0.00000   0.00000   327:*time = \&hms;
        0   0.00000   0.00000   328:
        0   0.00000   0.00000   329:sub ymd {
        0   0.00000   0.00000   330:    my $time = shift;
        0   0.00000   0.00000   331:    my $sep = @_ ? shift(@_) : $DATE_SEP;
        0   0.00000   0.00000   332:    sprintf("%d$sep%02d$sep%02d", $time-
        0   0.00000   0.00000   333:}
        0   0.00000   0.00000   334:
        0   0.00000   0.00000   335:*date = \&ymd;
        0   0.00000   0.00000   336:
           ================ SmallProf version 2.02 ================
                  Profile of /usr/lib/perl/5.10/Time/Piece.pm          Page 22
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   337:sub mdy {
        0   0.00000   0.00000   338:    my $time = shift;
        0   0.00000   0.00000   339:    my $sep = @_ ? shift(@_) : $DATE_SEP;
        0   0.00000   0.00000   340:    sprintf("%02d$sep%02d$sep%d", $time->mon,
        0   0.00000   0.00000   341:}
        0   0.00000   0.00000   342:
        0   0.00000   0.00000   343:sub dmy {
        0   0.00000   0.00000   344:    my $time = shift;
        0   0.00000   0.00000   345:    my $sep = @_ ? shift(@_) : $DATE_SEP;
        0   0.00000   0.00000   346:    sprintf("%02d$sep%02d$sep%d", $time-
        0   0.00000   0.00000   347:}
        0   0.00000   0.00000   348:
        0   0.00000   0.00000   349:sub datetime {
        0   0.00000   0.00000   350:    my $time = shift;
        0   0.00000   0.00000   351:    my %seps = (date => $DATE_SEP, T => 'T',
        0   0.00000   0.00000   352:    return join($seps{T}, $time-
        0   0.00000   0.00000   353:}
        0   0.00000   0.00000   354:
        0   0.00000   0.00000   355:
        0   0.00000   0.00000   356:
        0   0.00000   0.00000   357:# Julian Day is always calculated for UT
        0   0.00000   0.00000   358:# of local time
        0   0.00000   0.00000   359:sub julian_day {
        0   0.00000   0.00000   360:    my $time = shift;
        0   0.00000   0.00000   361:    # Correct for localtime
        0   0.00000   0.00000   362:    $time = $time->gmtime( $time->epoch ) if
        0   0.00000   0.00000   363:
        0   0.00000   0.00000   364:    # Calculate the Julian day itself
        0   0.00000   0.00000   365:    my $jd = $time->_jd( $time->year, $time-
        0   0.00000   0.00000   366:                        $time->hour, $time-
        0   0.00000   0.00000   367:
        0   0.00000   0.00000   368:    return $jd;
        0   0.00000   0.00000   369:}
        0   0.00000   0.00000   370:
        0   0.00000   0.00000   371:# MJD is defined as JD - 2400000.5 days
        0   0.00000   0.00000   372:sub mjd {
        0   0.00000   0.00000   373:    return shift->julian_day - 2_400_000.5;
        0   0.00000   0.00000   374:}
        0   0.00000   0.00000   375:
        0   0.00000   0.00000   376:# Internal calculation of Julian date. Needed
        0   0.00000   0.00000   377:# both tzoffset and mjd/jd methods can share
        0   0.00000   0.00000   378:# Algorithm from Hatcher 1984 (QJRAS 25, 53-
        0   0.00000   0.00000   379:#  Hughes et al, 1989, MNRAS, 238, 15
        0   0.00000   0.00000   380:# See: http://adsabs.harvard.edu/cgi-bin/nph-
        0   0.00000   0.00000   381:# for more details
        0   0.00000   0.00000   382:
        0   0.00000   0.00000   383:sub _jd {
        0   0.00000   0.00000   384:    my $self = shift;
        0   0.00000   0.00000   385:    my ($y, $m, $d, $h, $n, $s) = @_;
        0   0.00000   0.00000   386:
        0   0.00000   0.00000   387:    # Adjust input parameters according to
        0   0.00000   0.00000   388:    $y = ( $m > 2 ? $y : $y - 1);
        0   0.00000   0.00000   389:    $m = ( $m > 2 ? $m - 3 : $m + 9);
        0   0.00000   0.00000   390:
        0   0.00000   0.00000   391:    # Calculate the Julian Date (assuming
        0   0.00000   0.00000   392:    my $J = int( 365.25 *( $y + 4712) )
           ================ SmallProf version 2.02 ================
                  Profile of /usr/lib/perl/5.10/Time/Piece.pm          Page 23
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   393:      + int( (30.6 * $m) + 0.5)
        0   0.00000   0.00000   394:        + 59
        0   0.00000   0.00000   395:          + $d
        0   0.00000   0.00000   396:            - 0.5;
        0   0.00000   0.00000   397:
        0   0.00000   0.00000   398:    # Calculate the Gregorian Correction
        0   0.00000   0.00000   399:    my $G = 38 - int( 0.75 *
        0   0.00000   0.00000   400:
        0   0.00000   0.00000   401:    # Calculate the actual Julian Date
        0   0.00000   0.00000   402:    my $JD = $J + $G;
        0   0.00000   0.00000   403:
        0   0.00000   0.00000   404:    # Modify to include hours/mins/secs in
        0   0.00000   0.00000   405:    return $JD + ($h + ($n + $s / 60) / 60) /
        0   0.00000   0.00000   406:}
        0   0.00000   0.00000   407:
        0   0.00000   0.00000   408:sub week {
        0   0.00000   0.00000   409:    my $self = shift;
        0   0.00000   0.00000   410:
        0   0.00000   0.00000   411:    my $J  = $self->julian_day;
        0   0.00000   0.00000   412:    # Julian day is independent of time zone
        0   0.00000   0.00000   413:    # if we are using local time here since
        0   0.00000   0.00000   414:    # to reflect the local time rather than
        0   0.00000   0.00000   415:    $J += ($self->tzoffset/(24*3600)) if
        0   0.00000   0.00000   416:
        0   0.00000   0.00000   417:    # Now that we have the Julian day
        0   0.00000   0.00000   418:    # convert it to an integer Julian Day
        0   0.00000   0.00000   419:    # int (since the day changes at midday we
        0   0.00000   0.00000   420:    # dates to following midnight).
        0   0.00000   0.00000   421:    $J = int($J+0.5);
        0   0.00000   0.00000   422:
        0   0.00000   0.00000   423:    use integer;
        0   0.00000   0.00000   424:    my $d4 = ((($J + 31741 - ($J % 7)) %
        0   0.00000   0.00000   425:    my $L  = $d4 / 1460;
        0   0.00000   0.00000   426:    my $d1 = (($d4 - $L) % 365) + $L;
        0   0.00000   0.00000   427:    return $d1 / 7 + 1;
        0   0.00000   0.00000   428:}
        0   0.00000   0.00000   429:
        0   0.00000   0.00000   430:sub _is_leap_year {
        0   0.00000   0.00000   431:    my $year = shift;
        0   0.00000   0.00000   432:    return (($year %4 == 0) && !($year % 100
        0   0.00000   0.00000   433:               ? 1 : 0;
        0   0.00000   0.00000   434:}
        0   0.00000   0.00000   435:
        0   0.00000   0.00000   436:sub is_leap_year {
        0   0.00000   0.00000   437:    my $time = shift;
        0   0.00000   0.00000   438:    my $year = $time->year;
        0   0.00000   0.00000   439:    return _is_leap_year($year);
        0   0.00000   0.00000   440:}
        0   0.00000   0.00000   441:
        0   0.00000   0.00000   442:my @MON_LAST = qw(31 28 31 30 31 30 31 31 30
        0   0.00000   0.00000   443:
        0   0.00000   0.00000   444:sub month_last_day {
        0   0.00000   0.00000   445:    my $time = shift;
        0   0.00000   0.00000   446:    my $year = $time->year;
        0   0.00000   0.00000   447:    my $_mon = $time->_mon;
        0   0.00000   0.00000   448:    return $MON_LAST[$_mon] + ($_mon == 1 ?
           ================ SmallProf version 2.02 ================
                  Profile of /usr/lib/perl/5.10/Time/Piece.pm          Page 24
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   449:}
        0   0.00000   0.00000   450:
        0   0.00000   0.00000   451:sub strftime {
        0   0.00000   0.00000   452:    my $time = shift;
        0   0.00000   0.00000   453:    my $tzname = $time->[c_islocal] ? '%Z' :
        0   0.00000   0.00000   454:    my $format = @_ ? shift(@_) : "%a, %d %b
        0   0.00000   0.00000   455:    if (!defined $time->[c_wday]) {
        0   0.00000   0.00000   456:        if ($time->[c_islocal]) {
        0   0.00000   0.00000   457:            return _strftime($format,
        0   0.00000   0.00000   458:        }
        0   0.00000   0.00000   459:        else {
        0   0.00000   0.00000   460:            return _strftime($format,
        0   0.00000   0.00000   461:        }
        0   0.00000   0.00000   462:    }
        0   0.00000   0.00000   463:    return _strftime($format,
        0   0.00000   0.00000   464:}
        0   0.00000   0.00000   465:
        0   0.00000   0.00000   466:sub strptime {
        0   0.00000   0.00000   467:    my $time = shift;
        0   0.00000   0.00000   468:    my $string = shift;
        0   0.00000   0.00000   469:    my $format = @_ ? shift(@_) : "%a, %d %b
        0   0.00000   0.00000   470:    my @vals = _strptime($string, $format);
        0   0.00000   0.00000   471:#    warn(sprintf("got vals: %d-%d-%d
        0   0.00000   0.00000   472:    return scalar $time->_mktime(\@vals,
        0   0.00000   0.00000   473:}
        0   0.00000   0.00000   474:
        0   0.00000   0.00000   475:sub day_list {
        0   0.00000   0.00000   476:    shift if ref($_[0]) && $_[0]-
        0   0.00000   0.00000   477:    my @old = @DAY_LIST;
        0   0.00000   0.00000   478:    if (@_) {
        0   0.00000   0.00000   479:        @DAY_LIST = @_;
        0   0.00000   0.00000   480:    }
        0   0.00000   0.00000   481:    return @old;
        0   0.00000   0.00000   482:}
        0   0.00000   0.00000   483:
        0   0.00000   0.00000   484:sub mon_list {
        0   0.00000   0.00000   485:    shift if ref($_[0]) && $_[0]-
        0   0.00000   0.00000   486:    my @old = @MON_LIST;
        0   0.00000   0.00000   487:    if (@_) {
        0   0.00000   0.00000   488:        @MON_LIST = @_;
        0   0.00000   0.00000   489:    }
        0   0.00000   0.00000   490:    return @old;
        0   0.00000   0.00000   491:}
        0   0.00000   0.00000   492:
        0   0.00000   0.00000   493:sub time_separator {
        0   0.00000   0.00000   494:    shift if ref($_[0]) && $_[0]-
        0   0.00000   0.00000   495:    my $old = $TIME_SEP;
        0   0.00000   0.00000   496:    if (@_) {
        0   0.00000   0.00000   497:        $TIME_SEP = $_[0];
        0   0.00000   0.00000   498:    }
        0   0.00000   0.00000   499:    return $old;
        0   0.00000   0.00000   500:}
        0   0.00000   0.00000   501:
        0   0.00000   0.00000   502:sub date_separator {
        0   0.00000   0.00000   503:    shift if ref($_[0]) && $_[0]-
        0   0.00000   0.00000   504:    my $old = $DATE_SEP;
           ================ SmallProf version 2.02 ================
                  Profile of /usr/lib/perl/5.10/Time/Piece.pm          Page 25
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   505:    if (@_) {
        0   0.00000   0.00000   506:        $DATE_SEP = $_[0];
        0   0.00000   0.00000   507:    }
        0   0.00000   0.00000   508:    return $old;
        0   0.00000   0.00000   509:}
        0   0.00000   0.00000   510:
        0   0.00000   0.00000   511:use overload '""' => \&cdate,
        0   0.00000   0.00000   512:             'cmp' => \&str_compare,
        0   0.00000   0.00000   513:             'fallback' => undef;
        0   0.00000   0.00000   514:
        0   0.00000   0.00000   515:sub cdate {
        0   0.00000   0.00000   516:    my $time = shift;
        0   0.00000   0.00000   517:    if ($time->[c_islocal]) {
        0   0.00000   0.00000   518:        return scalar(CORE::localtime($time-
        0   0.00000   0.00000   519:    }
        0   0.00000   0.00000   520:    else {
        0   0.00000   0.00000   521:        return scalar(CORE::gmtime($time-
        0   0.00000   0.00000   522:    }
        0   0.00000   0.00000   523:}
        0   0.00000   0.00000   524:
        0   0.00000   0.00000   525:sub str_compare {
        0   0.00000   0.00000   526:    my ($lhs, $rhs, $reverse) = @_;
        0   0.00000   0.00000   527:    if (UNIVERSAL::isa($rhs, 'Time::Piece'))
        0   0.00000   0.00000   528:        $rhs = "$rhs";
        0   0.00000   0.00000   529:    }
        0   0.00000   0.00000   530:    return $reverse ? $rhs cmp $lhs->cdate :
        0   0.00000   0.00000   531:}
        0   0.00000   0.00000   532:
        0   0.00000   0.00000   533:use overload
        0   0.00000   0.00000   534:        '-' => \&subtract,
        0   0.00000   0.00000   535:        '+' => \&add;
        0   0.00000   0.00000   536:
        0   0.00000   0.00000   537:sub subtract {
        0   0.00000   0.00000   538:    my $time = shift;
        0   0.00000   0.00000   539:    my $rhs = shift;
        0   0.00000   0.00000   540:    if (UNIVERSAL::isa($rhs,
        0   0.00000   0.00000   541:        $rhs = $rhs->seconds;
        0   0.00000   0.00000   542:    }
        0   0.00000   0.00000   543:
        0   0.00000   0.00000   544:    if (shift)
        0   0.00000   0.00000   545:    {
        0   0.00000   0.00000   546: # SWAPED is set (so someone tried an
        0   0.00000   0.00000   547: # Imitate Perl's standard behavior and
        0   0.00000   0.00000   548: # string $time resolves to was subtracted
        0   0.00000   0.00000   549: # classes which override this one and which
        0   0.00000   0.00000   550: # that resolves to something that looks more
        0   0.00000   0.00000   551: # to override this function.
        0   0.00000   0.00000   552: return $rhs - "$time";
        0   0.00000   0.00000   553:    }
        0   0.00000   0.00000   554:
        0   0.00000   0.00000   555:    if (UNIVERSAL::isa($rhs, 'Time::Piece'))
        0   0.00000   0.00000   556:        return Time::Seconds->new($time-
        0   0.00000   0.00000   557:    }
        0   0.00000   0.00000   558:    else {
        0   0.00000   0.00000   559:        # rhs is seconds.
        0   0.00000   0.00000   560:        return $time->_mktime(($time->epoch -
           ================ SmallProf version 2.02 ================
                  Profile of /usr/lib/perl/5.10/Time/Piece.pm          Page 26
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   561:    }
        0   0.00000   0.00000   562:}
        0   0.00000   0.00000   563:
        0   0.00000   0.00000   564:sub add {
        0   0.00000   0.00000   565:    my $time = shift;
        0   0.00000   0.00000   566:    my $rhs = shift;
        0   0.00000   0.00000   567:    if (UNIVERSAL::isa($rhs,
        0   0.00000   0.00000   568:        $rhs = $rhs->seconds;
        0   0.00000   0.00000   569:    }
        0   0.00000   0.00000   570:    croak "Invalid rhs of addition: $rhs" if
        0   0.00000   0.00000   571:
        0   0.00000   0.00000   572:    return $time->_mktime(($time->epoch +
        0   0.00000   0.00000   573:}
        0   0.00000   0.00000   574:
        0   0.00000   0.00000   575:use overload
        0   0.00000   0.00000   576:        '<=>' => \&compare;
        0   0.00000   0.00000   577:
        0   0.00000   0.00000   578:sub get_epochs {
        0   0.00000   0.00000   579:    my ($lhs, $rhs, $reverse) = @_;
        0   0.00000   0.00000   580:    if (!UNIVERSAL::isa($rhs, 'Time::Piece'))
        0   0.00000   0.00000   581:        $rhs = $lhs->new($rhs);
        0   0.00000   0.00000   582:    }
        0   0.00000   0.00000   583:    if ($reverse) {
        0   0.00000   0.00000   584:        return $rhs->epoch, $lhs->epoch;
        0   0.00000   0.00000   585:    }
        0   0.00000   0.00000   586:    return $lhs->epoch, $rhs->epoch;
        0   0.00000   0.00000   587:}
        0   0.00000   0.00000   588:
        0   0.00000   0.00000   589:sub compare {
        0   0.00000   0.00000   590:    my ($lhs, $rhs) = get_epochs(@_);
        0   0.00000   0.00000   591:    return $lhs <=> $rhs;
        0   0.00000   0.00000   592:}
        0   0.00000   0.00000   593:
        0   0.00000   0.00000   594:sub add_months {
        0   0.00000   0.00000   595:    my ($time, $num_months) = @_;
        0   0.00000   0.00000   596:
        0   0.00000   0.00000   597:    croak("add_months requires a number of
        0   0.00000   0.00000   598:
        0   0.00000   0.00000   599:    my $final_month = $time->_mon +
        0   0.00000   0.00000   600:    my $num_years = 0;
        0   0.00000   0.00000   601:    if ($final_month > 11 || $final_month <
        0   0.00000   0.00000   602:        # these two ops required because we
        0   0.00000   0.00000   603:        # want to load POSIX.pm
        0   0.00000   0.00000   604:        $num_years = int($final_month / 12);
        0   0.00000   0.00000   605:        $num_years-- if ($final_month < 0);
        0   0.00000   0.00000   606:
        0   0.00000   0.00000   607:        $final_month = $final_month % 12;
        0   0.00000   0.00000   608:    }
        0   0.00000   0.00000   609:
        0   0.00000   0.00000   610:    my @vals = _mini_mktime($time->sec,
        0   0.00000   0.00000   611:                            $time->mday,
        0   0.00000   0.00000   612:#    warn(sprintf("got vals: %d-%d-%d
        0   0.00000   0.00000   613:    return scalar $time->_mktime(\@vals,
        0   0.00000   0.00000   614:}
        0   0.00000   0.00000   615:
        0   0.00000   0.00000   616:sub add_years {
           ================ SmallProf version 2.02 ================
                  Profile of /usr/lib/perl/5.10/Time/Piece.pm          Page 27
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   617:    my ($time, $years) = @_;
        0   0.00000   0.00000   618:    $time->add_months($years * 12);
        0   0.00000   0.00000   619:}
        0   0.00000   0.00000   620:
        0   0.00000   0.00000   621:1;
        0   0.00000   0.00000   622:__END__
           ================ SmallProf version 2.02 ================
              Profile of /usr/local/share/perl/5.10.1/Date/Day.pm      Page 28
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000     1:package Date::Day;
        0   0.00000   0.00000     2:
        0   0.00000   0.00000     3:use strict;
        0   0.00000   0.00000     4:use vars qw($VERSION @ISA @EXPORT
        0   0.00000   0.00000     5:
        0   0.00000   0.00000     6:require Exporter;
        0   0.00000   0.00000     7:
        0   0.00000   0.00000     8:@ISA = qw(Exporter AutoLoader);
        0   0.00000   0.00000     9:@EXPORT = qw(
        0   0.00000   0.00000    10:&day
        0   0.00000   0.00000    11:);
        0   0.00000   0.00000    12:$VERSION = '1.04';
        0   0.00000   0.00000    13:
        0   0.00000   0.00000    14:sub day
        0   0.00000   0.00000    15:{
        0   0.00000   0.00000    16:
      235   0.00002   0.01000    17:my $m = @_[0];
      235   0.00003   0.02000    18:my $d = @_[1];
      235   0.00000   0.00000    19:my $y = @_[2];
        0   0.00000   0.00000    20:
      235   0.00117   0.00000    21:if($m !~ /[\d]{1,2}/ || $m > 12  || $m < 1 ){
      235   0.00087   0.03000    22:if($d !~ /[\d]{1,2}/ || $d > 31  || $d < 1 ){
      235   0.00079   0.00000    23:if($y !~ /[\d]+/ || $y < 1 ){ return "ERR"; }
        0   0.00000   0.00000    24:
      235   0.00160   0.01000    25:my
      235   0.00168   0.00000    26:my
        0   0.00000   0.00000    27:
      235   0.00000   0.00000    28:if($m == 1){ $y--; }
      235   0.00005   0.03000    29:if($m == 2){ $y--; }
        0   0.00000   0.00000    30:
      235   0.00000   0.01000    31:$m = int($m);
      235   0.00002   0.01000    32:$d = int($d);
      235   0.00006   0.00000    33:$y = int($y);
        0   0.00000   0.00000    34:
      235   0.00095   0.00000    35:my $wday = (($d+$month{$m}+$y+(int($y/4))-
      235   0.00243   0.00000    36:return $weekday{$wday};
        0   0.00000   0.00000    37:
        0   0.00000   0.00000    38:}
        0   0.00000   0.00000    39:
        0   0.00000   0.00000    40:1;
        0   0.00000   0.00000    41:__END__
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 29
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000     1:
        0   0.00000   0.00000     2:#############################################
        0   0.00000   0.00000     3:##
        0   0.00000   0.00000     4:##    Copyright (c) 1995 - 2009 by Steffen
        0   0.00000   0.00000     5:##    All rights reserved.
        0   0.00000   0.00000     6:##
        0   0.00000   0.00000     7:##    This package is free software; you can
        0   0.00000   0.00000     8:##    and/or modify it under the same terms
        0   0.00000   0.00000     9:##
        0   0.00000   0.00000    10:#############################################
        0   0.00000   0.00000    11:
        0   0.00000   0.00000    12:package Date::Pcalc;
        0   0.00000   0.00000    13:
        0   0.00000   0.00000    14:BEGIN { eval { require bytes; }; }
        0   0.00000   0.00000    15:use strict;
        0   0.00000   0.00000    16:use vars qw(@ISA @EXPORT @EXPORT_OK
        0   0.00000   0.00000    17:
        0   0.00000   0.00000    18:use Carp::Clan qw(^Date::);
        0   0.00000   0.00000    19:
        0   0.00000   0.00000    20:require Exporter;
        0   0.00000   0.00000    21:require DynaLoader;
        0   0.00000   0.00000    22:
        0   0.00000   0.00000    23:@ISA = qw(Exporter DynaLoader);
        0   0.00000   0.00000    24:
        0   0.00000   0.00000    25:@EXPORT = qw();
        0   0.00000   0.00000    26:
        0   0.00000   0.00000    27:@EXPORT_OK = qw(
        0   0.00000   0.00000    28:    Days_in_Year
        0   0.00000   0.00000    29:    Days_in_Month
        0   0.00000   0.00000    30:    Weeks_in_Year
        0   0.00000   0.00000    31:    leap_year
        0   0.00000   0.00000    32:    check_date
        0   0.00000   0.00000    33:    check_time
        0   0.00000   0.00000    34:    check_business_date
        0   0.00000   0.00000    35:    Day_of_Year
        0   0.00000   0.00000    36:    Date_to_Days
        0   0.00000   0.00000    37:    Day_of_Week
        0   0.00000   0.00000    38:    Week_Number
        0   0.00000   0.00000    39:    Week_of_Year
        0   0.00000   0.00000    40:    Monday_of_Week
        0   0.00000   0.00000    41:    Nth_Weekday_of_Month_Year
        0   0.00000   0.00000    42:    Standard_to_Business
        0   0.00000   0.00000    43:    Business_to_Standard
        0   0.00000   0.00000    44:    Delta_Days
        0   0.00000   0.00000    45:    Delta_DHMS
        0   0.00000   0.00000    46:    Delta_YMD
        0   0.00000   0.00000    47:    Delta_YMDHMS
        0   0.00000   0.00000    48:    N_Delta_YMD
        0   0.00000   0.00000    49:    N_Delta_YMDHMS
        0   0.00000   0.00000    50:    Normalize_DHMS
        0   0.00000   0.00000    51:    Add_Delta_Days
        0   0.00000   0.00000    52:    Add_Delta_DHMS
        0   0.00000   0.00000    53:    Add_Delta_YM
        0   0.00000   0.00000    54:    Add_Delta_YMD
        0   0.00000   0.00000    55:    Add_Delta_YMDHMS
        0   0.00000   0.00000    56:    Add_N_Delta_YMD
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 30
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000    57:    Add_N_Delta_YMDHMS
        0   0.00000   0.00000    58:    System_Clock
        0   0.00000   0.00000    59:    Today
        0   0.00000   0.00000    60:    Now
        0   0.00000   0.00000    61:    Today_and_Now
        0   0.00000   0.00000    62:    This_Year
        0   0.00000   0.00000    63:    Gmtime
        0   0.00000   0.00000    64:    Localtime
        0   0.00000   0.00000    65:    Mktime
        0   0.00000   0.00000    66:    Timezone
        0   0.00000   0.00000    67:    Date_to_Time
        0   0.00000   0.00000    68:    Time_to_Date
        0   0.00000   0.00000    69:    Easter_Sunday
        0   0.00000   0.00000    70:    Decode_Month
        0   0.00000   0.00000    71:    Decode_Day_of_Week
        0   0.00000   0.00000    72:    Decode_Language
        0   0.00000   0.00000    73:    Decode_Date_EU
        0   0.00000   0.00000    74:    Decode_Date_US
        0   0.00000   0.00000    75:    Fixed_Window
        0   0.00000   0.00000    76:    Moving_Window
        0   0.00000   0.00000    77:    Compress
        0   0.00000   0.00000    78:    Uncompress
        0   0.00000   0.00000    79:    check_compressed
        0   0.00000   0.00000    80:    Compressed_to_Text
        0   0.00000   0.00000    81:    Date_to_Text
        0   0.00000   0.00000    82:    Date_to_Text_Long
        0   0.00000   0.00000    83:    English_Ordinal
        0   0.00000   0.00000    84:    Calendar
        0   0.00000   0.00000    85:    Month_to_Text
        0   0.00000   0.00000    86:    Day_of_Week_to_Text
        0   0.00000   0.00000    87:    Day_of_Week_Abbreviation
        0   0.00000   0.00000    88:    Language_to_Text
        0   0.00000   0.00000    89:    Language
        0   0.00000   0.00000    90:    Languages
        0   0.00000   0.00000    91:    Decode_Date_EU2
        0   0.00000   0.00000    92:    Decode_Date_US2
        0   0.00000   0.00000    93:    Parse_Date
        0   0.00000   0.00000    94:    ISO_LC
        0   0.00000   0.00000    95:    ISO_UC
        0   0.00000   0.00000    96:);
        0   0.00000   0.00000    97:
        0   0.00000   0.00000    98:%EXPORT_TAGS = (all => [@EXPORT_OK]);
        0   0.00000   0.00000    99:
        0   0.00000   0.00000   100:#############################################
        0   0.00000   0.00000   101:##
        0   0.00000   0.00000   102:##  "Version()" is available but not exported
        0   0.00000   0.00000   103:##  in order to avoid possible name clashes.
        0   0.00000   0.00000   104:##  Call with "Date::Pcalc::Version()"
        0   0.00000   0.00000   105:##
        0   0.00000   0.00000   106:#############################################
        0   0.00000   0.00000   107:
        0   0.00000   0.00000   108:$VERSION = '6.1';
        0   0.00000   0.00000   109:
        0   0.00000   0.00000   110:sub Version
        0   0.00000   0.00000   111:{
        0   0.00000   0.00000   112:    return $VERSION;
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 31
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   113:}
        0   0.00000   0.00000   114:
        0   0.00000   0.00000   115:#################
        0   0.00000   0.00000   116:##             ##
        0   0.00000   0.00000   117:##  Resources  ##
        0   0.00000   0.00000   118:##             ##
        0   0.00000   0.00000   119:#################
        0   0.00000   0.00000   120:
        0   0.00000   0.00000   121:my $DateCalc_YEAR_OF_EPOCH    =   70;   #
        0   0.00000   0.00000   122:my $DateCalc_CENTURY_OF_EPOCH = 1900;   #
        0   0.00000   0.00000   123:my $DateCalc_EPOCH =
        0   0.00000   0.00000   124:
        0   0.00000   0.00000   125:my $DateCalc_DAYS_TO_EPOCH;
        0   0.00000   0.00000   126:my $DateCalc_DAYS_TO_OVFLW;
        0   0.00000   0.00000   127:my $DateCalc_SECS_TO_OVFLW;
        0   0.00000   0.00000   128:
        0   0.00000   0.00000   129:## MacOS (Classic):
        0   0.00000   0.00000   130:## <695056.0>     = Fri  1-Jan-1904 00:00:00
        0   0.00000   0.00000   131:## <744766.23295> = Mon  6-Feb-2040 06:28:15
        0   0.00000   0.00000   132:
        0   0.00000   0.00000   133:## Unix:
        0   0.00000   0.00000   134:## <719163.0>     = Thu  1-Jan-1970 00:00:00
        0   0.00000   0.00000   135:## <744018.11647> = Tue 19-Jan-2038 03:14:07
        0   0.00000   0.00000   136:
        0   0.00000   0.00000   137:if ($^O eq 'MacOS')
        0   0.00000   0.00000   138:{
        0   0.00000   0.00000   139:    $DateCalc_DAYS_TO_EPOCH = 695056;
        0   0.00000   0.00000   140:    $DateCalc_DAYS_TO_OVFLW = 744766;
        0   0.00000   0.00000   141:    $DateCalc_SECS_TO_OVFLW =  23295;
        0   0.00000   0.00000   142:}
        0   0.00000   0.00000   143:else
        0   0.00000   0.00000   144:{
        0   0.00000   0.00000   145:    $DateCalc_DAYS_TO_EPOCH = 719163;
        0   0.00000   0.00000   146:    $DateCalc_DAYS_TO_OVFLW = 744018;
        0   0.00000   0.00000   147:    $DateCalc_SECS_TO_OVFLW =  11647;
        0   0.00000   0.00000   148:}
        0   0.00000   0.00000   149:
        0   0.00000   0.00000   150:my(@DateCalc_Days_in_Year_) =
        0   0.00000   0.00000   151:(
        0   0.00000   0.00000   152:    [ 0, 0, 31, 59, 90, 120, 151, 181, 212,
        0   0.00000   0.00000   153:    [ 0, 0, 31, 60, 91, 121, 152, 182, 213,
        0   0.00000   0.00000   154:);
        0   0.00000   0.00000   155:
        0   0.00000   0.00000   156:my(@DateCalc_Days_in_Month_) =
        0   0.00000   0.00000   157:(
        0   0.00000   0.00000   158:    [ 0, 31, 28, 31, 30, 31, 30, 31, 31, 30,
        0   0.00000   0.00000   159:    [ 0, 31, 29, 31, 30, 31, 30, 31, 31, 30,
        0   0.00000   0.00000   160:);
        0   0.00000   0.00000   161:
        0   0.00000   0.00000   162:my $DateCalc_LANGUAGES = 14;
        0   0.00000   0.00000   163:
        0   0.00000   0.00000   164:my $DateCalc_Language = 1; # Default = 1
        0   0.00000   0.00000   165:
        0   0.00000   0.00000   166:my(@DateCalc_Month_to_Text_) =
        0   0.00000   0.00000   167:(
        0   0.00000   0.00000   168:    [
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 32
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   169:        "???", "???", "???", "???", "???",
        0   0.00000   0.00000   170:        "???", "???", "???", "???", "???",
        0   0.00000   0.00000   171:    ],
        0   0.00000   0.00000   172:    [
        0   0.00000   0.00000   173:        "???", "January", "February",
        0   0.00000   0.00000   174:        "July", "August", "September",
        0   0.00000   0.00000   175:    ],
        0   0.00000   0.00000   176:    [
        0   0.00000   0.00000   177:        "???", "janvier", "fvrier", "mars",
        0   0.00000   0.00000   178:        "juillet", "aot", "septembre",
        0   0.00000   0.00000   179:    ],
        0   0.00000   0.00000   180:    [
        0   0.00000   0.00000   181:        "???", "Januar", "Februar", "Mrz",
        0   0.00000   0.00000   182:        "Juli", "August", "September",
        0   0.00000   0.00000   183:    ],
        0   0.00000   0.00000   184:    [
        0   0.00000   0.00000   185:        "???", "enero", "febrero", "marzo",
        0   0.00000   0.00000   186:        "julio", "agosto", "septiembre",
        0   0.00000   0.00000   187:    ],
        0   0.00000   0.00000   188:    [
        0   0.00000   0.00000   189:        "???", "janeiro", "fevereiro",
        0   0.00000   0.00000   190:        "julho", "agosto", "setembro",
        0   0.00000   0.00000   191:    ],
        0   0.00000   0.00000   192:    [
        0   0.00000   0.00000   193:        "???", "januari", "februari",
        0   0.00000   0.00000   194:        "juli", "augustus", "september",
        0   0.00000   0.00000   195:    ],
        0   0.00000   0.00000   196:    [
        0   0.00000   0.00000   197:        "???", "Gennaio", "Febbraio",
        0   0.00000   0.00000   198:        "Luglio", "Agosto", "Settembre",
        0   0.00000   0.00000   199:    ],
        0   0.00000   0.00000   200:    [
        0   0.00000   0.00000   201:        "???", "januar", "februar", "mars",
        0   0.00000   0.00000   202:        "juli", "august", "september",
        0   0.00000   0.00000   203:    ],
        0   0.00000   0.00000   204:    [
        0   0.00000   0.00000   205:        "???", "januari", "februari", "mars",
        0   0.00000   0.00000   206:        "juli", "augusti", "september",
        0   0.00000   0.00000   207:    ],
        0   0.00000   0.00000   208:    [
        0   0.00000   0.00000   209:        "???", "januar", "februar", "marts",
        0   0.00000   0.00000   210:        "juli", "august", "september",
        0   0.00000   0.00000   211:    ],
        0   0.00000   0.00000   212:    [
        0   0.00000   0.00000   213:        "???", "tammikuu", "helmikuu",
        0   0.00000   0.00000   214:        "toukokuu", "keskuu", "heinkuu",
        0   0.00000   0.00000   215:        "syyskuu", "lokakuu", "marraskuu",
        0   0.00000   0.00000   216:    ],
        0   0.00000   0.00000   217:    [
        0   0.00000   0.00000   218:        "???", "Janur", "Februr",
        0   0.00000   0.00000   219:        "Jlius", "Augusztus", "Szeptember",
        0   0.00000   0.00000   220:    ],
        0   0.00000   0.00000   221:    [
        0   0.00000   0.00000   222:        "???", "Styczen", "Luty", "Marzec",
        0   0.00000   0.00000   223:        "Lipiec", "Sierpien", "Wrzesien",
        0   0.00000   0.00000   224:    ],
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 33
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   225:    [
        0   0.00000   0.00000   226:        "???", "Ianuarie", "Februarie",
        0   0.00000   0.00000   227:        "Iulie", "August", "Septembrie",
        0   0.00000   0.00000   228:    ]
        0   0.00000   0.00000   229:);
        0   0.00000   0.00000   230:
        0   0.00000   0.00000   231:my(@DateCalc_Day_of_Week_to_Text_) =
        0   0.00000   0.00000   232:(
        0   0.00000   0.00000   233:    [
        0   0.00000   0.00000   234:        "???", "???", "???", "???",
        0   0.00000   0.00000   235:        "???", "???", "???", "???"
        0   0.00000   0.00000   236:    ],
        0   0.00000   0.00000   237:    [
        0   0.00000   0.00000   238:        "???", "Monday", "Tuesday",
        0   0.00000   0.00000   239:        "Thursday", "Friday", "Saturday",
        0   0.00000   0.00000   240:    ],
        0   0.00000   0.00000   241:    [
        0   0.00000   0.00000   242:        "???", "Lundi", "Mardi", "Mercredi",
        0   0.00000   0.00000   243:        "Jeudi", "Vendredi", "Samedi",
        0   0.00000   0.00000   244:    ],
        0   0.00000   0.00000   245:    [
        0   0.00000   0.00000   246:        "???", "Montag", "Dienstag",
        0   0.00000   0.00000   247:        "Donnerstag", "Freitag", "Samstag",
        0   0.00000   0.00000   248:    ],
        0   0.00000   0.00000   249:    [
        0   0.00000   0.00000   250:        "???", "Lunes", "Martes",
        0   0.00000   0.00000   251:        "Jueves", "Viernes", "Sbado",
        0   0.00000   0.00000   252:    ],
        0   0.00000   0.00000   253:    [
        0   0.00000   0.00000   254:        "???", "Segunda-feira", "Tera-
        0   0.00000   0.00000   255:        "Quinta-feira", "Sexta-feira",
        0   0.00000   0.00000   256:    ],
        0   0.00000   0.00000   257:    [
        0   0.00000   0.00000   258:        "???", "Maandag", "Dinsdag",
        0   0.00000   0.00000   259:        "Donderdag", "Vrijdag", "Zaterdag",
        0   0.00000   0.00000   260:    ],
        0   0.00000   0.00000   261:    [
        0   0.00000   0.00000   262:        "???", "Luned", "Marted",
        0   0.00000   0.00000   263:        "Gioved", "Venerd", "Sabato",
        0   0.00000   0.00000   264:    ],
        0   0.00000   0.00000   265:    [
        0   0.00000   0.00000   266:        "???", "mandag", "tirsdag", "onsdag",
        0   0.00000   0.00000   267:        "torsdag", "fredag", "lrdag",
        0   0.00000   0.00000   268:    ],
        0   0.00000   0.00000   269:    [
        0   0.00000   0.00000   270:        "???", "mndag", "tisdag", "onsdag",
        0   0.00000   0.00000   271:        "torsdag", "fredag", "lrdag",
        0   0.00000   0.00000   272:    ],
        0   0.00000   0.00000   273:    [
        0   0.00000   0.00000   274:        "???", "mandag", "tirsdag", "onsdag",
        0   0.00000   0.00000   275:        "torsdag", "fredag", "lrdag",
        0   0.00000   0.00000   276:    ],
        0   0.00000   0.00000   277:    [
        0   0.00000   0.00000   278:        "???", "maanantai", "tiistai",
        0   0.00000   0.00000   279:        "torstai", "perjantai", "lauantai",
        0   0.00000   0.00000   280:    ],
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 34
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   281:    [
        0   0.00000   0.00000   282:        "???", "htf", "kedd", "szerda",
        0   0.00000   0.00000   283:        "cstrtk", "pntek", "szombat",
        0   0.00000   0.00000   284:    ],
        0   0.00000   0.00000   285:    [
        0   0.00000   0.00000   286:        "???", "poniedzialek", "wtorek",
        0   0.00000   0.00000   287:        "czwartek", "piatek", "sobota",
        0   0.00000   0.00000   288:    ],
        0   0.00000   0.00000   289:    [
        0   0.00000   0.00000   290:        "???", "Luni", "Marti", "Miercuri",
        0   0.00000   0.00000   291:        "Joi", "Vineri", "Sambata",
        0   0.00000   0.00000   292:    ]
        0   0.00000   0.00000   293:);
        0   0.00000   0.00000   294:
        0   0.00000   0.00000   295:my(@DateCalc_Day_of_Week_Abbreviation_) =
        0   0.00000   0.00000   296:(
        0   0.00000   0.00000   297:    #  Fill the fields below _only_ if
        0   0.00000   0.00000   298:    #  Note that the first field serves as a
        0   0.00000   0.00000   299:    [
        0   0.00000   0.00000   300:        "", "", "", "", "", "", "", ""    #
        0   0.00000   0.00000   301:    ],
        0   0.00000   0.00000   302:    [
        0   0.00000   0.00000   303:        "", "", "", "", "", "", "", ""    #
        0   0.00000   0.00000   304:    ],
        0   0.00000   0.00000   305:    [
        0   0.00000   0.00000   306:        "", "", "", "", "", "", "", ""    #
        0   0.00000   0.00000   307:    ],
        0   0.00000   0.00000   308:    [
        0   0.00000   0.00000   309:        "", "", "", "", "", "", "", ""    #
        0   0.00000   0.00000   310:    ],
        0   0.00000   0.00000   311:    [
        0   0.00000   0.00000   312:        "", "", "", "", "", "", "", ""    #
        0   0.00000   0.00000   313:    ],
        0   0.00000   0.00000   314:    [
        0   0.00000   0.00000   315:        "", "", "", "", "", "", "", ""    #
        0   0.00000   0.00000   316:#       "???", "2", "3", "4", "5", "6",
        0   0.00000   0.00000   317:    ],
        0   0.00000   0.00000   318:    [
        0   0.00000   0.00000   319:        "", "", "", "", "", "", "", ""    #
        0   0.00000   0.00000   320:    ],
        0   0.00000   0.00000   321:    [
        0   0.00000   0.00000   322:        "", "", "", "", "", "", "", ""    #
        0   0.00000   0.00000   323:    ],
        0   0.00000   0.00000   324:    [
        0   0.00000   0.00000   325:        "", "", "", "", "", "", "", ""    #
        0   0.00000   0.00000   326:    ],
        0   0.00000   0.00000   327:    [
        0   0.00000   0.00000   328:        "", "", "", "", "", "", "", ""    #
        0   0.00000   0.00000   329:    ],
        0   0.00000   0.00000   330:    [
        0   0.00000   0.00000   331:        "", "", "", "", "", "", "", ""    #
        0   0.00000   0.00000   332:    ],
        0   0.00000   0.00000   333:    [
        0   0.00000   0.00000   334:        "", "", "", "", "", "", "", ""    #
        0   0.00000   0.00000   335:    ],
        0   0.00000   0.00000   336:    [
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 35
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   337:        "", "", "", "", "", "", "", ""    #
        0   0.00000   0.00000   338:    ],
        0   0.00000   0.00000   339:    [
        0   0.00000   0.00000   340:        "???", "Pn", "Wt", "Sr", "Cz", "Pt",
        0   0.00000   0.00000   341:    ],
        0   0.00000   0.00000   342:    [
        0   0.00000   0.00000   343:        "", "", "", "", "", "", "", ""    #
        0   0.00000   0.00000   344:    ]
        0   0.00000   0.00000   345:);
        0   0.00000   0.00000   346:
        0   0.00000   0.00000   347:my(@DateCalc_English_Ordinals_) =
        0   0.00000   0.00000   348:(
        0   0.00000   0.00000   349:    "th",
        0   0.00000   0.00000   350:    "st",
        0   0.00000   0.00000   351:    "nd",
        0   0.00000   0.00000   352:    "rd"
        0   0.00000   0.00000   353:);
        0   0.00000   0.00000   354:
        0   0.00000   0.00000   355:my(@DateCalc_Date_Long_Format_) =
        0   0.00000   0.00000   356:(
        0   0.00000   0.00000   357:    "%s, %d %s %d",                     #   0
        0   0.00000   0.00000   358:    "%s, %s %s %d",                     #   1
        0   0.00000   0.00000   359:    "%s %d %s %d",                      #   2
        0   0.00000   0.00000   360:    "%s, den %d. %s %d",                #   3
        0   0.00000   0.00000   361:    "%s, %d de %s de %d",               #   4
        0   0.00000   0.00000   362:    "%s, dia %d de %s de %d",           #   5
        0   0.00000   0.00000   363:    "%s, %d %s %d",                     #   6
        0   0.00000   0.00000   364:    "%s, %d %s %d",                     #   7
        0   0.00000   0.00000   365:    "%s, %d. %s %d",                    #   8
        0   0.00000   0.00000   366:    "%s, %d %s %d",                     #   9
        0   0.00000   0.00000   367:    "%s, %d. %s %d",                    #  10
        0   0.00000   0.00000   368:    "%s, %d. %sta %d",                  #  11
        0   0.00000   0.00000   369:    "%d. %s %d., %s",                   #  12
        0   0.00000   0.00000   370:    "%s, %d %s %d",                     #  13
        0   0.00000   0.00000   371:    "%s %d %s %d"                       #  14
        0   0.00000   0.00000   372:);
        0   0.00000   0.00000   373:
        0   0.00000   0.00000   374:my(@DateCalc_Language_to_Text_) =
        0   0.00000   0.00000   375:(
        0   0.00000   0.00000   376:    "???", "English", "Franais", "Deutsch",
        0   0.00000   0.00000   377:    "Portugus", "Nederlands", "Italiano",
        0   0.00000   0.00000   378:    "Dansk", "suomi", "Magyar", "polski",
        0   0.00000   0.00000   379:);
        0   0.00000   0.00000   380:
        0   0.00000   0.00000   381:###############
        0   0.00000   0.00000   382:##           ##
        0   0.00000   0.00000   383:##  Calc.xs  ##
        0   0.00000   0.00000   384:##           ##
        0   0.00000   0.00000   385:###############
        0   0.00000   0.00000   386:
        0   0.00000   0.00000   387:#############################################
        0   0.00000   0.00000   388:##
        0   0.00000   0.00000   389:##    Copyright (c) 1995 - 2009 by Steffen
        0   0.00000   0.00000   390:##    All rights reserved.
        0   0.00000   0.00000   391:##
        0   0.00000   0.00000   392:##    This package is free software; you can
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 36
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   393:##    and/or modify it under the same terms
        0   0.00000   0.00000   394:##
        0   0.00000   0.00000   395:#############################################
        0   0.00000   0.00000   396:
        0   0.00000   0.00000   397:sub DATECALC_USAGE
        0   0.00000   0.00000   398:{
        0   0.00000   0.00000   399:    croak('Usage: Date::Pcalc::' . $_[0]);
        0   0.00000   0.00000   400:}
        0   0.00000   0.00000   401:sub DATECALC_ERROR
        0   0.00000   0.00000   402:{
        0   0.00000   0.00000   403:    croak("Date::Pcalc::$_[0](): $_[1]");
        0   0.00000   0.00000   404:}
        0   0.00000   0.00000   405:sub DATECALC_DATE_ERROR
        0   0.00000   0.00000   406:{
        0   0.00000   0.00000   407:    croak("Date::Pcalc::$_[0](): not a valid
        0   0.00000   0.00000   408:}
        0   0.00000   0.00000   409:sub DATECALC_TIME_ERROR
        0   0.00000   0.00000   410:{
        0   0.00000   0.00000   411:    croak("Date::Pcalc::$_[0](): not a valid
        0   0.00000   0.00000   412:}
        0   0.00000   0.00000   413:sub DATECALC_YEAR_ERROR
        0   0.00000   0.00000   414:{
        0   0.00000   0.00000   415:    croak("Date::Pcalc::$_[0](): year out of
        0   0.00000   0.00000   416:}
        0   0.00000   0.00000   417:sub DATECALC_MONTH_ERROR
        0   0.00000   0.00000   418:{
        0   0.00000   0.00000   419:    croak("Date::Pcalc::$_[0](): month out of
        0   0.00000   0.00000   420:}
        0   0.00000   0.00000   421:sub DATECALC_WEEK_ERROR
        0   0.00000   0.00000   422:{
        0   0.00000   0.00000   423:    croak("Date::Pcalc::$_[0](): week out of
        0   0.00000   0.00000   424:}
        0   0.00000   0.00000   425:sub DATECALC_DAYOFWEEK_ERROR
        0   0.00000   0.00000   426:{
        0   0.00000   0.00000   427:    croak("Date::Pcalc::$_[0](): day of week
        0   0.00000   0.00000   428:}
        0   0.00000   0.00000   429:sub DATECALC_DATE_RANGE_ERROR
        0   0.00000   0.00000   430:{
        0   0.00000   0.00000   431:    croak("Date::Pcalc::$_[0](): date out of
        0   0.00000   0.00000   432:}
        0   0.00000   0.00000   433:sub DATECALC_TIME_RANGE_ERROR
        0   0.00000   0.00000   434:{
        0   0.00000   0.00000   435:    croak("Date::Pcalc::$_[0](): time out of
        0   0.00000   0.00000   436:}
        0   0.00000   0.00000   437:sub DATECALC_FACTOR_ERROR
        0   0.00000   0.00000   438:{
        0   0.00000   0.00000   439:    croak("Date::Pcalc::$_[0](): factor out
        0   0.00000   0.00000   440:}
        0   0.00000   0.00000   441:sub DATECALC_LANGUAGE_ERROR
        0   0.00000   0.00000   442:{
        0   0.00000   0.00000   443:    croak("Date::Pcalc::$_[0](): language not
        0   0.00000   0.00000   444:}
        0   0.00000   0.00000   445:sub DATECALC_SYSTEM_ERROR
        0   0.00000   0.00000   446:{
        0   0.00000   0.00000   447:    croak("Date::Pcalc::$_[0](): not
        0   0.00000   0.00000   448:}
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 37
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   449:sub DATECALC_MEMORY_ERROR
        0   0.00000   0.00000   450:{
        0   0.00000   0.00000   451:    croak("Date::Pcalc::$_[0](): unable to
        0   0.00000   0.00000   452:}
        0   0.00000   0.00000   453:sub DATECALC_STRING_ERROR
        0   0.00000   0.00000   454:{
        0   0.00000   0.00000   455:    croak("Date::Pcalc::$_[0](): argument is
        0   0.00000   0.00000   456:}
        0   0.00000   0.00000   457:sub DATECALC_SCALAR_ERROR
        0   0.00000   0.00000   458:{
        0   0.00000   0.00000   459:    croak("Date::Pcalc::$_[0](): argument is
        0   0.00000   0.00000   460:}
        0   0.00000   0.00000   461:
        0   0.00000   0.00000   462:sub Days_in_Year
        0   0.00000   0.00000   463:{
        0   0.00000   0.00000   464:
        0   0.00000   0.00000   465:    my($year,$month) = @_;
        0   0.00000   0.00000   466:    if ($year > 0)
        0   0.00000   0.00000   467:    {
        0   0.00000   0.00000   468:        if (($month >= 1) and ($month <= 12))
        0   0.00000   0.00000   469:        {
        0   0.00000   0.00000   470:            return
        0   0.00000   0.00000   471:        }
        0   0.00000   0.00000   472:        else {
        0   0.00000   0.00000   473:    }
        0   0.00000   0.00000   474:    else {
        0   0.00000   0.00000   475:}
        0   0.00000   0.00000   476:
        0   0.00000   0.00000   477:sub Days_in_Month
        0   0.00000   0.00000   478:{
        0   0.00000   0.00000   479:
        0   0.00000   0.00000   480:    my($year,$month) = @_;
        0   0.00000   0.00000   481:    if ($year > 0)
        0   0.00000   0.00000   482:    {
        0   0.00000   0.00000   483:        if (($month >= 1) and ($month <= 12))
        0   0.00000   0.00000   484:        {
        0   0.00000   0.00000   485:            return
        0   0.00000   0.00000   486:        }
        0   0.00000   0.00000   487:        else {
        0   0.00000   0.00000   488:    }
        0   0.00000   0.00000   489:    else {
        0   0.00000   0.00000   490:}
        0   0.00000   0.00000   491:
        0   0.00000   0.00000   492:sub Weeks_in_Year
        0   0.00000   0.00000   493:{
        0   0.00000   0.00000   494:    DATECALC_USAGE('Weeks_in_Year($year)')
        0   0.00000   0.00000   495:    my($year) = shift;
        0   0.00000   0.00000   496:    if ($year > 0)
        0   0.00000   0.00000   497:    {
        0   0.00000   0.00000   498:        return DateCalc_Weeks_in_Year($year);
        0   0.00000   0.00000   499:    }
        0   0.00000   0.00000   500:    else {
        0   0.00000   0.00000   501:}
        0   0.00000   0.00000   502:
        0   0.00000   0.00000   503:sub leap_year
        0   0.00000   0.00000   504:{
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 38
       =================================================================
    count wall tm  cpu time line
       17   0.00000   0.00000   505:    DATECALC_USAGE('leap_year($year)') unless
       17   0.00000   0.00000   506:    my($year) = shift;
       17   0.00001   0.00000   507:    if ($year > 0)
        0   0.00000   0.00000   508:    {
        0   0.00000   0.00000   509:        return DateCalc_leap_year($year);
        0   0.00000   0.00000   510:    }
        0   0.00000   0.00000   511:    else { DATECALC_YEAR_ERROR('leap_year');
        0   0.00000   0.00000   512:}
        0   0.00000   0.00000   513:
        0   0.00000   0.00000   514:sub check_date
        0   0.00000   0.00000   515:{
        0   0.00000   0.00000   516:
        0   0.00000   0.00000   517:    my($year,$month,$day) = @_;
        0   0.00000   0.00000   518:    return
        0   0.00000   0.00000   519:}
        0   0.00000   0.00000   520:
        0   0.00000   0.00000   521:sub check_time
        0   0.00000   0.00000   522:{
        0   0.00000   0.00000   523:
        0   0.00000   0.00000   524:    my($hour,$min,$sec) = @_;
        0   0.00000   0.00000   525:    return
        0   0.00000   0.00000   526:}
        0   0.00000   0.00000   527:
        0   0.00000   0.00000   528:sub check_business_date
        0   0.00000   0.00000   529:{
        0   0.00000   0.00000   530:
        0   0.00000   0.00000   531:    my($year,$week,$dow) = @_;
        0   0.00000   0.00000   532:    return
        0   0.00000   0.00000   533:}
        0   0.00000   0.00000   534:
        0   0.00000   0.00000   535:sub Day_of_Year
        0   0.00000   0.00000   536:{
        0   0.00000   0.00000   537:
        0   0.00000   0.00000   538:    my($year,$month,$day) = @_;
        0   0.00000   0.00000   539:    my $retval =
        0   0.00000   0.00000   540:    if ($retval == 0) {
        0   0.00000   0.00000   541:    return $retval;
        0   0.00000   0.00000   542:}
        0   0.00000   0.00000   543:
        0   0.00000   0.00000   544:sub Date_to_Days
        0   0.00000   0.00000   545:{
      288   0.00002   0.01000   546:
      288   0.00000   0.00000   547:    my($year,$month,$day) = @_;
      288   0.00000   0.00000   548:    my $retval =
      288   0.00000   0.00000   549:    if ($retval == 0) {
      288   0.00074   0.00000   550:    return $retval;
        0   0.00000   0.00000   551:}
        0   0.00000   0.00000   552:
        0   0.00000   0.00000   553:sub Day_of_Week
        0   0.00000   0.00000   554:{
        0   0.00000   0.00000   555:
        0   0.00000   0.00000   556:    my($year,$month,$day) = @_;
        0   0.00000   0.00000   557:    my $retval =
        0   0.00000   0.00000   558:    if ($retval == 0) {
        0   0.00000   0.00000   559:    return $retval;
        0   0.00000   0.00000   560:}
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 39
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   561:
        0   0.00000   0.00000   562:sub Week_Number
        0   0.00000   0.00000   563:{
        0   0.00000   0.00000   564:
        0   0.00000   0.00000   565:    my($year,$month,$day) = @_;
        0   0.00000   0.00000   566:    my($retval);
        0   0.00000   0.00000   567:    if
        0   0.00000   0.00000   568:    {
        0   0.00000   0.00000   569:        $retval =
        0   0.00000   0.00000   570:    }
        0   0.00000   0.00000   571:    else {
        0   0.00000   0.00000   572:    return $retval;
        0   0.00000   0.00000   573:}
        0   0.00000   0.00000   574:
        0   0.00000   0.00000   575:sub Week_of_Year
        0   0.00000   0.00000   576:{
        0   0.00000   0.00000   577:
        0   0.00000   0.00000   578:    my($year,$month,$day) = @_;
        0   0.00000   0.00000   579:    my($week);
        0   0.00000   0.00000   580:    if
        0   0.00000   0.00000   581:    {
        0   0.00000   0.00000   582:        if (wantarray) { return($week,$year);
        0   0.00000   0.00000   583:        else           { return $week;
        0   0.00000   0.00000   584:    }
        0   0.00000   0.00000   585:    else {
        0   0.00000   0.00000   586:}
        0   0.00000   0.00000   587:
        0   0.00000   0.00000   588:sub Monday_of_Week
        0   0.00000   0.00000   589:{
        0   0.00000   0.00000   590:
        0   0.00000   0.00000   591:    my($week,$year) = @_;
        0   0.00000   0.00000   592:    my($month,$day);
        0   0.00000   0.00000   593:    if ($year > 0)
        0   0.00000   0.00000   594:    {
        0   0.00000   0.00000   595:        if (($week > 0) and ($week <=
        0   0.00000   0.00000   596:        {
        0   0.00000   0.00000   597:            if
        0   0.00000   0.00000   598:            {
        0   0.00000   0.00000   599:                return($year,$month,$day);
        0   0.00000   0.00000   600:            }
        0   0.00000   0.00000   601:            else {
        0   0.00000   0.00000   602:        }
        0   0.00000   0.00000   603:        else {
        0   0.00000   0.00000   604:    }
        0   0.00000   0.00000   605:    else {
        0   0.00000   0.00000   606:}
        0   0.00000   0.00000   607:
        0   0.00000   0.00000   608:sub Nth_Weekday_of_Month_Year
        0   0.00000   0.00000   609:{
        0   0.00000   0.00000   610:
        0   0.00000   0.00000   611:    my($year,$month,$dow,$n) = @_;
        0   0.00000   0.00000   612:    my($day);
        0   0.00000   0.00000   613:    if ($year > 0)
        0   0.00000   0.00000   614:    {
        0   0.00000   0.00000   615:        if (($month >= 1) and ($month <= 12))
        0   0.00000   0.00000   616:        {
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 40
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   617:            if (($dow >= 1) and ($dow <= 7))
        0   0.00000   0.00000   618:            {
        0   0.00000   0.00000   619:                if (($n >= 1) and ($n <= 5))
        0   0.00000   0.00000   620:                {
        0   0.00000   0.00000   621:                    if
        0   0.00000   0.00000   622:                    {
        0   0.00000   0.00000   623:
        0   0.00000   0.00000   624:                    }
        0   0.00000   0.00000   625:                    else { return(); }
        0   0.00000   0.00000   626:                }
        0   0.00000   0.00000   627:                else {
        0   0.00000   0.00000   628:            }
        0   0.00000   0.00000   629:            else {
        0   0.00000   0.00000   630:        }
        0   0.00000   0.00000   631:        else {
        0   0.00000   0.00000   632:    }
        0   0.00000   0.00000   633:    else {
        0   0.00000   0.00000   634:}
        0   0.00000   0.00000   635:
        0   0.00000   0.00000   636:sub Standard_to_Business
        0   0.00000   0.00000   637:{
        0   0.00000   0.00000   638:
        0   0.00000   0.00000   639:    my($year,$month,$day) = @_;
        0   0.00000   0.00000   640:    my($week,$dow);
        0   0.00000   0.00000   641:    if
        0   0.00000   0.00000   642:    {
        0   0.00000   0.00000   643:        return($year,$week,$dow);
        0   0.00000   0.00000   644:    }
        0   0.00000   0.00000   645:    else {
        0   0.00000   0.00000   646:}
        0   0.00000   0.00000   647:
        0   0.00000   0.00000   648:sub Business_to_Standard
        0   0.00000   0.00000   649:{
        0   0.00000   0.00000   650:
        0   0.00000   0.00000   651:    my($year,$week,$dow) = @_;
        0   0.00000   0.00000   652:    my($month,$day);
        0   0.00000   0.00000   653:    if
        0   0.00000   0.00000   654:    {
        0   0.00000   0.00000   655:        return($year,$month,$day);
        0   0.00000   0.00000   656:    }
        0   0.00000   0.00000   657:    else {
        0   0.00000   0.00000   658:}
        0   0.00000   0.00000   659:
        0   0.00000   0.00000   660:sub Delta_Days
        0   0.00000   0.00000   661:{
        0   0.00000   0.00000   662:
        0   0.00000   0.00000   663:
        0   0.00000   0.00000   664:    my($retval);
        0   0.00000   0.00000   665:    if
        0   0.00000   0.00000   666:
        0   0.00000   0.00000   667:    {
        0   0.00000   0.00000   668:        $retval =
        0   0.00000   0.00000   669:    }
        0   0.00000   0.00000   670:    else { DATECALC_DATE_ERROR('Delta_Days');
        0   0.00000   0.00000   671:    return $retval;
        0   0.00000   0.00000   672:}
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 41
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   673:
        0   0.00000   0.00000   674:sub Delta_DHMS
        0   0.00000   0.00000   675:{
        0   0.00000   0.00000   676:
        0   0.00000   0.00000   677:
        0   0.00000   0.00000   678:    my($Dd,$Dh,$Dm,$Ds);
        0   0.00000   0.00000   679:    if
        0   0.00000   0.00000   680:
        0   0.00000   0.00000   681:    {
        0   0.00000   0.00000   682:        if
        0   0.00000   0.00000   683:
        0   0.00000   0.00000   684:        {
        0   0.00000   0.00000   685:            if
        0   0.00000   0.00000   686:
        0   0.00000   0.00000   687:
        0   0.00000   0.00000   688:            {
        0   0.00000   0.00000   689:                return($Dd,$Dh,$Dm,$Ds);
        0   0.00000   0.00000   690:            }
        0   0.00000   0.00000   691:            else {
        0   0.00000   0.00000   692:        }
        0   0.00000   0.00000   693:        else {
        0   0.00000   0.00000   694:    }
        0   0.00000   0.00000   695:    else { DATECALC_DATE_ERROR('Delta_DHMS');
        0   0.00000   0.00000   696:}
        0   0.00000   0.00000   697:
        0   0.00000   0.00000   698:sub Delta_YMD
        0   0.00000   0.00000   699:{
        0   0.00000   0.00000   700:
        0   0.00000   0.00000   701:
        0   0.00000   0.00000   702:    if
        0   0.00000   0.00000   703:    {
        0   0.00000   0.00000   704:        return($year1,$month1,$day1);
        0   0.00000   0.00000   705:    }
        0   0.00000   0.00000   706:    else { DATECALC_DATE_ERROR('Delta_YMD');
        0   0.00000   0.00000   707:}
        0   0.00000   0.00000   708:
        0   0.00000   0.00000   709:sub Delta_YMDHMS
        0   0.00000   0.00000   710:{
        0   0.00000   0.00000   711:
        0   0.00000   0.00000   712:
        0   0.00000   0.00000   713:    my($D_y,$D_m,$D_d,$Dh,$Dm,$Ds);
        0   0.00000   0.00000   714:    if
        0   0.00000   0.00000   715:
        0   0.00000   0.00000   716:    {
        0   0.00000   0.00000   717:        if
        0   0.00000   0.00000   718:
        0   0.00000   0.00000   719:        {
        0   0.00000   0.00000   720:            if
        0   0.00000   0.00000   721:
        0   0.00000   0.00000   722:
        0   0.00000   0.00000   723:            {
        0   0.00000   0.00000   724:
        0   0.00000   0.00000   725:            }
        0   0.00000   0.00000   726:            else {
        0   0.00000   0.00000   727:        }
        0   0.00000   0.00000   728:        else {
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 42
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   729:    }
        0   0.00000   0.00000   730:    else {
        0   0.00000   0.00000   731:}
        0   0.00000   0.00000   732:
        0   0.00000   0.00000   733:sub N_Delta_YMD
        0   0.00000   0.00000   734:{
        0   0.00000   0.00000   735:
        0   0.00000   0.00000   736:
        0   0.00000   0.00000   737:    if
        0   0.00000   0.00000   738:    {
        0   0.00000   0.00000   739:        return($year1,$month1,$day1);
        0   0.00000   0.00000   740:    }
        0   0.00000   0.00000   741:    else {
        0   0.00000   0.00000   742:}
        0   0.00000   0.00000   743:
        0   0.00000   0.00000   744:sub N_Delta_YMDHMS
        0   0.00000   0.00000   745:{
        0   0.00000   0.00000   746:
        0   0.00000   0.00000   747:
        0   0.00000   0.00000   748:    my($D_y,$D_m,$D_d,$Dhh,$Dmm,$Dss);
        0   0.00000   0.00000   749:    if
        0   0.00000   0.00000   750:
        0   0.00000   0.00000   751:    {
        0   0.00000   0.00000   752:        if
        0   0.00000   0.00000   753:
        0   0.00000   0.00000   754:        {
        0   0.00000   0.00000   755:            if
        0   0.00000   0.00000   756:
        0   0.00000   0.00000   757:
        0   0.00000   0.00000   758:            {
        0   0.00000   0.00000   759:
        0   0.00000   0.00000   760:            }
        0   0.00000   0.00000   761:            else {
        0   0.00000   0.00000   762:        }
        0   0.00000   0.00000   763:        else {
        0   0.00000   0.00000   764:    }
        0   0.00000   0.00000   765:    else {
        0   0.00000   0.00000   766:}
        0   0.00000   0.00000   767:
        0   0.00000   0.00000   768:sub Normalize_DHMS
        0   0.00000   0.00000   769:{
        0   0.00000   0.00000   770:
        0   0.00000   0.00000   771:    my($Dd,$Dh,$Dm,$Ds) = @_;
        0   0.00000   0.00000   772:
        0   0.00000   0.00000   773:    return($Dd,$Dh,$Dm,$Ds);
        0   0.00000   0.00000   774:}
        0   0.00000   0.00000   775:
        0   0.00000   0.00000   776:sub Add_Delta_Days
        0   0.00000   0.00000   777:{
      516   0.00167   0.01000   778:
      516   0.00056   0.00000   779:    my($year,$month,$day,$Dd) = @_;
      516   0.00501   0.00000   780:    if
        0   0.00000   0.00000   781:    {
        0   0.00000   0.00000   782:        return($year,$month,$day);
        0   0.00000   0.00000   783:    }
        0   0.00000   0.00000   784:    else {
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 43
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   785:}
        0   0.00000   0.00000   786:
        0   0.00000   0.00000   787:sub Add_Delta_DHMS
        0   0.00000   0.00000   788:{
        0   0.00000   0.00000   789:
        0   0.00000   0.00000   790:
        0   0.00000   0.00000   791:    if
        0   0.00000   0.00000   792:    {
        0   0.00000   0.00000   793:        if
        0   0.00000   0.00000   794:        {
        0   0.00000   0.00000   795:            if
        0   0.00000   0.00000   796:
        0   0.00000   0.00000   797:
        0   0.00000   0.00000   798:            {
        0   0.00000   0.00000   799:
        0   0.00000   0.00000   800:            }
        0   0.00000   0.00000   801:            else {
        0   0.00000   0.00000   802:        }
        0   0.00000   0.00000   803:        else {
        0   0.00000   0.00000   804:    }
        0   0.00000   0.00000   805:    else {
        0   0.00000   0.00000   806:}
        0   0.00000   0.00000   807:
        0   0.00000   0.00000   808:sub Add_Delta_YM
        0   0.00000   0.00000   809:{
        0   0.00000   0.00000   810:
        0   0.00000   0.00000   811:    my($year,$month,$day,$Dy,$Dm) = @_;
        0   0.00000   0.00000   812:    if
        0   0.00000   0.00000   813:    {
        0   0.00000   0.00000   814:        return($year,$month,$day);
        0   0.00000   0.00000   815:    }
        0   0.00000   0.00000   816:    else {
        0   0.00000   0.00000   817:}
        0   0.00000   0.00000   818:
        0   0.00000   0.00000   819:sub Add_Delta_YMD
        0   0.00000   0.00000   820:{
        0   0.00000   0.00000   821:
        0   0.00000   0.00000   822:    my($year,$month,$day,$Dy,$Dm,$Dd) = @_;
        0   0.00000   0.00000   823:    if
        0   0.00000   0.00000   824:    {
        0   0.00000   0.00000   825:        return($year,$month,$day);
        0   0.00000   0.00000   826:    }
        0   0.00000   0.00000   827:    else {
        0   0.00000   0.00000   828:}
        0   0.00000   0.00000   829:
        0   0.00000   0.00000   830:sub Add_Delta_YMDHMS
        0   0.00000   0.00000   831:{
        0   0.00000   0.00000   832:
        0   0.00000   0.00000   833:
        0   0.00000   0.00000   834:    if
        0   0.00000   0.00000   835:    {
        0   0.00000   0.00000   836:        if
        0   0.00000   0.00000   837:        {
        0   0.00000   0.00000   838:            if
        0   0.00000   0.00000   839:
        0   0.00000   0.00000   840:
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 44
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   841:
        0   0.00000   0.00000   842:            {
        0   0.00000   0.00000   843:
        0   0.00000   0.00000   844:            }
        0   0.00000   0.00000   845:            else {
        0   0.00000   0.00000   846:        }
        0   0.00000   0.00000   847:        else {
        0   0.00000   0.00000   848:    }
        0   0.00000   0.00000   849:    else {
        0   0.00000   0.00000   850:}
        0   0.00000   0.00000   851:
        0   0.00000   0.00000   852:sub Add_N_Delta_YMD
        0   0.00000   0.00000   853:{
        0   0.00000   0.00000   854:
        0   0.00000   0.00000   855:    my($year,$month,$day,$Dy,$Dm,$Dd) = @_;
        0   0.00000   0.00000   856:    if
        0   0.00000   0.00000   857:    {
        0   0.00000   0.00000   858:        return($year,$month,$day);
        0   0.00000   0.00000   859:    }
        0   0.00000   0.00000   860:    else {
        0   0.00000   0.00000   861:}
        0   0.00000   0.00000   862:
        0   0.00000   0.00000   863:sub Add_N_Delta_YMDHMS
        0   0.00000   0.00000   864:{
        0   0.00000   0.00000   865:
        0   0.00000   0.00000   866:
        0   0.00000   0.00000   867:    if
        0   0.00000   0.00000   868:    {
        0   0.00000   0.00000   869:        if
        0   0.00000   0.00000   870:        {
        0   0.00000   0.00000   871:            if
        0   0.00000   0.00000   872:
        0   0.00000   0.00000   873:
        0   0.00000   0.00000   874:
        0   0.00000   0.00000   875:            {
        0   0.00000   0.00000   876:
        0   0.00000   0.00000   877:            }
        0   0.00000   0.00000   878:            else {
        0   0.00000   0.00000   879:        }
        0   0.00000   0.00000   880:        else {
        0   0.00000   0.00000   881:    }
        0   0.00000   0.00000   882:    else {
        0   0.00000   0.00000   883:}
        0   0.00000   0.00000   884:
        0   0.00000   0.00000   885:sub System_Clock
        0   0.00000   0.00000   886:{
        0   0.00000   0.00000   887:    DATECALC_USAGE('System_Clock([$gmt])')
        0   0.00000   0.00000   888:
        0   0.00000   0.00000   889:    if (@_ == 1) { $gmt = shift; }
        0   0.00000   0.00000   890:    else         { $gmt =     0; }
        0   0.00000   0.00000   891:    if
        0   0.00000   0.00000   892:
        0   0.00000   0.00000   893:
        0   0.00000   0.00000   894:                              $gmt))
        0   0.00000   0.00000   895:    {
        0   0.00000   0.00000   896:
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 45
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   897:    }
        0   0.00000   0.00000   898:    else {
        0   0.00000   0.00000   899:}
        0   0.00000   0.00000   900:
        0   0.00000   0.00000   901:sub Today
        0   0.00000   0.00000   902:{
        0   0.00000   0.00000   903:    DATECALC_USAGE('Today([$gmt])') unless
        0   0.00000   0.00000   904:
        0   0.00000   0.00000   905:    if (@_ == 1) { $gmt = shift; }
        0   0.00000   0.00000   906:    else         { $gmt =     0; }
        0   0.00000   0.00000   907:    if
        0   0.00000   0.00000   908:
        0   0.00000   0.00000   909:
        0   0.00000   0.00000   910:                              $gmt))
        0   0.00000   0.00000   911:    {
        0   0.00000   0.00000   912:        return($year,$month,$day);
        0   0.00000   0.00000   913:    }
        0   0.00000   0.00000   914:    else { DATECALC_SYSTEM_ERROR('Today'); }
        0   0.00000   0.00000   915:}
        0   0.00000   0.00000   916:
        0   0.00000   0.00000   917:sub Now
        0   0.00000   0.00000   918:{
        0   0.00000   0.00000   919:    DATECALC_USAGE('Now([$gmt])') unless ((@_
        0   0.00000   0.00000   920:
        0   0.00000   0.00000   921:    if (@_ == 1) { $gmt = shift; }
        0   0.00000   0.00000   922:    else         { $gmt =     0; }
        0   0.00000   0.00000   923:    if
        0   0.00000   0.00000   924:
        0   0.00000   0.00000   925:
        0   0.00000   0.00000   926:                              $gmt))
        0   0.00000   0.00000   927:    {
        0   0.00000   0.00000   928:        return($hour,$min,$sec);
        0   0.00000   0.00000   929:    }
        0   0.00000   0.00000   930:    else { DATECALC_SYSTEM_ERROR('Now'); }
        0   0.00000   0.00000   931:}
        0   0.00000   0.00000   932:
        0   0.00000   0.00000   933:sub Today_and_Now
        0   0.00000   0.00000   934:{
        0   0.00000   0.00000   935:    DATECALC_USAGE('Today_and_Now([$gmt])')
        0   0.00000   0.00000   936:
        0   0.00000   0.00000   937:    if (@_ == 1) { $gmt = shift; }
        0   0.00000   0.00000   938:    else         { $gmt =     0; }
        0   0.00000   0.00000   939:    if
        0   0.00000   0.00000   940:
        0   0.00000   0.00000   941:
        0   0.00000   0.00000   942:                              $gmt))
        0   0.00000   0.00000   943:    {
        0   0.00000   0.00000   944:
        0   0.00000   0.00000   945:    }
        0   0.00000   0.00000   946:    else {
        0   0.00000   0.00000   947:}
        0   0.00000   0.00000   948:
        0   0.00000   0.00000   949:sub This_Year
        0   0.00000   0.00000   950:{
        0   0.00000   0.00000   951:    DATECALC_USAGE('This_Year([$gmt])')
        0   0.00000   0.00000   952:
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 46
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   953:    if (@_ == 1) { $gmt = shift; }
        0   0.00000   0.00000   954:    else         { $gmt =     0; }
        0   0.00000   0.00000   955:    if
        0   0.00000   0.00000   956:
        0   0.00000   0.00000   957:
        0   0.00000   0.00000   958:                              $gmt))
        0   0.00000   0.00000   959:    {
        0   0.00000   0.00000   960:        return($year);
        0   0.00000   0.00000   961:    }
        0   0.00000   0.00000   962:    else {
        0   0.00000   0.00000   963:}
        0   0.00000   0.00000   964:
        0   0.00000   0.00000   965:sub Gmtime
        0   0.00000   0.00000   966:{
        0   0.00000   0.00000   967:    DATECALC_USAGE('Gmtime([time])') unless
        0   0.00000   0.00000   968:
        0   0.00000   0.00000   969:    if (@_ == 1) { $seconds = shift; }
        0   0.00000   0.00000   970:    else         { $seconds =  time; }
        0   0.00000   0.00000   971:    if (($seconds < 0) or ($seconds >
        0   0.00000   0.00000   972:    if (DateCalc_gmtime(\$year,\$month,\$day,
        0   0.00000   0.00000   973:                        \$hour,\$min,\$sec,
        0   0.00000   0.00000   974:                        \$doy,\$dow,\$dst,
        0   0.00000   0.00000   975:                        $seconds))
        0   0.00000   0.00000   976:    {
        0   0.00000   0.00000   977:
        0   0.00000   0.00000   978:    }
        0   0.00000   0.00000   979:    else {
        0   0.00000   0.00000   980:}
        0   0.00000   0.00000   981:
        0   0.00000   0.00000   982:sub Localtime
        0   0.00000   0.00000   983:{
        0   0.00000   0.00000   984:    DATECALC_USAGE('Localtime([time])')
        0   0.00000   0.00000   985:
        0   0.00000   0.00000   986:    if (@_ == 1) { $seconds = shift; }
        0   0.00000   0.00000   987:    else         { $seconds =  time; }
        0   0.00000   0.00000   988:    if (($seconds < 0) or ($seconds >
        0   0.00000   0.00000   989:    if
        0   0.00000   0.00000   990:
        0   0.00000   0.00000   991:                           \$doy,\$dow,\$dst,
        0   0.00000   0.00000   992:                           $seconds))
        0   0.00000   0.00000   993:    {
        0   0.00000   0.00000   994:
        0   0.00000   0.00000   995:    }
        0   0.00000   0.00000   996:    else {
        0   0.00000   0.00000   997:}
        0   0.00000   0.00000   998:
        0   0.00000   0.00000   999:sub Mktime
        0   0.00000   0.00000  1000:{
        0   0.00000   0.00000  1001:
        0   0.00000   0.00000  1002:    my($year,$month,$day,$hour,$min,$sec) =
        0   0.00000   0.00000  1003:    my($seconds);
        0   0.00000   0.00000  1004:    if (DateCalc_mktime(\$seconds,
        0   0.00000   0.00000  1005:    {
        0   0.00000   0.00000  1006:        return $seconds;
        0   0.00000   0.00000  1007:    }
        0   0.00000   0.00000  1008:    else {
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 47
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  1009:}
        0   0.00000   0.00000  1010:
        0   0.00000   0.00000  1011:sub Timezone
        0   0.00000   0.00000  1012:{
        0   0.00000   0.00000  1013:    DATECALC_USAGE('Timezone([time])') unless
        0   0.00000   0.00000  1014:
        0   0.00000   0.00000  1015:    if (@_ == 1) { $when = shift; }
        0   0.00000   0.00000  1016:    else         { $when =  time; }
        0   0.00000   0.00000  1017:    if (($when < 0) or ($when > 0xFFFFFFFF))
        0   0.00000   0.00000  1018:    if
        0   0.00000   0.00000  1019:                          \$hour,\$min,\$sec,
        0   0.00000   0.00000  1020:                          \$dst,$when))
        0   0.00000   0.00000  1021:    {
        0   0.00000   0.00000  1022:
        0   0.00000   0.00000  1023:    }
        0   0.00000   0.00000  1024:    else {
        0   0.00000   0.00000  1025:}
        0   0.00000   0.00000  1026:
        0   0.00000   0.00000  1027:sub Date_to_Time
        0   0.00000   0.00000  1028:{
        0   0.00000   0.00000  1029:
        0   0.00000   0.00000  1030:    my($year,$month,$day,$hour,$min,$sec) =
        0   0.00000   0.00000  1031:    my($seconds);
        0   0.00000   0.00000  1032:    if (DateCalc_date2time(\$seconds,
        0   0.00000   0.00000  1033:    {
        0   0.00000   0.00000  1034:        return $seconds;
        0   0.00000   0.00000  1035:    }
        0   0.00000   0.00000  1036:    else {
        0   0.00000   0.00000  1037:}
        0   0.00000   0.00000  1038:
        0   0.00000   0.00000  1039:sub Time_to_Date
        0   0.00000   0.00000  1040:{
        0   0.00000   0.00000  1041:    DATECALC_USAGE('Time_to_Date([time])')
        0   0.00000   0.00000  1042:
        0   0.00000   0.00000  1043:    if (@_ == 1) { $seconds = shift; }
        0   0.00000   0.00000  1044:    else         { $seconds =  time; }
        0   0.00000   0.00000  1045:    if (($seconds < 0) or ($seconds >
        0   0.00000   0.00000  1046:    if
        0   0.00000   0.00000  1047:    {
        0   0.00000   0.00000  1048:
        0   0.00000   0.00000  1049:    }
        0   0.00000   0.00000  1050:    else {
        0   0.00000   0.00000  1051:}
        0   0.00000   0.00000  1052:
        0   0.00000   0.00000  1053:sub Easter_Sunday
        0   0.00000   0.00000  1054:{
        0   0.00000   0.00000  1055:    DATECALC_USAGE('Easter_Sunday($year)')
        0   0.00000   0.00000  1056:    my($year) = shift;
        0   0.00000   0.00000  1057:    my($month,$day);
        0   0.00000   0.00000  1058:    if (($year > 0) and
        0   0.00000   0.00000  1059:    {
        0   0.00000   0.00000  1060:        return($year,$month,$day);
        0   0.00000   0.00000  1061:    }
        0   0.00000   0.00000  1062:    else {
        0   0.00000   0.00000  1063:}
        0   0.00000   0.00000  1064:
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 48
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  1065:sub Decode_Month
        0   0.00000   0.00000  1066:{
        0   0.00000   0.00000  1067:
        0   0.00000   0.00000  1068:    my($string) = shift;
        0   0.00000   0.00000  1069:    my($lang)   = shift || 0;
        0   0.00000   0.00000  1070:    return
        0   0.00000   0.00000  1071:}
        0   0.00000   0.00000  1072:
        0   0.00000   0.00000  1073:sub Decode_Day_of_Week
        0   0.00000   0.00000  1074:{
        0   0.00000   0.00000  1075:
        0   0.00000   0.00000  1076:    my($string) = shift;
        0   0.00000   0.00000  1077:    my($lang)   = shift || 0;
        0   0.00000   0.00000  1078:    return
        0   0.00000   0.00000  1079:}
        0   0.00000   0.00000  1080:
        0   0.00000   0.00000  1081:sub Decode_Language
        0   0.00000   0.00000  1082:{
        0   0.00000   0.00000  1083:
        0   0.00000   0.00000  1084:    my($string) = shift;
        0   0.00000   0.00000  1085:    return DateCalc_Decode_Language($string);
        0   0.00000   0.00000  1086:}
        0   0.00000   0.00000  1087:
        0   0.00000   0.00000  1088:sub Decode_Date_EU
        0   0.00000   0.00000  1089:{
        0   0.00000   0.00000  1090:
        0   0.00000   0.00000  1091:    my($string) = shift;
        0   0.00000   0.00000  1092:    my($lang)   = shift || 0;
        0   0.00000   0.00000  1093:    my($year,$month,$day);
        0   0.00000   0.00000  1094:    if
        0   0.00000   0.00000  1095:    {
        0   0.00000   0.00000  1096:        return($year,$month,$day);
        0   0.00000   0.00000  1097:    }
        0   0.00000   0.00000  1098:    else { return(); }
        0   0.00000   0.00000  1099:}
        0   0.00000   0.00000  1100:
        0   0.00000   0.00000  1101:sub Decode_Date_US
        0   0.00000   0.00000  1102:{
        0   0.00000   0.00000  1103:
        0   0.00000   0.00000  1104:    my($string) = shift;
        0   0.00000   0.00000  1105:    my($lang)   = shift || 0;
        0   0.00000   0.00000  1106:    my($year,$month,$day);
        0   0.00000   0.00000  1107:    if
        0   0.00000   0.00000  1108:    {
        0   0.00000   0.00000  1109:        return($year,$month,$day);
        0   0.00000   0.00000  1110:    }
        0   0.00000   0.00000  1111:    else { return(); }
        0   0.00000   0.00000  1112:}
        0   0.00000   0.00000  1113:
        0   0.00000   0.00000  1114:sub Fixed_Window
        0   0.00000   0.00000  1115:{
        0   0.00000   0.00000  1116:    DATECALC_USAGE('Fixed_Window($year)')
        0   0.00000   0.00000  1117:    my($year) = shift;
        0   0.00000   0.00000  1118:    return DateCalc_Fixed_Window($year);
        0   0.00000   0.00000  1119:}
        0   0.00000   0.00000  1120:
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 49
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  1121:sub Moving_Window
        0   0.00000   0.00000  1122:{
        0   0.00000   0.00000  1123:    DATECALC_USAGE('Moving_Window($year)')
        0   0.00000   0.00000  1124:    my($year) = shift;
        0   0.00000   0.00000  1125:    return DateCalc_Moving_Window($year);
        0   0.00000   0.00000  1126:}
        0   0.00000   0.00000  1127:
        0   0.00000   0.00000  1128:sub Compress
        0   0.00000   0.00000  1129:{
        0   0.00000   0.00000  1130:
        0   0.00000   0.00000  1131:    my($year,$month,$day) = @_;
        0   0.00000   0.00000  1132:    return
        0   0.00000   0.00000  1133:}
        0   0.00000   0.00000  1134:
        0   0.00000   0.00000  1135:sub Uncompress
        0   0.00000   0.00000  1136:{
        0   0.00000   0.00000  1137:    DATECALC_USAGE('Uncompress($date)')
        0   0.00000   0.00000  1138:    my($date) = shift;
        0   0.00000   0.00000  1139:    my($century,$year,$month,$day);
        0   0.00000   0.00000  1140:    if
        0   0.00000   0.00000  1141:    {
        0   0.00000   0.00000  1142:        return($century,$year,$month,$day);
        0   0.00000   0.00000  1143:    }
        0   0.00000   0.00000  1144:    else { return(); }
        0   0.00000   0.00000  1145:}
        0   0.00000   0.00000  1146:
        0   0.00000   0.00000  1147:sub check_compressed
        0   0.00000   0.00000  1148:{
        0   0.00000   0.00000  1149:    DATECALC_USAGE('check_compressed($date)')
        0   0.00000   0.00000  1150:    my($date) = shift;
        0   0.00000   0.00000  1151:    return DateCalc_check_compressed($date);
        0   0.00000   0.00000  1152:}
        0   0.00000   0.00000  1153:
        0   0.00000   0.00000  1154:sub Compressed_to_Text
        0   0.00000   0.00000  1155:{
        0   0.00000   0.00000  1156:
        0   0.00000   0.00000  1157:    my($date) = shift;
        0   0.00000   0.00000  1158:    my($lang) = shift || 0;
        0   0.00000   0.00000  1159:    return
        0   0.00000   0.00000  1160:}
        0   0.00000   0.00000  1161:
        0   0.00000   0.00000  1162:sub Date_to_Text
        0   0.00000   0.00000  1163:{
        0   0.00000   0.00000  1164:
        0   0.00000   0.00000  1165:    my($year)  = shift;
        0   0.00000   0.00000  1166:    my($month) = shift;
        0   0.00000   0.00000  1167:    my($day)   = shift;
        0   0.00000   0.00000  1168:    my($lang)  = shift || 0;
        0   0.00000   0.00000  1169:    if
        0   0.00000   0.00000  1170:    {
        0   0.00000   0.00000  1171:        return
        0   0.00000   0.00000  1172:    }
        0   0.00000   0.00000  1173:    else {
        0   0.00000   0.00000  1174:}
        0   0.00000   0.00000  1175:
        0   0.00000   0.00000  1176:sub Date_to_Text_Long
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 50
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  1177:{
        0   0.00000   0.00000  1178:
        0   0.00000   0.00000  1179:    my($year)  = shift;
        0   0.00000   0.00000  1180:    my($month) = shift;
        0   0.00000   0.00000  1181:    my($day)   = shift;
        0   0.00000   0.00000  1182:    my($lang)  = shift || 0;
        0   0.00000   0.00000  1183:    if
        0   0.00000   0.00000  1184:    {
        0   0.00000   0.00000  1185:        return
        0   0.00000   0.00000  1186:    }
        0   0.00000   0.00000  1187:    else {
        0   0.00000   0.00000  1188:}
        0   0.00000   0.00000  1189:
        0   0.00000   0.00000  1190:sub English_Ordinal
        0   0.00000   0.00000  1191:{
        0   0.00000   0.00000  1192:
        0   0.00000   0.00000  1193:    my($number) = shift;
        0   0.00000   0.00000  1194:    return DateCalc_English_Ordinal($number);
        0   0.00000   0.00000  1195:}
        0   0.00000   0.00000  1196:
        0   0.00000   0.00000  1197:sub Calendar
        0   0.00000   0.00000  1198:{
        0   0.00000   0.00000  1199:
        0   0.00000   0.00000  1200:    my($year)  = shift;
        0   0.00000   0.00000  1201:    my($month) = shift;
        0   0.00000   0.00000  1202:    my($orthodox,$lang);
        0   0.00000   0.00000  1203:    if    (@_ == 2) { $orthodox = shift;
        0   0.00000   0.00000  1204:    elsif (@_ == 1) { $orthodox = shift;
        0   0.00000   0.00000  1205:    else            { $orthodox =     0;
        0   0.00000   0.00000  1206:    if ($year > 0)
        0   0.00000   0.00000  1207:    {
        0   0.00000   0.00000  1208:        if (($month >= 1) and ($month <= 12))
        0   0.00000   0.00000  1209:        {
        0   0.00000   0.00000  1210:            return
        0   0.00000   0.00000  1211:        }
        0   0.00000   0.00000  1212:        else {
        0   0.00000   0.00000  1213:    }
        0   0.00000   0.00000  1214:    else { DATECALC_YEAR_ERROR('Calendar'); }
        0   0.00000   0.00000  1215:}
        0   0.00000   0.00000  1216:
        0   0.00000   0.00000  1217:sub Month_to_Text
        0   0.00000   0.00000  1218:{
        0   0.00000   0.00000  1219:
        0   0.00000   0.00000  1220:    my($month) = shift;
        0   0.00000   0.00000  1221:    my($lang)  = shift || 0;
        0   0.00000   0.00000  1222:    if (($lang < 1) or ($lang >
        0   0.00000   0.00000  1223:    if (($month >= 1) and ($month <= 12))
        0   0.00000   0.00000  1224:    {
        0   0.00000   0.00000  1225:        return
        0   0.00000   0.00000  1226:    }
        0   0.00000   0.00000  1227:    else {
        0   0.00000   0.00000  1228:}
        0   0.00000   0.00000  1229:
        0   0.00000   0.00000  1230:sub Day_of_Week_to_Text
        0   0.00000   0.00000  1231:{
        0   0.00000   0.00000  1232:
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 51
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  1233:    my($dow)  = shift;
        0   0.00000   0.00000  1234:    my($lang) = shift || 0;
        0   0.00000   0.00000  1235:    if (($lang < 1) or ($lang >
        0   0.00000   0.00000  1236:    if (($dow >= 1) and ($dow <= 7))
        0   0.00000   0.00000  1237:    {
        0   0.00000   0.00000  1238:        return
        0   0.00000   0.00000  1239:    }
        0   0.00000   0.00000  1240:    else {
        0   0.00000   0.00000  1241:}
        0   0.00000   0.00000  1242:
        0   0.00000   0.00000  1243:sub Day_of_Week_Abbreviation
        0   0.00000   0.00000  1244:{
        0   0.00000   0.00000  1245:
        0   0.00000   0.00000  1246:    my($dow)  = shift;
        0   0.00000   0.00000  1247:    my($lang) = shift || 0;
        0   0.00000   0.00000  1248:    if (($lang < 1) or ($lang >
        0   0.00000   0.00000  1249:    if (($dow >= 1) and ($dow <= 7))
        0   0.00000   0.00000  1250:    {
        0   0.00000   0.00000  1251:        if
        0   0.00000   0.00000  1252:        {
        0   0.00000   0.00000  1253:            return
        0   0.00000   0.00000  1254:        }
        0   0.00000   0.00000  1255:        else
        0   0.00000   0.00000  1256:        {
        0   0.00000   0.00000  1257:            return
        0   0.00000   0.00000  1258:        }
        0   0.00000   0.00000  1259:    }
        0   0.00000   0.00000  1260:    else {
        0   0.00000   0.00000  1261:}
        0   0.00000   0.00000  1262:
        0   0.00000   0.00000  1263:sub Language_to_Text
        0   0.00000   0.00000  1264:{
        0   0.00000   0.00000  1265:    DATECALC_USAGE('Language_to_Text($lang)')
        0   0.00000   0.00000  1266:    my($lang) = shift;
        0   0.00000   0.00000  1267:    if (($lang >= 1) and ($lang <=
        0   0.00000   0.00000  1268:    {
        0   0.00000   0.00000  1269:        return
        0   0.00000   0.00000  1270:    }
        0   0.00000   0.00000  1271:    else {
        0   0.00000   0.00000  1272:}
        0   0.00000   0.00000  1273:
        0   0.00000   0.00000  1274:sub Language
        0   0.00000   0.00000  1275:{
        0   0.00000   0.00000  1276:    DATECALC_USAGE('Language([$lang])')
        0   0.00000   0.00000  1277:    my($retval) = $DateCalc_Language;
        0   0.00000   0.00000  1278:    my($lang);
        0   0.00000   0.00000  1279:    if (@_ == 1)
        0   0.00000   0.00000  1280:    {
        0   0.00000   0.00000  1281:        $lang = shift || 0;
        0   0.00000   0.00000  1282:        if (($lang >= 1) and ($lang <=
        0   0.00000   0.00000  1283:        {
        0   0.00000   0.00000  1284:            $DateCalc_Language = $lang;
        0   0.00000   0.00000  1285:        }
        0   0.00000   0.00000  1286:        else {
        0   0.00000   0.00000  1287:    }
        0   0.00000   0.00000  1288:    return $retval;
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 52
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  1289:}
        0   0.00000   0.00000  1290:
        0   0.00000   0.00000  1291:sub Languages
        0   0.00000   0.00000  1292:{
        0   0.00000   0.00000  1293:    DATECALC_USAGE('Languages()') unless (@_
        0   0.00000   0.00000  1294:    return $DateCalc_LANGUAGES;
        0   0.00000   0.00000  1295:}
        0   0.00000   0.00000  1296:
        0   0.00000   0.00000  1297:sub ISO_LC
        0   0.00000   0.00000  1298:{
        0   0.00000   0.00000  1299:    DATECALC_USAGE('ISO_LC($string)') unless
        0   0.00000   0.00000  1300:    my($string) = shift;
        0   0.00000   0.00000  1301:    $string =~ s!([\x41-\x5A\xC0-\xD6\xD8-
        0   0.00000   0.00000  1302:    return $string;
        0   0.00000   0.00000  1303:}
        0   0.00000   0.00000  1304:
        0   0.00000   0.00000  1305:sub ISO_UC
        0   0.00000   0.00000  1306:{
        0   0.00000   0.00000  1307:    DATECALC_USAGE('ISO_UC($string)') unless
        0   0.00000   0.00000  1308:    my($string) = shift;
        0   0.00000   0.00000  1309:    $string =~ s!([\x61-\x7A\xE0-\xF6\xF8-
        0   0.00000   0.00000  1310:    return $string;
        0   0.00000   0.00000  1311:}
        0   0.00000   0.00000  1312:
        0   0.00000   0.00000  1313:##################
        0   0.00000   0.00000  1314:##              ##
        0   0.00000   0.00000  1315:##  DateCalc.c  ##
        0   0.00000   0.00000  1316:##              ##
        0   0.00000   0.00000  1317:##################
        0   0.00000   0.00000  1318:
        0   0.00000   0.00000  1319:########################
        0   0.00000   0.00000  1320:## Private functions: ##
        0   0.00000   0.00000  1321:########################
        0   0.00000   0.00000  1322:
        0   0.00000   0.00000  1323:sub DateCalc_is_digit
        0   0.00000   0.00000  1324:{
        0   0.00000   0.00000  1325:    return 1 if ($_[0] =~ /^[0-9]+$/);
        0   0.00000   0.00000  1326:    return 0;
        0   0.00000   0.00000  1327:}
        0   0.00000   0.00000  1328:
        0   0.00000   0.00000  1329:sub DateCalc_is_alnum
        0   0.00000   0.00000  1330:{
        0   0.00000   0.00000  1331:    return 1 if ($_[0] =~ /^[\x30-\x39\x41-
        0   0.00000   0.00000  1332:    return 0;
        0   0.00000   0.00000  1333:}
        0   0.00000   0.00000  1334:
        0   0.00000   0.00000  1335:sub DateCalc_ISO_LC
        0   0.00000   0.00000  1336:{
        0   0.00000   0.00000  1337:    my($char) = $_[0];
        0   0.00000   0.00000  1338:    $char =~ s!([\x41-\x5A\xC0-\xD6\xD8-
        0   0.00000   0.00000  1339:    return $char;
        0   0.00000   0.00000  1340:}
        0   0.00000   0.00000  1341:
        0   0.00000   0.00000  1342:sub DateCalc_ISO_UC
        0   0.00000   0.00000  1343:{
        0   0.00000   0.00000  1344:    my($char) = $_[0];
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 53
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  1345:    $char =~ s!([\x61-\x7A\xE0-\xF6\xF8-
        0   0.00000   0.00000  1346:    return $char;
        0   0.00000   0.00000  1347:}
        0   0.00000   0.00000  1348:
        0   0.00000   0.00000  1349:sub DateCalc_ISO_UC_First
        0   0.00000   0.00000  1350:{
        0   0.00000   0.00000  1351:    my($string) = $_[0];
        0   0.00000   0.00000  1352:    $string =~ s!([\x41-\x5A\xC0-\xD6\xD8-
        0   0.00000   0.00000  1353:    $string =~ s!^([\x61-\x7A\xE0-\xF6\xF8-
        0   0.00000   0.00000  1354:    return $string;
        0   0.00000   0.00000  1355:}
        0   0.00000   0.00000  1356:
        0   0.00000   0.00000  1357:sub DateCalc_Year_to_Days
        0   0.00000   0.00000  1358:{
     1321   0.00067   0.01000  1359:    my($year) = $_[0];
     1321   0.00078   0.01000  1360:    my($days) = $year * 365;
     1321   0.00060   0.03000  1361:    $year >>= 2;
     1321   0.00046   0.03000  1362:    $days += $year;
     1321   0.00085   0.03000  1363:    $year = int($year / 25);
     1321   0.00047   0.00000  1364:    $days -= $year;
     1321   0.00050   0.02000  1365:    $days += ($year >>  2);
     1321   0.00412   0.04000  1366:    return $days;
        0   0.00000   0.00000  1367:}
        0   0.00000   0.00000  1368:
        0   0.00000   0.00000  1369:sub DateCalc_scan9
        0   0.00000   0.00000  1370:{   ## Mnemonic: COBOL "PIC 9" ##
        0   0.00000   0.00000  1371:    my($str,$buf,$len,$idx,$neg) = @_;
        0   0.00000   0.00000  1372:    $idx += $buf;
        0   0.00000   0.00000  1373:    $len += $buf;
        0   0.00000   0.00000  1374:    if (($idx >= 0) and ($idx < $len)) {
        0   0.00000   0.00000  1375:    return 0;
        0   0.00000   0.00000  1376:}
        0   0.00000   0.00000  1377:
        0   0.00000   0.00000  1378:sub DateCalc_scanx
        0   0.00000   0.00000  1379:{   ## Mnemonic: COBOL "PIC X" ##
        0   0.00000   0.00000  1380:    my($str,$buf,$len,$idx,$neg) = @_;
        0   0.00000   0.00000  1381:    $idx += $buf;
        0   0.00000   0.00000  1382:    $len += $buf;
        0   0.00000   0.00000  1383:    if (($idx >= 0) and ($idx < $len)) {
        0   0.00000   0.00000  1384:    return 0;
        0   0.00000   0.00000  1385:}
        0   0.00000   0.00000  1386:
        0   0.00000   0.00000  1387:sub DateCalc_Center
        0   0.00000   0.00000  1388:{
        0   0.00000   0.00000  1389:    my($_target,$source,$width) = @_;
        0   0.00000   0.00000  1390:    my($length,$blank);
        0   0.00000   0.00000  1391:    $length = length($source);
        0   0.00000   0.00000  1392:    $length = $width if ($length > $width);
        0   0.00000   0.00000  1393:    $blank = $width - $length;
        0   0.00000   0.00000  1394:    $blank >>= 1;
        0   0.00000   0.00000  1395:    $$_target .= ' ' x $blank;
        0   0.00000   0.00000  1396:    $$_target .= substr($source,0,$length);
        0   0.00000   0.00000  1397:    $$_target .= "\n";
        0   0.00000   0.00000  1398:}
        0   0.00000   0.00000  1399:
        0   0.00000   0.00000  1400:sub DateCalc_Blank
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 54
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  1401:{
        0   0.00000   0.00000  1402:    my($_target,$count) = @_;
        0   0.00000   0.00000  1403:    $$_target .= ' ' x $count;
        0   0.00000   0.00000  1404:}
        0   0.00000   0.00000  1405:
        0   0.00000   0.00000  1406:sub DateCalc_Newline
        0   0.00000   0.00000  1407:{
        0   0.00000   0.00000  1408:    my($_target,$count) = @_;
        0   0.00000   0.00000  1409:    $$_target .= "\n" x $count;
        0   0.00000   0.00000  1410:}
        0   0.00000   0.00000  1411:
        0   0.00000   0.00000  1412:sub DateCalc_Normalize_Time
        0   0.00000   0.00000  1413:{
        0   0.00000   0.00000  1414:    my($_Dd,$_Dh,$_Dm,$_Ds) = @_;
        0   0.00000   0.00000  1415:    my($quot);
        0   0.00000   0.00000  1416:    $quot = int($$_Ds / 60);
        0   0.00000   0.00000  1417:    $$_Ds -= $quot * 60;
        0   0.00000   0.00000  1418:    $$_Dm += $quot;
        0   0.00000   0.00000  1419:    $quot = int($$_Dm / 60);
        0   0.00000   0.00000  1420:    $$_Dm -= $quot * 60;
        0   0.00000   0.00000  1421:    $$_Dh += $quot;
        0   0.00000   0.00000  1422:    $quot = int($$_Dh / 24);
        0   0.00000   0.00000  1423:    $$_Dh -= $quot * 24;
        0   0.00000   0.00000  1424:    $$_Dd += $quot;
        0   0.00000   0.00000  1425:}
        0   0.00000   0.00000  1426:
        0   0.00000   0.00000  1427:## Prevent overflow errors on systems ##
        0   0.00000   0.00000  1428:## with short "long"s (e.g. 32 bits): ##
        0   0.00000   0.00000  1429:
        0   0.00000   0.00000  1430:sub DateCalc_Normalize_Ranges
        0   0.00000   0.00000  1431:{
        0   0.00000   0.00000  1432:    my($_Dd,$_Dh,$_Dm,$_Ds) = @_;
        0   0.00000   0.00000  1433:    my($quot);
        0   0.00000   0.00000  1434:    $quot = int($$_Dh / 24);
        0   0.00000   0.00000  1435:    $$_Dh -= $quot * 24;
        0   0.00000   0.00000  1436:    $$_Dd += $quot;
        0   0.00000   0.00000  1437:    $quot = int($$_Dm / 60);
        0   0.00000   0.00000  1438:    $$_Dm -= $quot * 60;
        0   0.00000   0.00000  1439:    $$_Dh += $quot;
        0   0.00000   0.00000  1440:
        0   0.00000   0.00000  1441:}
        0   0.00000   0.00000  1442:
        0   0.00000   0.00000  1443:# $_Dh and $_Dm are assumed to be empty;
        0   0.00000   0.00000  1444:# the whole time part must be in $_Ds:
        0   0.00000   0.00000  1445:
        0   0.00000   0.00000  1446:sub DateCalc_Normalize_Signs
        0   0.00000   0.00000  1447:{
        0   0.00000   0.00000  1448:    my($_Dd,$_Dh,$_Dm,$_Ds) = @_;
        0   0.00000   0.00000  1449:    my($quot);
        0   0.00000   0.00000  1450:    $quot = int($$_Ds / 86400);
        0   0.00000   0.00000  1451:    $$_Ds -= $quot * 86400;
        0   0.00000   0.00000  1452:    $$_Dd += $quot;
        0   0.00000   0.00000  1453:    if ($$_Dd != 0)
        0   0.00000   0.00000  1454:    {
        0   0.00000   0.00000  1455:        if ($$_Dd > 0)
        0   0.00000   0.00000  1456:        {
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 55
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  1457:            if ($$_Ds < 0)
        0   0.00000   0.00000  1458:            {
        0   0.00000   0.00000  1459:                $$_Ds += 86400;
        0   0.00000   0.00000  1460:                ${$_Dd}--;
        0   0.00000   0.00000  1461:            }
        0   0.00000   0.00000  1462:        }
        0   0.00000   0.00000  1463:        else
        0   0.00000   0.00000  1464:        {
        0   0.00000   0.00000  1465:            if ($$_Ds > 0)
        0   0.00000   0.00000  1466:            {
        0   0.00000   0.00000  1467:                $$_Ds -= 86400;
        0   0.00000   0.00000  1468:                ${$_Dd}++;
        0   0.00000   0.00000  1469:            }
        0   0.00000   0.00000  1470:        }
        0   0.00000   0.00000  1471:    }
        0   0.00000   0.00000  1472:    $$_Dh = 0;
        0   0.00000   0.00000  1473:    $$_Dm = 0;
        0   0.00000   0.00000  1474:    if ($$_Ds != 0) {
        0   0.00000   0.00000  1475:}
        0   0.00000   0.00000  1476:
        0   0.00000   0.00000  1477:sub DateCalc_Normalize_DHMS
        0   0.00000   0.00000  1478:{
        0   0.00000   0.00000  1479:    my($_Dd,$_Dh,$_Dm,$_Ds) = @_;
        0   0.00000   0.00000  1480:
        0   0.00000   0.00000  1481:    $$_Ds += (($$_Dh * 60) + $$_Dm) * 60;
        0   0.00000   0.00000  1482:
        0   0.00000   0.00000  1483:}
        0   0.00000   0.00000  1484:
        0   0.00000   0.00000  1485:#######################
        0   0.00000   0.00000  1486:## Public functions: ##
        0   0.00000   0.00000  1487:#######################
        0   0.00000   0.00000  1488:
        0   0.00000   0.00000  1489:sub DateCalc_leap_year
        0   0.00000   0.00000  1490:{
     1337   0.00071   0.00000  1491:    my($year) = $_[0];
     1337   0.00037   0.02000  1492:    my($yy);
     1337   0.01174   0.04000  1493:    return( (($year & 0x03) == 0) and
        0   0.00000   0.00000  1494:            ( ((($yy = int($year / 100)) *
        0   0.00000   0.00000  1495:                (($yy & 0x03) == 0) ) );
        0   0.00000   0.00000  1496:}
        0   0.00000   0.00000  1497:
        0   0.00000   0.00000  1498:sub DateCalc_check_date
        0   0.00000   0.00000  1499:{
        0   0.00000   0.00000  1500:    my($year,$month,$day) = @_;
        0   0.00000   0.00000  1501:    return 1 if
        0   0.00000   0.00000  1502:        (($year  >= 1) and
        0   0.00000   0.00000  1503:         ($month >= 1) and ($month <= 12) and
        0   0.00000   0.00000  1504:         ($day   >= 1) and
        0   0.00000   0.00000  1505:         ($day   <=
        0   0.00000   0.00000  1506:    return 0;
        0   0.00000   0.00000  1507:}
        0   0.00000   0.00000  1508:
        0   0.00000   0.00000  1509:sub DateCalc_check_time
        0   0.00000   0.00000  1510:{
        0   0.00000   0.00000  1511:    my($hour,$min,$sec) = @_;
        0   0.00000   0.00000  1512:    return 1 if
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 56
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  1513:        (($hour >= 0) and ($min >= 0) and
        0   0.00000   0.00000  1514:         ($hour < 24) and ($min < 60) and
        0   0.00000   0.00000  1515:    return 0;
        0   0.00000   0.00000  1516:}
        0   0.00000   0.00000  1517:
        0   0.00000   0.00000  1518:sub DateCalc_check_business_date
        0   0.00000   0.00000  1519:{
        0   0.00000   0.00000  1520:    my($year,$week,$dow) = @_;
        0   0.00000   0.00000  1521:    return 1 if
        0   0.00000   0.00000  1522:        (($year >= 1) and
        0   0.00000   0.00000  1523:         ($week >= 1) and ($week <=
        0   0.00000   0.00000  1524:         ($dow  >= 1) and ($dow <= 7));
        0   0.00000   0.00000  1525:    return 0;
        0   0.00000   0.00000  1526:}
        0   0.00000   0.00000  1527:
        0   0.00000   0.00000  1528:sub DateCalc_Day_of_Year
        0   0.00000   0.00000  1529:{
        0   0.00000   0.00000  1530:    my($year,$month,$day) = @_;
        0   0.00000   0.00000  1531:    my($leap);
        0   0.00000   0.00000  1532:    if (($year  >= 1) and
        0   0.00000   0.00000  1533:        ($month >= 1) and ($month <= 12) and
        0   0.00000   0.00000  1534:        ($day   >= 1) and
        0   0.00000   0.00000  1535:        ($day   <=
        0   0.00000   0.00000  1536:    {
        0   0.00000   0.00000  1537:        return
        0   0.00000   0.00000  1538:    }
        0   0.00000   0.00000  1539:    return 0;
        0   0.00000   0.00000  1540:}
        0   0.00000   0.00000  1541:
        0   0.00000   0.00000  1542:sub DateCalc_Date_to_Days
        0   0.00000   0.00000  1543:{
      804   0.00161   0.01000  1544:    my($year,$month,$day) = @_;
      804   0.00022   0.00000  1545:    my($leap);
      804   0.00372   0.02000  1546:    if (($year  >= 1) and
        0   0.00000   0.00000  1547:        ($month >= 1) and ($month <= 12) and
        0   0.00000   0.00000  1548:        ($day   >= 1) and
        0   0.00000   0.00000  1549:        ($day   <=
        0   0.00000   0.00000  1550:    {
        0   0.00000   0.00000  1551:        return DateCalc_Year_to_Days(--$year)
        0   0.00000   0.00000  1552:             +
        0   0.00000   0.00000  1553:             + $day;
        0   0.00000   0.00000  1554:    }
        0   0.00000   0.00000  1555:    return 0;
        0   0.00000   0.00000  1556:}
        0   0.00000   0.00000  1557:
        0   0.00000   0.00000  1558:sub DateCalc_Day_of_Week
        0   0.00000   0.00000  1559:{
        0   0.00000   0.00000  1560:    my($year,$month,$day) = @_;
        0   0.00000   0.00000  1561:    my($days);
        0   0.00000   0.00000  1562:    $days =
        0   0.00000   0.00000  1563:    if ($days > 0)
        0   0.00000   0.00000  1564:    {
        0   0.00000   0.00000  1565:        $days--;
        0   0.00000   0.00000  1566:        $days %= 7;
        0   0.00000   0.00000  1567:        $days++;
        0   0.00000   0.00000  1568:    }
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 57
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  1569:    return $days;
        0   0.00000   0.00000  1570:}
        0   0.00000   0.00000  1571:
        0   0.00000   0.00000  1572:sub DateCalc_Weeks_in_Year
        0   0.00000   0.00000  1573:{
        0   0.00000   0.00000  1574:    my($year) = $_[0];
        0   0.00000   0.00000  1575:    if ((DateCalc_Day_of_Week($year,1,1)   ==
        0   0.00000   0.00000  1576:        (DateCalc_Day_of_Week($year,12,31) ==
        0   0.00000   0.00000  1577:        { return 53; }
        0   0.00000   0.00000  1578:    else
        0   0.00000   0.00000  1579:        { return 52; }
        0   0.00000   0.00000  1580:}
        0   0.00000   0.00000  1581:
        0   0.00000   0.00000  1582:sub DateCalc_Week_Number
        0   0.00000   0.00000  1583:{
        0   0.00000   0.00000  1584:    my($year,$month,$day) = @_;
        0   0.00000   0.00000  1585:    my($first,$week);
        0   0.00000   0.00000  1586:    $first = DateCalc_Day_of_Week($year,1,1)
        0   0.00000   0.00000  1587:    $week =
        0   0.00000   0.00000  1588:    if ($first < 4) { return ++$week; }
        0   0.00000   0.00000  1589:    else            { return   $week; }
        0   0.00000   0.00000  1590:}
        0   0.00000   0.00000  1591:
        0   0.00000   0.00000  1592:sub DateCalc_week_of_year
        0   0.00000   0.00000  1593:{
        0   0.00000   0.00000  1594:    my($_week,$_year,$month,$day) = @_;
        0   0.00000   0.00000  1595:    if
        0   0.00000   0.00000  1596:    {
        0   0.00000   0.00000  1597:        $$_week =
        0   0.00000   0.00000  1598:        if ($$_week == 0) { $$_week =
        0   0.00000   0.00000  1599:        elsif ($$_week >
        0   0.00000   0.00000  1600:        {
        0   0.00000   0.00000  1601:            $$_week = 1;
        0   0.00000   0.00000  1602:            ${$_year}++;
        0   0.00000   0.00000  1603:        }
        0   0.00000   0.00000  1604:        return 1;
        0   0.00000   0.00000  1605:    }
        0   0.00000   0.00000  1606:    return 0;
        0   0.00000   0.00000  1607:}
        0   0.00000   0.00000  1608:
        0   0.00000   0.00000  1609:sub DateCalc_monday_of_week
        0   0.00000   0.00000  1610:{
        0   0.00000   0.00000  1611:    my($week,$_year,$_month,$_day) = @_;
        0   0.00000   0.00000  1612:    my($first);
        0   0.00000   0.00000  1613:    $$_month = $$_day = 1;
        0   0.00000   0.00000  1614:    $first =
        0   0.00000   0.00000  1615:    $week-- if ($first < 4);
        0   0.00000   0.00000  1616:    return
        0   0.00000   0.00000  1617:}
        0   0.00000   0.00000  1618:
        0   0.00000   0.00000  1619:sub DateCalc_nth_weekday_of_month_year
        0   0.00000   0.00000  1620:{
        0   0.00000   0.00000  1621:    my($_year,$_month,$_day,$dow,$n) = @_;
        0   0.00000   0.00000  1622:    my($mm) = $$_month;
        0   0.00000   0.00000  1623:    my($first,$delta);
        0   0.00000   0.00000  1624:    $$_day = 1;
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 58
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  1625:    return 0 if
        0   0.00000   0.00000  1626:        (($$_year < 1) or
        0   0.00000   0.00000  1627:         ($mm     < 1) or ($mm  > 12) or
        0   0.00000   0.00000  1628:         ($dow    < 1) or ($dow >  7) or
        0   0.00000   0.00000  1629:         ($n      < 1) or ($n   >  5));
        0   0.00000   0.00000  1630:    $first =
        0   0.00000   0.00000  1631:    $dow += 7 if ($dow < $first);
        0   0.00000   0.00000  1632:    $delta = $dow - $first;
        0   0.00000   0.00000  1633:    $delta += --$n * 7;
        0   0.00000   0.00000  1634:    return 1 if
        0   0.00000   0.00000  1635:    return 0;
        0   0.00000   0.00000  1636:}
        0   0.00000   0.00000  1637:
        0   0.00000   0.00000  1638:sub DateCalc_standard_to_business
        0   0.00000   0.00000  1639:{
        0   0.00000   0.00000  1640:    my($_year,$_week,$_dow,$month,$day) = @_;
        0   0.00000   0.00000  1641:    my($yy) = $$_year;
        0   0.00000   0.00000  1642:
        0   0.00000   0.00000  1643:    if
        0   0.00000   0.00000  1644:    {
        0   0.00000   0.00000  1645:        $$_dow =
        0   0.00000   0.00000  1646:        return 1;
        0   0.00000   0.00000  1647:    }
        0   0.00000   0.00000  1648:    return 0;
        0   0.00000   0.00000  1649:}
        0   0.00000   0.00000  1650:
        0   0.00000   0.00000  1651:sub DateCalc_business_to_standard
        0   0.00000   0.00000  1652:{
        0   0.00000   0.00000  1653:    my($_year,$_month,$_day,$week,$dow) = @_;
        0   0.00000   0.00000  1654:    my($first,$delta);
        0   0.00000   0.00000  1655:    if
        0   0.00000   0.00000  1656:    {
        0   0.00000   0.00000  1657:        $$_month = $$_day = 1;
        0   0.00000   0.00000  1658:        $first =
        0   0.00000   0.00000  1659:        $week++ if ($first > 4);
        0   0.00000   0.00000  1660:        $delta = --$week * 7 + $dow - $first;
        0   0.00000   0.00000  1661:        return
        0   0.00000   0.00000  1662:    }
        0   0.00000   0.00000  1663:    return 0;
        0   0.00000   0.00000  1664:}
        0   0.00000   0.00000  1665:
        0   0.00000   0.00000  1666:sub DateCalc_Delta_Days
        0   0.00000   0.00000  1667:{
        0   0.00000   0.00000  1668:    return DateCalc_Date_to_Days(@_[3..5]) -
        0   0.00000   0.00000  1669:           DateCalc_Date_to_Days(@_[0..2]);
        0   0.00000   0.00000  1670:}
        0   0.00000   0.00000  1671:
        0   0.00000   0.00000  1672:sub DateCalc_delta_hms
        0   0.00000   0.00000  1673:{
        0   0.00000   0.00000  1674:
        0   0.00000   0.00000  1675:    if
        0   0.00000   0.00000  1676:
        0   0.00000   0.00000  1677:    {
        0   0.00000   0.00000  1678:        $$_Ds = (((($hour2 * 60) + $min2) *
        0   0.00000   0.00000  1679:                (((($hour1 * 60) + $min1) *
        0   0.00000   0.00000  1680:
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 59
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  1681:        return 1;
        0   0.00000   0.00000  1682:    }
        0   0.00000   0.00000  1683:    return 0;
        0   0.00000   0.00000  1684:}
        0   0.00000   0.00000  1685:
        0   0.00000   0.00000  1686:sub DateCalc_delta_dhms
        0   0.00000   0.00000  1687:{
        0   0.00000   0.00000  1688:
        0   0.00000   0.00000  1689:    $$_Dd = $$_Dh = $$_Dm = $$_Ds = 0;
        0   0.00000   0.00000  1690:    if
        0   0.00000   0.00000  1691:
        0   0.00000   0.00000  1692:    {
        0   0.00000   0.00000  1693:        $$_Dd =
        0   0.00000   0.00000  1694:        return
        0   0.00000   0.00000  1695:    }
        0   0.00000   0.00000  1696:    return 0;
        0   0.00000   0.00000  1697:}
        0   0.00000   0.00000  1698:
        0   0.00000   0.00000  1699:sub DateCalc_delta_ymd
        0   0.00000   0.00000  1700:{
        0   0.00000   0.00000  1701:
        0   0.00000   0.00000  1702:    if
        0   0.00000   0.00000  1703:        DateCalc_check_date(  $year2,
        0   0.00000   0.00000  1704:    {
        0   0.00000   0.00000  1705:        $$_day1   = $day2   - $$_day1;
        0   0.00000   0.00000  1706:        $$_month1 = $month2 - $$_month1;
        0   0.00000   0.00000  1707:        $$_year1  = $year2  - $$_year1;
        0   0.00000   0.00000  1708:        return 1;
        0   0.00000   0.00000  1709:    }
        0   0.00000   0.00000  1710:    return 0;
        0   0.00000   0.00000  1711:}
        0   0.00000   0.00000  1712:
        0   0.00000   0.00000  1713:sub DateCalc_delta_ymdhms
        0   0.00000   0.00000  1714:{
        0   0.00000   0.00000  1715:
        0   0.00000   0.00000  1716:    return 0 unless
        0   0.00000   0.00000  1717:    $$_D_d = $day1;
        0   0.00000   0.00000  1718:    return 0 unless
        0   0.00000   0.00000  1719:    $$_D_y = $year1;
        0   0.00000   0.00000  1720:    $$_D_m = $month1;
        0   0.00000   0.00000  1721:    return 1;
        0   0.00000   0.00000  1722:}
        0   0.00000   0.00000  1723:
        0   0.00000   0.00000  1724:sub DateCalc_norm_delta_ymd
        0   0.00000   0.00000  1725:{
        0   0.00000   0.00000  1726:
        0   0.00000   0.00000  1727:    my($Dy) = 0;
        0   0.00000   0.00000  1728:    my($Dm) = 0;
        0   0.00000   0.00000  1729:    my($Dd) = 0;
        0   0.00000   0.00000  1730:    my($d2,$ty,$tm,$td);
        0   0.00000   0.00000  1731:
        0   0.00000   0.00000  1732:    if
        0   0.00000   0.00000  1733:        DateCalc_check_date(  $year2,
        0   0.00000   0.00000  1734:    {
        0   0.00000   0.00000  1735:        $d2 =     DateCalc_Date_to_Days(
        0   0.00000   0.00000  1736:        $Dd = $d2-
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 60
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  1737:        if (($Dd < -30) or ($Dd > 30))
        0   0.00000   0.00000  1738:        {
        0   0.00000   0.00000  1739:            $Dy = ($year2  - $$_year1);
        0   0.00000   0.00000  1740:            $Dm = ($month2 - $$_month1);
        0   0.00000   0.00000  1741:            $ty=$$_year1; $tm=$$_month1;
        0   0.00000   0.00000  1742:            unless ((($Dy >= 0) and ($Dm >=
        0   0.00000   0.00000  1743:                    (($Dy <= 0) and ($Dm <=
        0   0.00000   0.00000  1744:            {
        0   0.00000   0.00000  1745:                if    (($Dy < 0) and ($Dm >
        0   0.00000   0.00000  1746:                elsif (($Dy > 0) and ($Dm <
        0   0.00000   0.00000  1747:                if    (($Dm < 0) and ($Dd >
        0   0.00000   0.00000  1748:                elsif (($Dm > 0) and ($Dd <
        0   0.00000   0.00000  1749:                if    (($Dy < 0) and ($Dd >
        0   0.00000   0.00000  1750:                elsif (($Dy > 0) and ($Dd <
        0   0.00000   0.00000  1751:                if    (($Dm < 0) and ($Dd >
        0   0.00000   0.00000  1752:                elsif (($Dm > 0) and ($Dd <
        0   0.00000   0.00000  1753:            }
        0   0.00000   0.00000  1754:        }
        0   0.00000   0.00000  1755:        $$_year1  = $Dy;
        0   0.00000   0.00000  1756:        $$_month1 = $Dm;
        0   0.00000   0.00000  1757:        $$_day1   = $Dd;
        0   0.00000   0.00000  1758:        return 1;
        0   0.00000   0.00000  1759:    }
        0   0.00000   0.00000  1760:    return 0;
        0   0.00000   0.00000  1761:}
        0   0.00000   0.00000  1762:
        0   0.00000   0.00000  1763:sub DateCalc_norm_delta_ymdhms
        0   0.00000   0.00000  1764:{
        0   0.00000   0.00000  1765:
        0   0.00000   0.00000  1766:    my($Dy) = 0;
        0   0.00000   0.00000  1767:    my($Dm) = 0;
        0   0.00000   0.00000  1768:    my($Dd) = 0;
        0   0.00000   0.00000  1769:    my($d2,$ty,$tm,$td,$hh,$mm,$ss);
        0   0.00000   0.00000  1770:    if
        0   0.00000   0.00000  1771:        DateCalc_check_time($hour1,$min1,
        0   0.00000   0.00000  1772:
        0   0.00000   0.00000  1773:        DateCalc_check_time($hour1,$min2,
        0   0.00000   0.00000  1774:    {
        0   0.00000   0.00000  1775:        $ss = ( ($hour2-$hour1) * 60 +
        0   0.00000   0.00000  1776:        $d2 =
        0   0.00000   0.00000  1777:        $Dd = $d2-
        0   0.00000   0.00000  1778:        if (($Dd < -30) or ($Dd > 30))
        0   0.00000   0.00000  1779:        {
        0   0.00000   0.00000  1780:            $Dy = $year2  - $year1;
        0   0.00000   0.00000  1781:            $Dm = $month2 - $month1;
        0   0.00000   0.00000  1782:            $ty=$year1; $tm=$month1;
        0   0.00000   0.00000  1783:            unless ((($Dy >= 0) and ($Dm >=
        0   0.00000   0.00000  1784:                    (($Dy <= 0) and ($Dm <=
        0   0.00000   0.00000  1785:            {
        0   0.00000   0.00000  1786:                if    (($Dy < 0) and ($Dm >
        0   0.00000   0.00000  1787:                elsif (($Dy > 0) and ($Dm <
        0   0.00000   0.00000  1788:                if    (($Dm < 0) and ($Dd >
        0   0.00000   0.00000  1789:                elsif (($Dm > 0) and ($Dd <
        0   0.00000   0.00000  1790:                if    (($Dy < 0) and ($Dd >
        0   0.00000   0.00000  1791:                elsif (($Dy > 0) and ($Dd <
        0   0.00000   0.00000  1792:                if    (($Dm < 0) and ($Dd >
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 61
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  1793:                elsif (($Dm > 0) and ($Dd <
        0   0.00000   0.00000  1794:                if    (($Dd < 0) and ($ss >
        0   0.00000   0.00000  1795:                elsif (($Dd > 0) and ($ss <
        0   0.00000   0.00000  1796:                if    (($Dm < 0) and ($ss >
        0   0.00000   0.00000  1797:                elsif (($Dm > 0) and ($ss <
        0   0.00000   0.00000  1798:                if    (($Dy < 0) and ($ss >
        0   0.00000   0.00000  1799:                elsif (($Dy > 0) and ($ss <
        0   0.00000   0.00000  1800:                if    (($Dm < 0) and ($ss >
        0   0.00000   0.00000  1801:                elsif (($Dm > 0) and ($ss <
        0   0.00000   0.00000  1802:                if    (($Dd < 0) and ($ss >
        0   0.00000   0.00000  1803:                elsif (($Dd > 0) and ($ss <
        0   0.00000   0.00000  1804:            }
        0   0.00000   0.00000  1805:        }
        0   0.00000   0.00000  1806:        else
        0   0.00000   0.00000  1807:        {
        0   0.00000   0.00000  1808:            if    (($Dd < 0) and ($ss > 0)) {
        0   0.00000   0.00000  1809:            elsif (($Dd > 0) and ($ss < 0)) {
        0   0.00000   0.00000  1810:        }
        0   0.00000   0.00000  1811:        $mm = int( $ss / 60 );
        0   0.00000   0.00000  1812:        $ss -= $mm * 60;
        0   0.00000   0.00000  1813:        $hh = int( $mm / 60 );
        0   0.00000   0.00000  1814:        $mm -= $hh * 60;
        0   0.00000   0.00000  1815:        $$_D_y = $Dy;
        0   0.00000   0.00000  1816:        $$_D_m = $Dm;
        0   0.00000   0.00000  1817:        $$_D_d = $Dd;
        0   0.00000   0.00000  1818:        $$_Dhh = $hh;
        0   0.00000   0.00000  1819:        $$_Dmm = $mm;
        0   0.00000   0.00000  1820:        $$_Dss = $ss;
        0   0.00000   0.00000  1821:        return 1;
        0   0.00000   0.00000  1822:    }
        0   0.00000   0.00000  1823:    return 0;
        0   0.00000   0.00000  1824:}
        0   0.00000   0.00000  1825:
        0   0.00000   0.00000  1826:sub DateCalc_add_delta_days
        0   0.00000   0.00000  1827:{
      516   0.00052   0.00000  1828:    my($_year,$_month,$_day,$Dd) = @_;
      516   0.00036   0.01000  1829:    my($days,$leap);
      516   0.00382   0.01000  1830:    if ((($days =
        0   0.00000   0.00000  1831:        (($days += $Dd) > 0))
        0   0.00000   0.00000  1832:    {
      516   0.00032   0.00000  1833:        if ($Dd != 0)
        0   0.00000   0.00000  1834:        {
      516   0.00050   0.01000  1835:            $$_year = int( $days / 365.2425
      516   0.00031   0.00000  1836:            $$_day  = $days -
      516   0.00034   0.00000  1837:            if ($$_day < 1)
        0   0.00000   0.00000  1838:            {
        1   0.00000   0.00000  1839:                $$_day = $days -
        0   0.00000   0.00000  1840:            }
      515   0.00030   0.00000  1841:            else { ${$_year}++; }
      516   0.00032   0.00000  1842:            $leap =
      516   0.00048   0.00000  1843:            if ($$_day >
        0   0.00000   0.00000  1844:            {
        0   0.00000   0.00000  1845:                $$_day -=
        0   0.00000   0.00000  1846:                $leap  =
        0   0.00000   0.00000  1847:            }
      516   0.00049   0.01000  1848:            for ( $$_month = 12; $$_month >=
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 62
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  1849:            {
     3478   0.00540   0.07000  1850:                if ($$_day >
        0   0.00000   0.00000  1851:                {
      516   0.00051   0.01000  1852:                    $$_day -=
      516   0.00053   0.00000  1853:                    last;
        0   0.00000   0.00000  1854:                }
      516   0.00022   0.00000  1855:            }
        0   0.00000   0.00000  1856:        }
      516   0.00492   0.01000  1857:        return 1;
        0   0.00000   0.00000  1858:    }
        0   0.00000   0.00000  1859:    return 0;
        0   0.00000   0.00000  1860:}
        0   0.00000   0.00000  1861:
        0   0.00000   0.00000  1862:sub DateCalc_add_delta_dhms
        0   0.00000   0.00000  1863:{
        0   0.00000   0.00000  1864:
        0   0.00000   0.00000  1865:    if
        0   0.00000   0.00000  1866:        DateCalc_check_time($$_hour,$$_min,
        0   0.00000   0.00000  1867:    {
        0   0.00000   0.00000  1868:
        0   0.00000   0.00000  1869:        $Ds += (((($$_hour * 60) + $$_min) *
        0   0.00000   0.00000  1870:                (((  $Dh   * 60) +   $Dm)  *
        0   0.00000   0.00000  1871:        while ($Ds < 0)
        0   0.00000   0.00000  1872:        {
        0   0.00000   0.00000  1873:            $Ds += 86400;
        0   0.00000   0.00000  1874:            $Dd--;
        0   0.00000   0.00000  1875:        }
        0   0.00000   0.00000  1876:        if ($Ds > 0)
        0   0.00000   0.00000  1877:        {
        0   0.00000   0.00000  1878:            $Dh = 0;
        0   0.00000   0.00000  1879:            $Dm = 0;
        0   0.00000   0.00000  1880:
        0   0.00000   0.00000  1881:            $$_hour = $Dh;
        0   0.00000   0.00000  1882:            $$_min  = $Dm;
        0   0.00000   0.00000  1883:            $$_sec  = $Ds;
        0   0.00000   0.00000  1884:        }
        0   0.00000   0.00000  1885:        else { $$_hour = $$_min = $$_sec = 0;
        0   0.00000   0.00000  1886:        return
        0   0.00000   0.00000  1887:    }
        0   0.00000   0.00000  1888:    return 0;
        0   0.00000   0.00000  1889:}
        0   0.00000   0.00000  1890:
        0   0.00000   0.00000  1891:sub DateCalc_add_year_month
        0   0.00000   0.00000  1892:{
        0   0.00000   0.00000  1893:    my($_year,$_month,$Dy,$Dm) = @_;
        0   0.00000   0.00000  1894:    my($quot);
        0   0.00000   0.00000  1895:    return 0 if (($$_year < 1) or ($$_month <
        0   0.00000   0.00000  1896:    if ($Dm != 0)
        0   0.00000   0.00000  1897:    {
        0   0.00000   0.00000  1898:        $Dm  += $$_month - 1;
        0   0.00000   0.00000  1899:        $quot = int($Dm / 12);
        0   0.00000   0.00000  1900:        $Dm  -= $quot * 12;
        0   0.00000   0.00000  1901:        if ($Dm < 0)
        0   0.00000   0.00000  1902:        {
        0   0.00000   0.00000  1903:            $Dm += 12;
        0   0.00000   0.00000  1904:            $quot--;
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 63
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  1905:        }
        0   0.00000   0.00000  1906:        $$_month = $Dm + 1;
        0   0.00000   0.00000  1907:        $Dy += $quot;
        0   0.00000   0.00000  1908:    }
        0   0.00000   0.00000  1909:    if ($Dy != 0)
        0   0.00000   0.00000  1910:    {
        0   0.00000   0.00000  1911:        $$_year += $Dy;
        0   0.00000   0.00000  1912:    }
        0   0.00000   0.00000  1913:    return 0 if ($$_year < 1);
        0   0.00000   0.00000  1914:    return 1;
        0   0.00000   0.00000  1915:}
        0   0.00000   0.00000  1916:
        0   0.00000   0.00000  1917:sub DateCalc_add_delta_ym
        0   0.00000   0.00000  1918:{
        0   0.00000   0.00000  1919:    my($_year,$_month,$_day,$Dy,$Dm) = @_;
        0   0.00000   0.00000  1920:    my($Dd);
        0   0.00000   0.00000  1921:    return 0 unless
        0   0.00000   0.00000  1922:    return 0 unless
        0   0.00000   0.00000  1923:    if ($$_day > ($Dd =
        0   0.00000   0.00000  1924:    {
        0   0.00000   0.00000  1925:        $$_day = $Dd;
        0   0.00000   0.00000  1926:    }
        0   0.00000   0.00000  1927:    return 1;
        0   0.00000   0.00000  1928:}
        0   0.00000   0.00000  1929:
        0   0.00000   0.00000  1930:sub DateCalc_add_delta_ymd
        0   0.00000   0.00000  1931:{
        0   0.00000   0.00000  1932:    my($_year,$_month,$_day,$Dy,$Dm,$Dd) =
        0   0.00000   0.00000  1933:    return 0 unless
        0   0.00000   0.00000  1934:    return 0 unless
        0   0.00000   0.00000  1935:    $Dd += $$_day - 1;
        0   0.00000   0.00000  1936:    $$_day = 1;
        0   0.00000   0.00000  1937:    return
        0   0.00000   0.00000  1938:}
        0   0.00000   0.00000  1939:
        0   0.00000   0.00000  1940:sub DateCalc_add_delta_ymdhms
        0   0.00000   0.00000  1941:{
        0   0.00000   0.00000  1942:
        0   0.00000   0.00000  1943:    return 0 unless
        0   0.00000   0.00000  1944:    return 0 unless
        0   0.00000   0.00000  1945:    $D_d += $$_day - 1;
        0   0.00000   0.00000  1946:    $$_day = 1;
        0   0.00000   0.00000  1947:    return
        0   0.00000   0.00000  1948:}
        0   0.00000   0.00000  1949:
        0   0.00000   0.00000  1950:sub DateCalc_add_norm_delta_ymd
        0   0.00000   0.00000  1951:{
        0   0.00000   0.00000  1952:    my($_year,$_month,$_day,$Dy,$Dm,$Dd) =
        0   0.00000   0.00000  1953:    return 0 unless
        0   0.00000   0.00000  1954:    return
        0   0.00000   0.00000  1955:}
        0   0.00000   0.00000  1956:
        0   0.00000   0.00000  1957:sub DateCalc_add_norm_delta_ymdhms
        0   0.00000   0.00000  1958:{
        0   0.00000   0.00000  1959:
        0   0.00000   0.00000  1960:    return 0 unless
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 64
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  1961:    return
        0   0.00000   0.00000  1962:}
        0   0.00000   0.00000  1963:
        0   0.00000   0.00000  1964:sub DateCalc_system_clock
        0   0.00000   0.00000  1965:{
        0   0.00000   0.00000  1966:
        0   0.00000   0.00000  1967:    my($seconds) = time();
        0   0.00000   0.00000  1968:    if ($seconds >= 0)
        0   0.00000   0.00000  1969:    {
        0   0.00000   0.00000  1970:        $$_dst = 0;
        0   0.00000   0.00000  1971:        if ($gmt) {
        0   0.00000   0.00000  1972:        else      {
        0   0.00000   0.00000  1973:        ${$_year} += 1900;
        0   0.00000   0.00000  1974:        ${$_month}++;
        0   0.00000   0.00000  1975:        ${$_dow} = 7 if (${$_dow} == 0);
        0   0.00000   0.00000  1976:        ${$_doy}++;
        0   0.00000   0.00000  1977:        if ($$_dst != 0)
        0   0.00000   0.00000  1978:        {
        0   0.00000   0.00000  1979:            if ($$_dst < 0) { $$_dst = -1; }
        0   0.00000   0.00000  1980:            else            { $$_dst =  1; }
        0   0.00000   0.00000  1981:        }
        0   0.00000   0.00000  1982:        return 1;
        0   0.00000   0.00000  1983:    }
        0   0.00000   0.00000  1984:    return 0;
        0   0.00000   0.00000  1985:}
        0   0.00000   0.00000  1986:
        0   0.00000   0.00000  1987:sub DateCalc_gmtime
        0   0.00000   0.00000  1988:{
        0   0.00000   0.00000  1989:
        0   0.00000   0.00000  1990:    if ($seconds >= 0)
        0   0.00000   0.00000  1991:    {
        0   0.00000   0.00000  1992:        $$_dst = 0;
        0   0.00000   0.00000  1993:
        0   0.00000   0.00000  1994:        ${$_year} += 1900;
        0   0.00000   0.00000  1995:        ${$_month}++;
        0   0.00000   0.00000  1996:        ${$_dow} = 7 if (${$_dow} == 0);
        0   0.00000   0.00000  1997:        ${$_doy}++;
        0   0.00000   0.00000  1998:        return 1;
        0   0.00000   0.00000  1999:    }
        0   0.00000   0.00000  2000:    return 0;
        0   0.00000   0.00000  2001:}
        0   0.00000   0.00000  2002:
        0   0.00000   0.00000  2003:sub DateCalc_localtime
        0   0.00000   0.00000  2004:{
        0   0.00000   0.00000  2005:
        0   0.00000   0.00000  2006:    if ($seconds >= 0)
        0   0.00000   0.00000  2007:    {
        0   0.00000   0.00000  2008:
        0   0.00000   0.00000  2009:        ${$_year} += 1900;
        0   0.00000   0.00000  2010:        ${$_month}++;
        0   0.00000   0.00000  2011:        ${$_dow} = 7 if (${$_dow} == 0);
        0   0.00000   0.00000  2012:        ${$_doy}++;
        0   0.00000   0.00000  2013:        if ($$_dst != 0)
        0   0.00000   0.00000  2014:        {
        0   0.00000   0.00000  2015:            if ($$_dst < 0) { $$_dst = -1; }
        0   0.00000   0.00000  2016:            else            { $$_dst =  1; }
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 65
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  2017:        }
        0   0.00000   0.00000  2018:        return 1;
        0   0.00000   0.00000  2019:    }
        0   0.00000   0.00000  2020:    return 0;
        0   0.00000   0.00000  2021:}
        0   0.00000   0.00000  2022:
        0   0.00000   0.00000  2023:## MacOS (Classic):
        0   0.00000   0.00000  2024:## <695056.0>     = Fri  1-Jan-1904 00:00:00
        0   0.00000   0.00000  2025:## <744766.23295> = Mon  6-Feb-2040 06:28:15
        0   0.00000   0.00000  2026:
        0   0.00000   0.00000  2027:## Unix:
        0   0.00000   0.00000  2028:## <719163.0>     = Thu  1-Jan-1970 00:00:00
        0   0.00000   0.00000  2029:## <744018.11647> = Tue 19-Jan-2038 03:14:07
        0   0.00000   0.00000  2030:
        0   0.00000   0.00000  2031:sub DateCalc_mktime
        0   0.00000   0.00000  2032:{
        0   0.00000   0.00000  2033:
        0   0.00000   0.00000  2034:    my(@DT) =
        0   0.00000   0.00000  2035:    local($_);
        0   0.00000   0.00000  2036:    $$_seconds = 0;
        0   0.00000   0.00000  2037:    if ($^O eq 'MacOS')
        0   0.00000   0.00000  2038:    {
        0   0.00000   0.00000  2039:        return 0 if
        0   0.00000   0.00000  2040:        (
        0   0.00000   0.00000  2041:            ($year  < 1904) or ($year  >
        0   0.00000   0.00000  2042:            ($month <    1) or ($month >
        0   0.00000   0.00000  2043:            ($day   <    1) or ($day   >
        0   0.00000   0.00000  2044:            ($hour  <    0) or ($hour  >
        0   0.00000   0.00000  2045:            ($min   <    0) or ($min   >
        0   0.00000   0.00000  2046:            ($sec   <    0) or ($sec   >
        0   0.00000   0.00000  2047:        );
        0   0.00000   0.00000  2048:        return 0 if
        0   0.00000   0.00000  2049:        (
        0   0.00000   0.00000  2050:            ($year == 2040) and ( ($month >
        0   0.00000   0.00000  2051:                                ( ($month ==
        0   0.00000   0.00000  2052:
        0   0.00000   0.00000  2053:
        0   0.00000   0.00000  2054:
        0   0.00000   0.00000  2055:        );
        0   0.00000   0.00000  2056:    }
        0   0.00000   0.00000  2057:    else
        0   0.00000   0.00000  2058:    {
        0   0.00000   0.00000  2059:        return 0 if
        0   0.00000   0.00000  2060:        (
        0   0.00000   0.00000  2061:            ($year  < 1970) or ($year  >
        0   0.00000   0.00000  2062:            ($month <    1) or ($month >
        0   0.00000   0.00000  2063:            ($day   <    1) or ($day   >
        0   0.00000   0.00000  2064:            ($hour  <    0) or ($hour  >
        0   0.00000   0.00000  2065:            ($min   <    0) or ($min   >
        0   0.00000   0.00000  2066:            ($sec   <    0) or ($sec   >
        0   0.00000   0.00000  2067:        );
        0   0.00000   0.00000  2068:        return 0 if
        0   0.00000   0.00000  2069:        (
        0   0.00000   0.00000  2070:            ($year == 2038) and ( ($month >
        0   0.00000   0.00000  2071:                                ( ($month ==
        0   0.00000   0.00000  2072:
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 66
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  2073:
        0   0.00000   0.00000  2074:
        0   0.00000   0.00000  2075:        );
        0   0.00000   0.00000  2076:    }
        0   0.00000   0.00000  2077:    $year -= 1900;
        0   0.00000   0.00000  2078:    $month--;
        0   0.00000   0.00000  2079:    if ($doy <= 0) { $doy = -1; }
        0   0.00000   0.00000  2080:    else           { $doy--;    }
        0   0.00000   0.00000  2081:    if    ($dow <= 0) { $dow = -1; }
        0   0.00000   0.00000  2082:    elsif ($dow == 7) { $dow =  0; }
        0   0.00000   0.00000  2083:    if ($dst != 0)
        0   0.00000   0.00000  2084:    {
        0   0.00000   0.00000  2085:        if ($dst < 0) { $dst = -1; }
        0   0.00000   0.00000  2086:        else          { $dst =  1; }
        0   0.00000   0.00000  2087:    }
        0   0.00000   0.00000  2088:#   $$_seconds =
        0   0.00000   0.00000  2089:    $$_seconds =
        0   0.00000   0.00000  2090:    return 1 if ($$_seconds >= 0);
        0   0.00000   0.00000  2091:    return 0;
        0   0.00000   0.00000  2092:}
        0   0.00000   0.00000  2093:
        0   0.00000   0.00000  2094:sub DateCalc_timezone
        0   0.00000   0.00000  2095:{
        0   0.00000   0.00000  2096:
        0   0.00000   0.00000  2097:
        0   0.00000   0.00000  2098:    if ($when >= 0)
        0   0.00000   0.00000  2099:    {
        0   0.00000   0.00000  2100:
        0   0.00000   0.00000  2101:        $year1 += 1900;
        0   0.00000   0.00000  2102:        $month1++;
        0   0.00000   0.00000  2103:
        0   0.00000   0.00000  2104:        $year2 += 1900;
        0   0.00000   0.00000  2105:        $month2++;
        0   0.00000   0.00000  2106:        if
        0   0.00000   0.00000  2107:
        0   0.00000   0.00000  2108:
        0   0.00000   0.00000  2109:        {
        0   0.00000   0.00000  2110:            if ($$_dst != 0)
        0   0.00000   0.00000  2111:            {
        0   0.00000   0.00000  2112:                if ($$_dst < 0) { $$_dst = -
        0   0.00000   0.00000  2113:                else            { $$_dst =
        0   0.00000   0.00000  2114:            }
        0   0.00000   0.00000  2115:            return 1;
        0   0.00000   0.00000  2116:        }
        0   0.00000   0.00000  2117:    }
        0   0.00000   0.00000  2118:    return 0;
        0   0.00000   0.00000  2119:}
        0   0.00000   0.00000  2120:
        0   0.00000   0.00000  2121:## MacOS (Classic):
        0   0.00000   0.00000  2122:## <695056.0>     = Fri  1-Jan-1904 00:00:00
        0   0.00000   0.00000  2123:## <744766.23295> = Mon  6-Feb-2040 06:28:15
        0   0.00000   0.00000  2124:
        0   0.00000   0.00000  2125:## Unix:
        0   0.00000   0.00000  2126:## <719163.0>     = Thu  1-Jan-1970 00:00:00
        0   0.00000   0.00000  2127:## <744018.11647> = Tue 19-Jan-2038 03:14:07
        0   0.00000   0.00000  2128:
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 67
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  2129:#ifdef MACOS_TRADITIONAL
        0   0.00000   0.00000  2130:    #define DateCalc_DAYS_TO_EPOCH  695056
        0   0.00000   0.00000  2131:    #define DateCalc_DAYS_TO_OVFLW  744766
        0   0.00000   0.00000  2132:    #define DateCalc_SECS_TO_OVFLW   23295
        0   0.00000   0.00000  2133:#else
        0   0.00000   0.00000  2134:    #define DateCalc_DAYS_TO_EPOCH  719163
        0   0.00000   0.00000  2135:    #define DateCalc_DAYS_TO_OVFLW  744018
        0   0.00000   0.00000  2136:    #define DateCalc_SECS_TO_OVFLW   11647
        0   0.00000   0.00000  2137:#endif
        0   0.00000   0.00000  2138:
        0   0.00000   0.00000  2139:## Substitute for BSD's timegm(3) function:
        0   0.00000   0.00000  2140:
        0   0.00000   0.00000  2141:sub DateCalc_date2time
        0   0.00000   0.00000  2142:{
        0   0.00000   0.00000  2143:
        0   0.00000   0.00000  2144:    my($days,$secs);
        0   0.00000   0.00000  2145:    $$_seconds = 0;
        0   0.00000   0.00000  2146:    $days =
        0   0.00000   0.00000  2147:    $secs = ((($hour * 60) + $min) * 60) +
        0   0.00000   0.00000  2148:    return 0 if
        0   0.00000   0.00000  2149:    (
        0   0.00000   0.00000  2150:        ($days <  $DateCalc_DAYS_TO_EPOCH) or
        0   0.00000   0.00000  2151:        ($secs <  0)                       or
        0   0.00000   0.00000  2152:        ($days >  $DateCalc_DAYS_TO_OVFLW) or
        0   0.00000   0.00000  2153:        (
        0   0.00000   0.00000  2154:            ($days ==
        0   0.00000   0.00000  2155:            ($secs >
        0   0.00000   0.00000  2156:        )
        0   0.00000   0.00000  2157:    );
        0   0.00000   0.00000  2158:    $$_seconds = (($days -
        0   0.00000   0.00000  2159:    return 1;
        0   0.00000   0.00000  2160:}
        0   0.00000   0.00000  2161:
        0   0.00000   0.00000  2162:## Substitute for POSIX's gmtime(3) function:
        0   0.00000   0.00000  2163:
        0   0.00000   0.00000  2164:sub DateCalc_time2date
        0   0.00000   0.00000  2165:{
        0   0.00000   0.00000  2166:
        0   0.00000   0.00000  2167:    my($mm,$hh,$dd);
        0   0.00000   0.00000  2168:    return 0 if ($ss < 0);
        0   0.00000   0.00000  2169:    $dd = int($ss / 86400);
        0   0.00000   0.00000  2170:    $ss -= $dd * 86400;
        0   0.00000   0.00000  2171:    $mm = int($ss / 60);
        0   0.00000   0.00000  2172:    $ss -= $mm * 60;
        0   0.00000   0.00000  2173:    $hh = int($mm / 60);
        0   0.00000   0.00000  2174:    $mm -= $hh * 60;
        0   0.00000   0.00000  2175:    $dd += $DateCalc_DAYS_TO_EPOCH-1;
        0   0.00000   0.00000  2176:    $$_sec   = $ss;
        0   0.00000   0.00000  2177:    $$_min   = $mm;
        0   0.00000   0.00000  2178:    $$_hour  = $hh;
        0   0.00000   0.00000  2179:    $$_day   = 1;
        0   0.00000   0.00000  2180:    $$_month = 1;
        0   0.00000   0.00000  2181:    $$_year  = 1;
        0   0.00000   0.00000  2182:    return
        0   0.00000   0.00000  2183:}
        0   0.00000   0.00000  2184:
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 68
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  2185:sub DateCalc_easter_sunday
        0   0.00000   0.00000  2186:{
        0   0.00000   0.00000  2187:
        0   0.00000   0.00000  2188:    ##
        0   0.00000   0.00000  2189:    ##  Gauss'sche Regel (Gaussian Rule)
        0   0.00000   0.00000  2190:    ##  ================================
        0   0.00000   0.00000  2191:    ##
        0   0.00000   0.00000  2192:    ##  Quelle / Source:
        0   0.00000   0.00000  2193:    ##
        0   0.00000   0.00000  2194:    ##  H. H. Voigt, "Abriss der Astronomie",
        0   0.00000   0.00000  2195:    ##  Bibliographisches Institut, Seite 9.
        0   0.00000   0.00000  2196:    ##
        0   0.00000   0.00000  2197:
        0   0.00000   0.00000  2198:
        0   0.00000   0.00000  2199:    my($_year,$_month,$_day) = @_;
        0   0.00000   0.00000  2200:    my($a,$b,$c,$d,$e,$m,$n);
        0   0.00000   0.00000  2201:
        0   0.00000   0.00000  2202:    return 0 if (($$_year < 1583) or ($$_year
        0   0.00000   0.00000  2203:
        0   0.00000   0.00000  2204:    if    ($$_year < 1700) { $m = 22; $n = 2;
        0   0.00000   0.00000  2205:    elsif ($$_year < 1800) { $m = 23; $n = 3;
        0   0.00000   0.00000  2206:    elsif ($$_year < 1900) { $m = 23; $n = 4;
        0   0.00000   0.00000  2207:    elsif ($$_year < 2100) { $m = 24; $n = 5;
        0   0.00000   0.00000  2208:    elsif ($$_year < 2200) { $m = 24; $n = 6;
        0   0.00000   0.00000  2209:    else                   { $m = 25; $n = 0;
        0   0.00000   0.00000  2210:
        0   0.00000   0.00000  2211:    $a = $$_year % 19;
        0   0.00000   0.00000  2212:    $b = $$_year % 4;
        0   0.00000   0.00000  2213:    $c = $$_year % 7;
        0   0.00000   0.00000  2214:    $d = (19 * $a + $m) % 30;
        0   0.00000   0.00000  2215:    $e = (2 * $b + 4 * $c + 6 * $d + $n) % 7;
        0   0.00000   0.00000  2216:    $$_day = 22 + $d + $e;
        0   0.00000   0.00000  2217:    $$_month = 3;
        0   0.00000   0.00000  2218:    if ($$_day > 31)
        0   0.00000   0.00000  2219:    {
        0   0.00000   0.00000  2220:        $$_day -= 31; ## same as $$_day = $d
        0   0.00000   0.00000  2221:        ${$_month}++;
        0   0.00000   0.00000  2222:    }
        0   0.00000   0.00000  2223:    $$_day = 19 if (($$_day == 26) and
        0   0.00000   0.00000  2224:    $$_day = 18 if (($$_day == 25) and
        0   0.00000   0.00000  2225:    return 1;
        0   0.00000   0.00000  2226:}
        0   0.00000   0.00000  2227:
        0   0.00000   0.00000  2228:##  Carnival Monday / Rosenmontag / Veille du
        0   0.00000   0.00000  2229:##  Mardi Gras / Karnevalsdienstag / Mardi
        0   0.00000   0.00000  2230:##  Ash Wednesday / Aschermittwoch / Mercredi
        0   0.00000   0.00000  2231:##  Palm Sunday / Palmsonntag / Dimanche des
        0   0.00000   0.00000  2232:##  Easter Friday / Karfreitag / Vendredi
        0   0.00000   0.00000  2233:##  Easter Saturday / Ostersamstag / Samedi
        0   0.00000   0.00000  2234:##  Easter Monday / Ostermontag / Lundi de
        0   0.00000   0.00000  2235:##  Ascension of Christ / Christi Himmelfahrt
        0   0.00000   0.00000  2236:##  Whitsunday / Pfingstsonntag / Dimanche de
        0   0.00000   0.00000  2237:##  Whitmonday / Pfingstmontag / Lundi de
        0   0.00000   0.00000  2238:##  Feast of Corpus Christi / Fronleichnam /
        0   0.00000   0.00000  2239:
        0   0.00000   0.00000  2240:sub DateCalc_Decode_Month ## 0 = error ##
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 69
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  2241:{
        0   0.00000   0.00000  2242:    my($string,$lang) = @_;
        0   0.00000   0.00000  2243:    my($length,$buffer,$month,$ok,$m);
        0   0.00000   0.00000  2244:    $lang = $DateCalc_Language if (($lang <
        0   0.00000   0.00000  2245:    $length = length($string);
        0   0.00000   0.00000  2246:    $buffer = DateCalc_ISO_UC($string);
        0   0.00000   0.00000  2247:    $month = 0;
        0   0.00000   0.00000  2248:    $ok = 0;
        0   0.00000   0.00000  2249:    MONTH:
        0   0.00000   0.00000  2250:    for ( $m = 1; $m <= 12; $m++ )
        0   0.00000   0.00000  2251:    {
        0   0.00000   0.00000  2252:        next MONTH if ($length >
        0   0.00000   0.00000  2253:        next MONTH if
        0   0.00000   0.00000  2254:        if ($month > 0) { $ok = 0; last
        0   0.00000   0.00000  2255:        else            { $ok = 1; $month =
        0   0.00000   0.00000  2256:    }
        0   0.00000   0.00000  2257:    return $month if ($ok);
        0   0.00000   0.00000  2258:    return 0;
        0   0.00000   0.00000  2259:}
        0   0.00000   0.00000  2260:
        0   0.00000   0.00000  2261:sub DateCalc_Decode_Day_of_Week ## 0 = error
        0   0.00000   0.00000  2262:{
        0   0.00000   0.00000  2263:    my($string,$lang) = @_;
        0   0.00000   0.00000  2264:    my($length,$buffer,$dow,$ok,$d);
        0   0.00000   0.00000  2265:    $lang = $DateCalc_Language if (($lang <
        0   0.00000   0.00000  2266:    $length = length($string);
        0   0.00000   0.00000  2267:    $buffer = DateCalc_ISO_UC($string);
        0   0.00000   0.00000  2268:    $dow = 0;
        0   0.00000   0.00000  2269:    $ok = 0;
        0   0.00000   0.00000  2270:    DAYOFWEEK:
        0   0.00000   0.00000  2271:    for ( $d = 1; $d <= 7; $d++ )
        0   0.00000   0.00000  2272:    {
        0   0.00000   0.00000  2273:        next DAYOFWEEK if ($length >
        0   0.00000   0.00000  2274:        next DAYOFWEEK if
        0   0.00000   0.00000  2275:        if ($dow > 0) { $ok = 0; last
        0   0.00000   0.00000  2276:        else          { $ok = 1; $dow = $d; }
        0   0.00000   0.00000  2277:    }
        0   0.00000   0.00000  2278:    return $dow if ($ok);
        0   0.00000   0.00000  2279:    return 0;
        0   0.00000   0.00000  2280:}
        0   0.00000   0.00000  2281:
        0   0.00000   0.00000  2282:sub DateCalc_Decode_Language ## 0 = error ##
        0   0.00000   0.00000  2283:{
        0   0.00000   0.00000  2284:    my($string) = $_[0];
        0   0.00000   0.00000  2285:    my($length,$buffer,$lang,$ok,$l);
        0   0.00000   0.00000  2286:    $length = length($string);
        0   0.00000   0.00000  2287:    $buffer = DateCalc_ISO_UC($string);
        0   0.00000   0.00000  2288:    $lang = 0;
        0   0.00000   0.00000  2289:    $ok = 0;
        0   0.00000   0.00000  2290:    LANGUAGE:
        0   0.00000   0.00000  2291:    for ( $l = 1; $l <= $DateCalc_LANGUAGES;
        0   0.00000   0.00000  2292:    {
        0   0.00000   0.00000  2293:        next LANGUAGE if ($length >
        0   0.00000   0.00000  2294:        next LANGUAGE if
        0   0.00000   0.00000  2295:        if ($lang > 0) { $ok = 0; last
        0   0.00000   0.00000  2296:        else           { $ok = 1; $lang = $l;
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 70
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  2297:    }
        0   0.00000   0.00000  2298:    return $lang if ($ok);
        0   0.00000   0.00000  2299:    return 0;
        0   0.00000   0.00000  2300:}
        0   0.00000   0.00000  2301:
        0   0.00000   0.00000  2302:sub DateCalc_decode_date_eu
        0   0.00000   0.00000  2303:{
        0   0.00000   0.00000  2304:    my($string,$_year,$_month,$_day,$lang) =
        0   0.00000   0.00000  2305:    my($length,$buffer,$i,$j);
        0   0.00000   0.00000  2306:    $lang = $DateCalc_Language if (($lang <
        0   0.00000   0.00000  2307:    $$_year = $$_month = $$_day = 0;
        0   0.00000   0.00000  2308:    return 0 unless ($length =
        0   0.00000   0.00000  2309:    $buffer = 0;
        0   0.00000   0.00000  2310:    $i = 0;
        0   0.00000   0.00000  2311:    while
        0   0.00000   0.00000  2312:    $j = $length-1;
        0   0.00000   0.00000  2313:    while
        0   0.00000   0.00000  2314:    if ($i+1 < $j)      ## at least 3 chars,
        0   0.00000   0.00000  2315:    {
        0   0.00000   0.00000  2316:        $buffer += $i;
        0   0.00000   0.00000  2317:        $length = $j-$i+1;
        0   0.00000   0.00000  2318:        $i = 1;
        0   0.00000   0.00000  2319:        while
        0   0.00000   0.00000  2320:        $j = $length-2;
        0   0.00000   0.00000  2321:        while
        0   0.00000   0.00000  2322:        if ($j < $i)  ## only numerical chars
        0   0.00000   0.00000  2323:        {
        0   0.00000   0.00000  2324:            if    ($length == 3)
        0   0.00000   0.00000  2325:            {
        0   0.00000   0.00000  2326:                $$_day   =
        0   0.00000   0.00000  2327:                $$_month =
        0   0.00000   0.00000  2328:                $$_year  =
        0   0.00000   0.00000  2329:            }
        0   0.00000   0.00000  2330:            elsif ($length == 4)
        0   0.00000   0.00000  2331:            {
        0   0.00000   0.00000  2332:                $$_day   =
        0   0.00000   0.00000  2333:                $$_month =
        0   0.00000   0.00000  2334:                $$_year  =
        0   0.00000   0.00000  2335:            }
        0   0.00000   0.00000  2336:            elsif ($length == 5)
        0   0.00000   0.00000  2337:            {
        0   0.00000   0.00000  2338:                $$_day   =
        0   0.00000   0.00000  2339:                $$_month =
        0   0.00000   0.00000  2340:                $$_year  =
        0   0.00000   0.00000  2341:            }
        0   0.00000   0.00000  2342:            elsif ($length == 6)
        0   0.00000   0.00000  2343:            {
        0   0.00000   0.00000  2344:                $$_day   =
        0   0.00000   0.00000  2345:                $$_month =
        0   0.00000   0.00000  2346:                $$_year  =
        0   0.00000   0.00000  2347:            }
        0   0.00000   0.00000  2348:            elsif ($length == 7)
        0   0.00000   0.00000  2349:            {
        0   0.00000   0.00000  2350:                $$_day   =
        0   0.00000   0.00000  2351:                $$_month =
        0   0.00000   0.00000  2352:                $$_year  =
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 71
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  2353:            }
        0   0.00000   0.00000  2354:            elsif ($length == 8)
        0   0.00000   0.00000  2355:            {
        0   0.00000   0.00000  2356:                $$_day   =
        0   0.00000   0.00000  2357:                $$_month =
        0   0.00000   0.00000  2358:                $$_year  =
        0   0.00000   0.00000  2359:            }
        0   0.00000   0.00000  2360:            else { return 0; }
        0   0.00000   0.00000  2361:        }
        0   0.00000   0.00000  2362:        else        ## at least one non-
        0   0.00000   0.00000  2363:        {
        0   0.00000   0.00000  2364:            $$_day  =
        0   0.00000   0.00000  2365:            $$_year =
        0   0.00000   0.00000  2366:            while
        0   0.00000   0.00000  2367:            while
        0   0.00000   0.00000  2368:            if ($i <= $j)       ## at least
        0   0.00000   0.00000  2369:            {
        0   0.00000   0.00000  2370:                $buffer += $i;
        0   0.00000   0.00000  2371:                $length = $j-$i+1;
        0   0.00000   0.00000  2372:                $i = 1;
        0   0.00000   0.00000  2373:                while
        0   0.00000   0.00000  2374:                if ($i >= $length)  ## ok, no
        0   0.00000   0.00000  2375:                {
        0   0.00000   0.00000  2376:                    $i = 0;
        0   0.00000   0.00000  2377:                    while
        0   0.00000   0.00000  2378:                    if ($i >= $length) ##
        0   0.00000   0.00000  2379:                    {
        0   0.00000   0.00000  2380:                        $$_month =
        0   0.00000   0.00000  2381:                    }
        0   0.00000   0.00000  2382:                    else             ## match
        0   0.00000   0.00000  2383:                    {
        0   0.00000   0.00000  2384:                        $$_month =
        0   0.00000   0.00000  2385:                    }
        0   0.00000   0.00000  2386:                }
        0   0.00000   0.00000  2387:                else { return 0; } ##
        0   0.00000   0.00000  2388:            }
        0   0.00000   0.00000  2389:            else { return 0; } ## no chars
        0   0.00000   0.00000  2390:        }           ## at least one non-
        0   0.00000   0.00000  2391:    }
        0   0.00000   0.00000  2392:    else { return 0; } ## less than 3 chars
        0   0.00000   0.00000  2393:    $$_year =
        0   0.00000   0.00000  2394:    return
        0   0.00000   0.00000  2395:}
        0   0.00000   0.00000  2396:
        0   0.00000   0.00000  2397:sub DateCalc_decode_date_us
        0   0.00000   0.00000  2398:{
        0   0.00000   0.00000  2399:    my($string,$_year,$_month,$_day,$lang) =
        0   0.00000   0.00000  2400:    my($length,$buffer,$i,$j,$k);
        0   0.00000   0.00000  2401:    $lang = $DateCalc_Language if (($lang <
        0   0.00000   0.00000  2402:
        0   0.00000   0.00000  2403:    $$_year = $$_month = $$_day = 0;
        0   0.00000   0.00000  2404:    return 0 unless ($length =
        0   0.00000   0.00000  2405:    {
        0   0.00000   0.00000  2406:        $buffer = 0;
        0   0.00000   0.00000  2407:        $i = 0;
        0   0.00000   0.00000  2408:        while
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 72
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  2409:        $j = $length-1;
        0   0.00000   0.00000  2410:        while
        0   0.00000   0.00000  2411:        if ($i+1 < $j)      ## at least 3
        0   0.00000   0.00000  2412:        {
        0   0.00000   0.00000  2413:            $buffer += $i;
        0   0.00000   0.00000  2414:            $length = $j-$i+1;
        0   0.00000   0.00000  2415:            $i = 1;
        0   0.00000   0.00000  2416:            while
        0   0.00000   0.00000  2417:            $j = $length-2;
        0   0.00000   0.00000  2418:            while
        0   0.00000   0.00000  2419:            if ($i >= $length)  ## only
        0   0.00000   0.00000  2420:            {
        0   0.00000   0.00000  2421:                if ($j < 0) ## case 0 :
        0   0.00000   0.00000  2422:                {           ##             j0
        0   0.00000   0.00000  2423:                    if    ($length == 3)
        0   0.00000   0.00000  2424:                    {
        0   0.00000   0.00000  2425:                        $$_month =
        0   0.00000   0.00000  2426:                        $$_day   =
        0   0.00000   0.00000  2427:                        $$_year  =
        0   0.00000   0.00000  2428:                    }
        0   0.00000   0.00000  2429:                    elsif ($length == 4)
        0   0.00000   0.00000  2430:                    {
        0   0.00000   0.00000  2431:                        $$_month =
        0   0.00000   0.00000  2432:                        $$_day   =
        0   0.00000   0.00000  2433:                        $$_year  =
        0   0.00000   0.00000  2434:                    }
        0   0.00000   0.00000  2435:                    elsif ($length == 5)
        0   0.00000   0.00000  2436:                    {
        0   0.00000   0.00000  2437:                        $$_month =
        0   0.00000   0.00000  2438:                        $$_day   =
        0   0.00000   0.00000  2439:                        $$_year  =
        0   0.00000   0.00000  2440:                    }
        0   0.00000   0.00000  2441:                    elsif ($length == 6)
        0   0.00000   0.00000  2442:                    {
        0   0.00000   0.00000  2443:                        $$_month =
        0   0.00000   0.00000  2444:                        $$_day   =
        0   0.00000   0.00000  2445:                        $$_year  =
        0   0.00000   0.00000  2446:                    }
        0   0.00000   0.00000  2447:                    elsif ($length == 7)
        0   0.00000   0.00000  2448:                    {
        0   0.00000   0.00000  2449:                        $$_month =
        0   0.00000   0.00000  2450:                        $$_day   =
        0   0.00000   0.00000  2451:                        $$_year  =
        0   0.00000   0.00000  2452:                    }
        0   0.00000   0.00000  2453:                    elsif ($length == 8)
        0   0.00000   0.00000  2454:                    {
        0   0.00000   0.00000  2455:                        $$_month =
        0   0.00000   0.00000  2456:                        $$_day   =
        0   0.00000   0.00000  2457:                        $$_year  =
        0   0.00000   0.00000  2458:                    }
        0   0.00000   0.00000  2459:                    else { return 0; }
        0   0.00000   0.00000  2460:                }
        0   0.00000   0.00000  2461:                else        ## case 1 :
        0   0.00000   0.00000  2462:                {           ##              0
        0   0.00000   0.00000  2463:                    $$_month =
        0   0.00000   0.00000  2464:                    $buffer += $j+1;
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 73
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  2465:                    $length -= $j+1;
        0   0.00000   0.00000  2466:                    if    ($length == 2)
        0   0.00000   0.00000  2467:                    {
        0   0.00000   0.00000  2468:                        $$_day  =
        0   0.00000   0.00000  2469:                        $$_year =
        0   0.00000   0.00000  2470:                    }
        0   0.00000   0.00000  2471:                    elsif ($length == 3)
        0   0.00000   0.00000  2472:                    {
        0   0.00000   0.00000  2473:                        $$_day  =
        0   0.00000   0.00000  2474:                        $$_year =
        0   0.00000   0.00000  2475:                    }
        0   0.00000   0.00000  2476:                    elsif ($length == 4)
        0   0.00000   0.00000  2477:                    {
        0   0.00000   0.00000  2478:                        $$_day  =
        0   0.00000   0.00000  2479:                        $$_year =
        0   0.00000   0.00000  2480:                    }
        0   0.00000   0.00000  2481:                    elsif ($length == 5)
        0   0.00000   0.00000  2482:                    {
        0   0.00000   0.00000  2483:                        $$_day  =
        0   0.00000   0.00000  2484:                        $$_year =
        0   0.00000   0.00000  2485:                    }
        0   0.00000   0.00000  2486:                    elsif ($length == 6)
        0   0.00000   0.00000  2487:                    {
        0   0.00000   0.00000  2488:                        $$_day  =
        0   0.00000   0.00000  2489:                        $$_year =
        0   0.00000   0.00000  2490:                    }
        0   0.00000   0.00000  2491:                    else { return 0; }
        0   0.00000   0.00000  2492:                }
        0   0.00000   0.00000  2493:            }              ##              0
        0   0.00000   0.00000  2494:            else           ## case 2 :
        0   0.00000   0.00000  2495:            {              ## case 3 :
        0   0.00000   0.00000  2496:                $k = 0;    ##              0
        0   0.00000   0.00000  2497:                while
        0   0.00000   0.00000  2498:                if ($k >= $i) ## ok, only
        0   0.00000   0.00000  2499:                {
        0   0.00000   0.00000  2500:                    $$_month =
        0   0.00000   0.00000  2501:                }
        0   0.00000   0.00000  2502:                else          ## no, some
        0   0.00000   0.00000  2503:                {
        0   0.00000   0.00000  2504:                    $$_month =
        0   0.00000   0.00000  2505:                    if ($$_month == 0) {
        0   0.00000   0.00000  2506:                }
        0   0.00000   0.00000  2507:                $buffer += $i;
        0   0.00000   0.00000  2508:                $length -= $i;
        0   0.00000   0.00000  2509:                $j -= $i;
        0   0.00000   0.00000  2510:                $k = $j+1; ## remember start
        0   0.00000   0.00000  2511:                $i = 1;
        0   0.00000   0.00000  2512:                while
        0   0.00000   0.00000  2513:                $j--;
        0   0.00000   0.00000  2514:                while
        0   0.00000   0.00000  2515:                if ($j < $i) ## case 2 :
        0   0.00000   0.00000  2516:                {            ##
        0   0.00000   0.00000  2517:                    $buffer += $k;    ##
        0   0.00000   0.00000  2518:                    $length -= $k;
        0   0.00000   0.00000  2519:                    if    ($length == 2)
        0   0.00000   0.00000  2520:                    {
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 74
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  2521:                        $$_day  =
        0   0.00000   0.00000  2522:                        $$_year =
        0   0.00000   0.00000  2523:                    }
        0   0.00000   0.00000  2524:                    elsif ($length == 3)
        0   0.00000   0.00000  2525:                    {
        0   0.00000   0.00000  2526:                        $$_day  =
        0   0.00000   0.00000  2527:                        $$_year =
        0   0.00000   0.00000  2528:                    }
        0   0.00000   0.00000  2529:                    elsif ($length == 4)
        0   0.00000   0.00000  2530:                    {
        0   0.00000   0.00000  2531:                        $$_day  =
        0   0.00000   0.00000  2532:                        $$_year =
        0   0.00000   0.00000  2533:                    }
        0   0.00000   0.00000  2534:                    elsif ($length == 5)
        0   0.00000   0.00000  2535:                    {
        0   0.00000   0.00000  2536:                        $$_day  =
        0   0.00000   0.00000  2537:                        $$_year =
        0   0.00000   0.00000  2538:                    }
        0   0.00000   0.00000  2539:                    elsif ($length == 6)
        0   0.00000   0.00000  2540:                    {
        0   0.00000   0.00000  2541:                        $$_day  =
        0   0.00000   0.00000  2542:                        $$_year =
        0   0.00000   0.00000  2543:                    }
        0   0.00000   0.00000  2544:                    else { return 0; }
        0   0.00000   0.00000  2545:                }
        0   0.00000   0.00000  2546:                else       ## case 3 :
        0   0.00000   0.00000  2547:                {          ##
        0   0.00000   0.00000  2548:                    $$_year =
        0   0.00000   0.00000  2549:                    $k = $i;
        0   0.00000   0.00000  2550:                    while
        0   0.00000   0.00000  2551:                    if ($k > $j)       ## ok,
        0   0.00000   0.00000  2552:                    {
        0   0.00000   0.00000  2553:                        $$_day =
        0   0.00000   0.00000  2554:                    }
        0   0.00000   0.00000  2555:                    else { return 0; } ##
        0   0.00000   0.00000  2556:                }
        0   0.00000   0.00000  2557:            }                 ## i < length
        0   0.00000   0.00000  2558:        }
        0   0.00000   0.00000  2559:        else { return 0; } ## less than 3
        0   0.00000   0.00000  2560:    }
        0   0.00000   0.00000  2561:    $$_year =
        0   0.00000   0.00000  2562:    return
        0   0.00000   0.00000  2563:}
        0   0.00000   0.00000  2564:
        0   0.00000   0.00000  2565:sub DateCalc_Fixed_Window
        0   0.00000   0.00000  2566:{
        0   0.00000   0.00000  2567:    my($year) = $_[0];
        0   0.00000   0.00000  2568:    return 0 if ($year < 0);
        0   0.00000   0.00000  2569:    if ($year < 100)
        0   0.00000   0.00000  2570:    {
        0   0.00000   0.00000  2571:        $year += 100 if ($year <
        0   0.00000   0.00000  2572:        $year += $DateCalc_CENTURY_OF_EPOCH;
        0   0.00000   0.00000  2573:    }
        0   0.00000   0.00000  2574:    return $year;
        0   0.00000   0.00000  2575:}
        0   0.00000   0.00000  2576:
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 75
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  2577:sub DateCalc_Moving_Window
        0   0.00000   0.00000  2578:{
        0   0.00000   0.00000  2579:    my($year) = $_[0];
        0   0.00000   0.00000  2580:    my($seconds,$current,$century);
        0   0.00000   0.00000  2581:    return 0 if ($year < 0);
        0   0.00000   0.00000  2582:    if ($year < 100)
        0   0.00000   0.00000  2583:    {
        0   0.00000   0.00000  2584:        if (($seconds = time()) >= 0)
        0   0.00000   0.00000  2585:        {
        0   0.00000   0.00000  2586:            $current = (gmtime($seconds))[5]
        0   0.00000   0.00000  2587:            $century = int($current / 100);
        0   0.00000   0.00000  2588:            $year += $century * 100;
        0   0.00000   0.00000  2589:            if    ($year <  $current - 50) {
        0   0.00000   0.00000  2590:            elsif ($year >= $current + 50) {
        0   0.00000   0.00000  2591:        }
        0   0.00000   0.00000  2592:        else { $year =
        0   0.00000   0.00000  2593:    }
        0   0.00000   0.00000  2594:    return $year;
        0   0.00000   0.00000  2595:}
        0   0.00000   0.00000  2596:
        0   0.00000   0.00000  2597:sub DateCalc_Compress
        0   0.00000   0.00000  2598:{
        0   0.00000   0.00000  2599:    my($year,$month,$day) = @_;
        0   0.00000   0.00000  2600:    my($yy);
        0   0.00000   0.00000  2601:    if (($year >= $DateCalc_EPOCH) and ($year
        0   0.00000   0.00000  2602:    {
        0   0.00000   0.00000  2603:        $yy = $year;
        0   0.00000   0.00000  2604:        $year -= $DateCalc_EPOCH;
        0   0.00000   0.00000  2605:    }
        0   0.00000   0.00000  2606:    else
        0   0.00000   0.00000  2607:    {
        0   0.00000   0.00000  2608:        return 0 if (($year < 0) or ($year >
        0   0.00000   0.00000  2609:        if ($year < $DateCalc_YEAR_OF_EPOCH)
        0   0.00000   0.00000  2610:        {
        0   0.00000   0.00000  2611:            $yy = $DateCalc_CENTURY_OF_EPOCH
        0   0.00000   0.00000  2612:            $year += 100 -
        0   0.00000   0.00000  2613:        }
        0   0.00000   0.00000  2614:        else
        0   0.00000   0.00000  2615:        {
        0   0.00000   0.00000  2616:            $yy = $DateCalc_CENTURY_OF_EPOCH
        0   0.00000   0.00000  2617:            $year -= $DateCalc_YEAR_OF_EPOCH;
        0   0.00000   0.00000  2618:        }
        0   0.00000   0.00000  2619:    }
        0   0.00000   0.00000  2620:    return 0 if (($month < 1) or ($month >
        0   0.00000   0.00000  2621:    return 0 if
        0   0.00000   0.00000  2622:        (($day < 1) or
        0   0.00000   0.00000  2623:         ($day >
        0   0.00000   0.00000  2624:    return ($year << 9) | ($month << 5) |
        0   0.00000   0.00000  2625:}
        0   0.00000   0.00000  2626:
        0   0.00000   0.00000  2627:sub DateCalc_uncompress
        0   0.00000   0.00000  2628:{
        0   0.00000   0.00000  2629:    my($date,$_century,$_year,$_month,$_day)
        0   0.00000   0.00000  2630:    if ($date > 0)
        0   0.00000   0.00000  2631:    {
        0   0.00000   0.00000  2632:        $$_year  =  $date >> 9;
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 76
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  2633:        $$_month = ($date & 0x01FF) >> 5;
        0   0.00000   0.00000  2634:        $$_day   =  $date & 0x001F;
        0   0.00000   0.00000  2635:        if ($$_year < 100)
        0   0.00000   0.00000  2636:        {
        0   0.00000   0.00000  2637:            if ($$_year < 100-
        0   0.00000   0.00000  2638:            {
        0   0.00000   0.00000  2639:                $$_century =
        0   0.00000   0.00000  2640:                $$_year +=
        0   0.00000   0.00000  2641:            }
        0   0.00000   0.00000  2642:            else
        0   0.00000   0.00000  2643:            {
        0   0.00000   0.00000  2644:                $$_century =
        0   0.00000   0.00000  2645:                $$_year -= 100-
        0   0.00000   0.00000  2646:            }
        0   0.00000   0.00000  2647:            return
        0   0.00000   0.00000  2648:        }
        0   0.00000   0.00000  2649:    }
        0   0.00000   0.00000  2650:    return 0;
        0   0.00000   0.00000  2651:}
        0   0.00000   0.00000  2652:
        0   0.00000   0.00000  2653:sub DateCalc_check_compressed
        0   0.00000   0.00000  2654:{
        0   0.00000   0.00000  2655:    my($century,$year,$month,$day);
        0   0.00000   0.00000  2656:    return
        0   0.00000   0.00000  2657:}
        0   0.00000   0.00000  2658:
        0   0.00000   0.00000  2659:sub DateCalc_Compressed_to_Text
        0   0.00000   0.00000  2660:{
        0   0.00000   0.00000  2661:    my($date,$lang) = @_;
        0   0.00000   0.00000  2662:    my($century,$year,$month,$day,$string);
        0   0.00000   0.00000  2663:    $lang = $DateCalc_Language if (($lang <
        0   0.00000   0.00000  2664:    if
        0   0.00000   0.00000  2665:    {
        0   0.00000   0.00000  2666:        $string = sprintf("%02d-%.3s-
        0   0.00000   0.00000  2667:    }
        0   0.00000   0.00000  2668:    else { $string = '??-???-??'; }
        0   0.00000   0.00000  2669:    return $string;
        0   0.00000   0.00000  2670:}
        0   0.00000   0.00000  2671:
        0   0.00000   0.00000  2672:sub DateCalc_Date_to_Text
        0   0.00000   0.00000  2673:{
        0   0.00000   0.00000  2674:    my($year,$month,$day,$lang) = @_;
        0   0.00000   0.00000  2675:    $lang = $DateCalc_Language if (($lang <
        0   0.00000   0.00000  2676:    if
        0   0.00000   0.00000  2677:    {
        0   0.00000   0.00000  2678:        if
        0   0.00000   0.00000  2679:        {
        0   0.00000   0.00000  2680:            return sprintf("%.3s %d-%.3s-%d",
        0   0.00000   0.00000  2681:
        0   0.00000   0.00000  2682:
        0   0.00000   0.00000  2683:        }
        0   0.00000   0.00000  2684:        else
        0   0.00000   0.00000  2685:        {
        0   0.00000   0.00000  2686:            return sprintf("%.3s %d-%.3s-%d",
        0   0.00000   0.00000  2687:
        0   0.00000   0.00000  2688:
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 77
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  2689:        }
        0   0.00000   0.00000  2690:    }
        0   0.00000   0.00000  2691:    return undef;
        0   0.00000   0.00000  2692:}
        0   0.00000   0.00000  2693:
        0   0.00000   0.00000  2694:sub DateCalc_English_Ordinal
        0   0.00000   0.00000  2695:{
        0   0.00000   0.00000  2696:    my($result) = "$_[0]";
        0   0.00000   0.00000  2697:    my($length,$digit);
        0   0.00000   0.00000  2698:    if (($length = length($result)) > 0)
        0   0.00000   0.00000  2699:    {
        0   0.00000   0.00000  2700:        $digit = 0 unless
        0   0.00000   0.00000  2701:        (
        0   0.00000   0.00000  2702:            ( (($length > 1) and
        0   0.00000   0.00000  2703:            and
        0   0.00000   0.00000  2704:            ( ($digit =
        0   0.00000   0.00000  2705:        );
        0   0.00000   0.00000  2706:        $result .=
        0   0.00000   0.00000  2707:    }
        0   0.00000   0.00000  2708:    return $result;
        0   0.00000   0.00000  2709:}
        0   0.00000   0.00000  2710:
        0   0.00000   0.00000  2711:sub DateCalc_Date_to_Text_Long
        0   0.00000   0.00000  2712:{
        0   0.00000   0.00000  2713:    my($year,$month,$day,$lang) = @_;
        0   0.00000   0.00000  2714:    my($string,$buffer);
        0   0.00000   0.00000  2715:    $lang = $DateCalc_Language if (($lang <
        0   0.00000   0.00000  2716:    if
        0   0.00000   0.00000  2717:    {
        0   0.00000   0.00000  2718:        if    ($lang == 1)
        0   0.00000   0.00000  2719:        {
        0   0.00000   0.00000  2720:            return sprintf
        0   0.00000   0.00000  2721:            (
        0   0.00000   0.00000  2722:
        0   0.00000   0.00000  2723:
        0   0.00000   0.00000  2724:
        0   0.00000   0.00000  2725:
        0   0.00000   0.00000  2726:
        0   0.00000   0.00000  2727:                $year
        0   0.00000   0.00000  2728:            );
        0   0.00000   0.00000  2729:        }
        0   0.00000   0.00000  2730:        elsif ($lang == 12)
        0   0.00000   0.00000  2731:        {
        0   0.00000   0.00000  2732:            return sprintf
        0   0.00000   0.00000  2733:            (
        0   0.00000   0.00000  2734:
        0   0.00000   0.00000  2735:                $year,
        0   0.00000   0.00000  2736:
        0   0.00000   0.00000  2737:                $day,
        0   0.00000   0.00000  2738:
        0   0.00000   0.00000  2739:
        0   0.00000   0.00000  2740:            );
        0   0.00000   0.00000  2741:        }
        0   0.00000   0.00000  2742:        else
        0   0.00000   0.00000  2743:        {
        0   0.00000   0.00000  2744:            return sprintf
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 78
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  2745:            (
        0   0.00000   0.00000  2746:
        0   0.00000   0.00000  2747:
        0   0.00000   0.00000  2748:
        0   0.00000   0.00000  2749:                $day,
        0   0.00000   0.00000  2750:
        0   0.00000   0.00000  2751:                $year
        0   0.00000   0.00000  2752:            );
        0   0.00000   0.00000  2753:        }
        0   0.00000   0.00000  2754:    }
        0   0.00000   0.00000  2755:    return undef;
        0   0.00000   0.00000  2756:}
        0   0.00000   0.00000  2757:
        0   0.00000   0.00000  2758:sub DateCalc_Calendar
        0   0.00000   0.00000  2759:{
        0   0.00000   0.00000  2760:    my($year,$month,$orthodox,$lang) = @_;
        0   0.00000   0.00000  2761:
        0   0.00000   0.00000  2762:    if (($lang < 1) or ($lang >
        0   0.00000   0.00000  2763:    $string = '';
        0   0.00000   0.00000  2764:    $cursor = \$string;
        0   0.00000   0.00000  2765:    DateCalc_Newline($cursor,1);
        0   0.00000   0.00000  2766:    $buffer = sprintf("%s %d",
        0   0.00000   0.00000  2767:    DateCalc_Center($cursor,$buffer,27);
        0   0.00000   0.00000  2768:    if
        0   0.00000   0.00000  2769:    {
        0   0.00000   0.00000  2770:        if ($orthodox)
        0   0.00000   0.00000  2771:        {
        0   0.00000   0.00000  2772:            $string .= sprintf("%3.3s %3.3s
        0   0.00000   0.00000  2773:
        0   0.00000   0.00000  2774:
        0   0.00000   0.00000  2775:
        0   0.00000   0.00000  2776:
        0   0.00000   0.00000  2777:
        0   0.00000   0.00000  2778:
        0   0.00000   0.00000  2779:
        0   0.00000   0.00000  2780:        }
        0   0.00000   0.00000  2781:        else ## conform to ISO standard ##
        0   0.00000   0.00000  2782:        {
        0   0.00000   0.00000  2783:            $string .= sprintf("%3.3s %3.3s
        0   0.00000   0.00000  2784:
        0   0.00000   0.00000  2785:
        0   0.00000   0.00000  2786:
        0   0.00000   0.00000  2787:
        0   0.00000   0.00000  2788:
        0   0.00000   0.00000  2789:
        0   0.00000   0.00000  2790:
        0   0.00000   0.00000  2791:        }
        0   0.00000   0.00000  2792:    }
        0   0.00000   0.00000  2793:    else
        0   0.00000   0.00000  2794:    {
        0   0.00000   0.00000  2795:        if ($orthodox)
        0   0.00000   0.00000  2796:        {
        0   0.00000   0.00000  2797:            $string .= sprintf("%3.3s %3.3s
        0   0.00000   0.00000  2798:
        0   0.00000   0.00000  2799:
        0   0.00000   0.00000  2800:
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 79
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  2801:
        0   0.00000   0.00000  2802:
        0   0.00000   0.00000  2803:
        0   0.00000   0.00000  2804:
        0   0.00000   0.00000  2805:        }
        0   0.00000   0.00000  2806:        else ## conform to ISO standard ##
        0   0.00000   0.00000  2807:        {
        0   0.00000   0.00000  2808:            $string .= sprintf("%3.3s %3.3s
        0   0.00000   0.00000  2809:
        0   0.00000   0.00000  2810:
        0   0.00000   0.00000  2811:
        0   0.00000   0.00000  2812:
        0   0.00000   0.00000  2813:
        0   0.00000   0.00000  2814:
        0   0.00000   0.00000  2815:
        0   0.00000   0.00000  2816:        }
        0   0.00000   0.00000  2817:    }
        0   0.00000   0.00000  2818:    $first =
        0   0.00000   0.00000  2819:    $last =
        0   0.00000   0.00000  2820:    if ($orthodox) { $first = 0 if ($first ==
        0   0.00000   0.00000  2821:    else           { $first--; }
        0   0.00000   0.00000  2822:    if ($first) {
        0   0.00000   0.00000  2823:    for ( $day = 1; $day <= $last; $day++,
        0   0.00000   0.00000  2824:    {
        0   0.00000   0.00000  2825:        if ($first > 0)
        0   0.00000   0.00000  2826:        {
        0   0.00000   0.00000  2827:            if ($first > 6)
        0   0.00000   0.00000  2828:            {
        0   0.00000   0.00000  2829:                $first = 0;
        0   0.00000   0.00000  2830:                DateCalc_Newline($cursor,1);
        0   0.00000   0.00000  2831:            }
        0   0.00000   0.00000  2832:            else { DateCalc_Blank($cursor,1);
        0   0.00000   0.00000  2833:        }
        0   0.00000   0.00000  2834:        $string .= sprintf(" %2d",$day);
        0   0.00000   0.00000  2835:    }
        0   0.00000   0.00000  2836:    DateCalc_Newline($cursor,2);
        0   0.00000   0.00000  2837:    return $string;
        0   0.00000   0.00000  2838:}
        0   0.00000   0.00000  2839:
        0   0.00000   0.00000  2840:###############
        0   0.00000   0.00000  2841:##           ##
        0   0.00000   0.00000  2842:##  Calc.pm  ##
        0   0.00000   0.00000  2843:##           ##
        0   0.00000   0.00000  2844:###############
        0   0.00000   0.00000  2845:
        0   0.00000   0.00000  2846:sub Decode_Date_EU2
        0   0.00000   0.00000  2847:{
        0   0.00000   0.00000  2848:    die "Usage: (\$year,\$month,\$day) =
        0   0.00000   0.00000  2849:      unless ((@_ == 1) or (@_ == 2));
        0   0.00000   0.00000  2850:
        0   0.00000   0.00000  2851:    my($buffer) = shift;
        0   0.00000   0.00000  2852:    my($lang)   = shift || 0;
        0   0.00000   0.00000  2853:    my($year,$month,$day,$length);
        0   0.00000   0.00000  2854:
        0   0.00000   0.00000  2855:    $lang = Language() unless (($lang >= 1)
        0   0.00000   0.00000  2856:    if ($buffer =~ /^\D*  (\d+)  [^A-Za-z0-
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 80
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  2857:    {
        0   0.00000   0.00000  2858:        ($day,$month,$year) = ($1,$2,$3);
        0   0.00000   0.00000  2859:        $month = Decode_Month($month,$lang);
        0   0.00000   0.00000  2860:        unless ($month > 0)
        0   0.00000   0.00000  2861:        {
        0   0.00000   0.00000  2862:            return(); # can't decode month!
        0   0.00000   0.00000  2863:        }
        0   0.00000   0.00000  2864:    }
        0   0.00000   0.00000  2865:    elsif ($buffer =~ /^\D*  0*(\d+)  \D*$/x)
        0   0.00000   0.00000  2866:    {
        0   0.00000   0.00000  2867:        $buffer = $1;
        0   0.00000   0.00000  2868:        $length = length($buffer);
        0   0.00000   0.00000  2869:        if    ($length == 3)
        0   0.00000   0.00000  2870:        {
        0   0.00000   0.00000  2871:            $day   = substr($buffer,0,1);
        0   0.00000   0.00000  2872:            $month = substr($buffer,1,1);
        0   0.00000   0.00000  2873:            $year  = substr($buffer,2,1);
        0   0.00000   0.00000  2874:        }
        0   0.00000   0.00000  2875:        elsif ($length == 4)
        0   0.00000   0.00000  2876:        {
        0   0.00000   0.00000  2877:            $day   = substr($buffer,0,1);
        0   0.00000   0.00000  2878:            $month = substr($buffer,1,1);
        0   0.00000   0.00000  2879:            $year  = substr($buffer,2,2);
        0   0.00000   0.00000  2880:        }
        0   0.00000   0.00000  2881:        elsif ($length == 5)
        0   0.00000   0.00000  2882:        {
        0   0.00000   0.00000  2883:            $day   = substr($buffer,0,1);
        0   0.00000   0.00000  2884:            $month = substr($buffer,1,2);
        0   0.00000   0.00000  2885:            $year  = substr($buffer,3,2);
        0   0.00000   0.00000  2886:        }
        0   0.00000   0.00000  2887:        elsif ($length == 6)
        0   0.00000   0.00000  2888:        {
        0   0.00000   0.00000  2889:            $day   = substr($buffer,0,2);
        0   0.00000   0.00000  2890:            $month = substr($buffer,2,2);
        0   0.00000   0.00000  2891:            $year  = substr($buffer,4,2);
        0   0.00000   0.00000  2892:        }
        0   0.00000   0.00000  2893:        elsif ($length == 7)
        0   0.00000   0.00000  2894:        {
        0   0.00000   0.00000  2895:            $day   = substr($buffer,0,1);
        0   0.00000   0.00000  2896:            $month = substr($buffer,1,2);
        0   0.00000   0.00000  2897:            $year  = substr($buffer,3,4);
        0   0.00000   0.00000  2898:        }
        0   0.00000   0.00000  2899:        elsif ($length == 8)
        0   0.00000   0.00000  2900:        {
        0   0.00000   0.00000  2901:            $day   = substr($buffer,0,2);
        0   0.00000   0.00000  2902:            $month = substr($buffer,2,2);
        0   0.00000   0.00000  2903:            $year  = substr($buffer,4,4);
        0   0.00000   0.00000  2904:        }
        0   0.00000   0.00000  2905:        else { return(); } # wrong number of
        0   0.00000   0.00000  2906:    }
        0   0.00000   0.00000  2907:    elsif ($buffer =~ /^\D*  (\d+)  \D+
        0   0.00000   0.00000  2908:    {
        0   0.00000   0.00000  2909:        ($day,$month,$year) = ($1,$2,$3);
        0   0.00000   0.00000  2910:    }
        0   0.00000   0.00000  2911:    else { return(); } # no match at all!
        0   0.00000   0.00000  2912:    $year = Moving_Window($year);
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 81
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  2913:    if (check_date($year,$month,$day))
        0   0.00000   0.00000  2914:    {
        0   0.00000   0.00000  2915:        return($year,$month,$day);
        0   0.00000   0.00000  2916:    }
        0   0.00000   0.00000  2917:    else { return(); } # not a valid date!
        0   0.00000   0.00000  2918:}
        0   0.00000   0.00000  2919:
        0   0.00000   0.00000  2920:sub Decode_Date_US2
        0   0.00000   0.00000  2921:{
        0   0.00000   0.00000  2922:    die "Usage: (\$year,\$month,\$day) =
        0   0.00000   0.00000  2923:      unless ((@_ == 1) or (@_ == 2));
        0   0.00000   0.00000  2924:
        0   0.00000   0.00000  2925:    my($buffer) = shift;
        0   0.00000   0.00000  2926:    my($lang)   = shift || 0;
        0   0.00000   0.00000  2927:    my($year,$month,$day,$length);
        0   0.00000   0.00000  2928:
        0   0.00000   0.00000  2929:    $lang = Language() unless (($lang >= 1)
        0   0.00000   0.00000  2930:    if ($buffer =~ /^[^A-Za-z0-9\xC0-
        0   0.00000   0.00000  2931:    {
        0   0.00000   0.00000  2932:        ($month,$buffer) = ($1,$2);
        0   0.00000   0.00000  2933:        $month = Decode_Month($month,$lang);
        0   0.00000   0.00000  2934:        unless ($month > 0)
        0   0.00000   0.00000  2935:        {
        0   0.00000   0.00000  2936:            return(); # can't decode month!
        0   0.00000   0.00000  2937:        }
        0   0.00000   0.00000  2938:        $length = length($buffer);
        0   0.00000   0.00000  2939:        if    ($length == 2)
        0   0.00000   0.00000  2940:        {
        0   0.00000   0.00000  2941:            $day  = substr($buffer,0,1);
        0   0.00000   0.00000  2942:            $year = substr($buffer,1,1);
        0   0.00000   0.00000  2943:        }
        0   0.00000   0.00000  2944:        elsif ($length == 3)
        0   0.00000   0.00000  2945:        {
        0   0.00000   0.00000  2946:            $day  = substr($buffer,0,1);
        0   0.00000   0.00000  2947:            $year = substr($buffer,1,2);
        0   0.00000   0.00000  2948:        }
        0   0.00000   0.00000  2949:        elsif ($length == 4)
        0   0.00000   0.00000  2950:        {
        0   0.00000   0.00000  2951:            $day  = substr($buffer,0,2);
        0   0.00000   0.00000  2952:            $year = substr($buffer,2,2);
        0   0.00000   0.00000  2953:        }
        0   0.00000   0.00000  2954:        elsif ($length == 5)
        0   0.00000   0.00000  2955:        {
        0   0.00000   0.00000  2956:            $day  = substr($buffer,0,1);
        0   0.00000   0.00000  2957:            $year = substr($buffer,1,4);
        0   0.00000   0.00000  2958:        }
        0   0.00000   0.00000  2959:        elsif ($length == 6)
        0   0.00000   0.00000  2960:        {
        0   0.00000   0.00000  2961:            $day  = substr($buffer,0,2);
        0   0.00000   0.00000  2962:            $year = substr($buffer,2,4);
        0   0.00000   0.00000  2963:        }
        0   0.00000   0.00000  2964:        else { return(); } # wrong number of
        0   0.00000   0.00000  2965:    }
        0   0.00000   0.00000  2966:    elsif ($buffer =~ /^[^A-Za-z0-9\xC0-
        0   0.00000   0.00000  2967:    {
        0   0.00000   0.00000  2968:        ($month,$day,$year) = ($1,$2,$3);
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 82
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  2969:        $month = Decode_Month($month,$lang);
        0   0.00000   0.00000  2970:        unless ($month > 0)
        0   0.00000   0.00000  2971:        {
        0   0.00000   0.00000  2972:            return(); # can't decode month!
        0   0.00000   0.00000  2973:        }
        0   0.00000   0.00000  2974:    }
        0   0.00000   0.00000  2975:    elsif ($buffer =~ /^\D*  0*(\d+)  \D*$/x)
        0   0.00000   0.00000  2976:    {
        0   0.00000   0.00000  2977:        $buffer = $1;
        0   0.00000   0.00000  2978:        $length = length($buffer);
        0   0.00000   0.00000  2979:        if    ($length == 3)
        0   0.00000   0.00000  2980:        {
        0   0.00000   0.00000  2981:            $month = substr($buffer,0,1);
        0   0.00000   0.00000  2982:            $day   = substr($buffer,1,1);
        0   0.00000   0.00000  2983:            $year  = substr($buffer,2,1);
        0   0.00000   0.00000  2984:        }
        0   0.00000   0.00000  2985:        elsif ($length == 4)
        0   0.00000   0.00000  2986:        {
        0   0.00000   0.00000  2987:            $month = substr($buffer,0,1);
        0   0.00000   0.00000  2988:            $day   = substr($buffer,1,1);
        0   0.00000   0.00000  2989:            $year  = substr($buffer,2,2);
        0   0.00000   0.00000  2990:        }
        0   0.00000   0.00000  2991:        elsif ($length == 5)
        0   0.00000   0.00000  2992:        {
        0   0.00000   0.00000  2993:            $month = substr($buffer,0,1);
        0   0.00000   0.00000  2994:            $day   = substr($buffer,1,2);
        0   0.00000   0.00000  2995:            $year  = substr($buffer,3,2);
        0   0.00000   0.00000  2996:        }
        0   0.00000   0.00000  2997:        elsif ($length == 6)
        0   0.00000   0.00000  2998:        {
        0   0.00000   0.00000  2999:            $month = substr($buffer,0,2);
        0   0.00000   0.00000  3000:            $day   = substr($buffer,2,2);
        0   0.00000   0.00000  3001:            $year  = substr($buffer,4,2);
        0   0.00000   0.00000  3002:        }
        0   0.00000   0.00000  3003:        elsif ($length == 7)
        0   0.00000   0.00000  3004:        {
        0   0.00000   0.00000  3005:            $month = substr($buffer,0,1);
        0   0.00000   0.00000  3006:            $day   = substr($buffer,1,2);
        0   0.00000   0.00000  3007:            $year  = substr($buffer,3,4);
        0   0.00000   0.00000  3008:        }
        0   0.00000   0.00000  3009:        elsif ($length == 8)
        0   0.00000   0.00000  3010:        {
        0   0.00000   0.00000  3011:            $month = substr($buffer,0,2);
        0   0.00000   0.00000  3012:            $day   = substr($buffer,2,2);
        0   0.00000   0.00000  3013:            $year  = substr($buffer,4,4);
        0   0.00000   0.00000  3014:        }
        0   0.00000   0.00000  3015:        else { return(); } # wrong number of
        0   0.00000   0.00000  3016:    }
        0   0.00000   0.00000  3017:    elsif ($buffer =~ /^\D*  (\d+)  \D+
        0   0.00000   0.00000  3018:    {
        0   0.00000   0.00000  3019:        ($month,$day,$year) = ($1,$2,$3);
        0   0.00000   0.00000  3020:    }
        0   0.00000   0.00000  3021:    else { return(); } # no match at all!
        0   0.00000   0.00000  3022:    $year = Moving_Window($year);
        0   0.00000   0.00000  3023:    if (check_date($year,$month,$day))
        0   0.00000   0.00000  3024:    {
           ================ SmallProf version 2.02 ================
             Profile of /usr/local/share/perl/5.10.1/Date/Pcalc.pm     Page 83
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000  3025:        return($year,$month,$day);
        0   0.00000   0.00000  3026:    }
        0   0.00000   0.00000  3027:    else { return(); } # not a valid date!
        0   0.00000   0.00000  3028:}
        0   0.00000   0.00000  3029:
        0   0.00000   0.00000  3030:sub Parse_Date
        0   0.00000   0.00000  3031:{
        0   0.00000   0.00000  3032:    die "Usage: (\$year,\$month,\$day) =
        0   0.00000   0.00000  3033:      unless ((@_ == 1) or (@_ == 2));
        0   0.00000   0.00000  3034:
        0   0.00000   0.00000  3035:    my($date) = shift;
        0   0.00000   0.00000  3036:    my($lang) = shift || 0;
        0   0.00000   0.00000  3037:    my($year,$month,$day);
        0   0.00000   0.00000  3038:
        0   0.00000   0.00000  3039:    $lang = Language() unless (($lang >= 1)
        0   0.00000   0.00000  3040:    unless ($date =~ /\b([\x41-\x5A\x61-
        0   0.00000   0.00000  3041:    {
        0   0.00000   0.00000  3042:        return();
        0   0.00000   0.00000  3043:    }
        0   0.00000   0.00000  3044:    $month = $1;
        0   0.00000   0.00000  3045:    $day   = $2;
        0   0.00000   0.00000  3046:    unless ($date =~ /\b(19\d\d|20\d\d)\b/)
        0   0.00000   0.00000  3047:    {
        0   0.00000   0.00000  3048:        return();
        0   0.00000   0.00000  3049:    }
        0   0.00000   0.00000  3050:    $year  = $1;
        0   0.00000   0.00000  3051:    $month = Decode_Month($month,$lang);
        0   0.00000   0.00000  3052:    unless ($month > 0)
        0   0.00000   0.00000  3053:    {
        0   0.00000   0.00000  3054:        return();
        0   0.00000   0.00000  3055:    }
        0   0.00000   0.00000  3056:    unless (check_date($year,$month,$day))
        0   0.00000   0.00000  3057:    {
        0   0.00000   0.00000  3058:        return();
        0   0.00000   0.00000  3059:    }
        0   0.00000   0.00000  3060:    return($year,$month,$day);
        0   0.00000   0.00000  3061:}
        0   0.00000   0.00000  3062:
        0   0.00000   0.00000  3063:1;
        0   0.00000   0.00000  3064:
        0   0.00000   0.00000  3065:__END__
           ================ SmallProf version 2.02 ================
           Profile of /usr/local/share/perl/5.10.1/String/Escape.pm    Page 84
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000     1:=head1 NAME
        0   0.00000   0.00000     2:
        0   0.00000   0.00000     3:
        0   0.00000   0.00000     4:
        0   0.00000   0.00000     5:
        0   0.00000   0.00000     6:
        0   0.00000   0.00000     7:package String::Escape;
        0   0.00000   0.00000     8:
        0   0.00000   0.00000     9:use strict;
        0   0.00000   0.00000    10:use warnings;
        0   0.00000   0.00000    11:use Carp;
        0   0.00000   0.00000    12:
        0   0.00000   0.00000    13:use vars qw( $VERSION );
        0   0.00000   0.00000    14:$VERSION = 2010.002;
        0   0.00000   0.00000    15:
        0   0.00000   0.00000    16:#############################################
        0   0.00000   0.00000    17:
        0   0.00000   0.00000    18:=head1 SYNOPSIS
        0   0.00000   0.00000    19:
        0   0.00000   0.00000    20:
        0   0.00000   0.00000    21:
        0   0.00000   0.00000    22:
        0   0.00000   0.00000    23:
        0   0.00000   0.00000    24:
        0   0.00000   0.00000    25:
        0   0.00000   0.00000    26:
        0   0.00000   0.00000    27:
        0   0.00000   0.00000    28:
        0   0.00000   0.00000    29:
        0   0.00000   0.00000    30:
        0   0.00000   0.00000    31:
        0   0.00000   0.00000    32:
        0   0.00000   0.00000    33:
        0   0.00000   0.00000    34:
        0   0.00000   0.00000    35:
        0   0.00000   0.00000    36:
        0   0.00000   0.00000    37:
        0   0.00000   0.00000    38:
        0   0.00000   0.00000    39:
        0   0.00000   0.00000    40:
        0   0.00000   0.00000    41:
        0   0.00000   0.00000    42:
        0   0.00000   0.00000    43:
        0   0.00000   0.00000    44:
        0   0.00000   0.00000    45:#############################################
        0   0.00000   0.00000    46:
        0   0.00000   0.00000    47:=head1 INTERFACE
        0   0.00000   0.00000    48:
        0   0.00000   0.00000    49:
        0   0.00000   0.00000    50:
        0   0.00000   0.00000    51:
        0   0.00000   0.00000    52:
        0   0.00000   0.00000    53:
        0   0.00000   0.00000    54:
        0   0.00000   0.00000    55:use Exporter;
        0   0.00000   0.00000    56:
           ================ SmallProf version 2.02 ================
           Profile of /usr/local/share/perl/5.10.1/String/Escape.pm    Page 85
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000    57:use vars qw( @ISA @EXPORT_OK );
        0   0.00000   0.00000    58:
        0   0.00000   0.00000    59:push @ISA, qw( Exporter );
        0   0.00000   0.00000    60:push @EXPORT_OK, qw(
        0   0.00000   0.00000    61: quote unquote quote_non_words singlequote
        0   0.00000   0.00000    62: backslash unbackslash qqbackslash
        0   0.00000   0.00000    63: printable unprintable qprintable
        0   0.00000   0.00000    64: unquotemeta
        0   0.00000   0.00000    65: elide
        0   0.00000   0.00000    66: escape
        0   0.00000   0.00000    67: string2list string2hash list2string
        0   0.00000   0.00000    68:);
        0   0.00000   0.00000    69:
        0   0.00000   0.00000    70:
        0   0.00000   0.00000    71:#############################################
        0   0.00000   0.00000    72:
        0   0.00000   0.00000    73:=head2 Quoting
        0   0.00000   0.00000    74:
        0   0.00000   0.00000    75:
        0   0.00000   0.00000    76:
        0   0.00000   0.00000    77:
        0   0.00000   0.00000    78:
        0   0.00000   0.00000    79:
        0   0.00000   0.00000    80:
        0   0.00000   0.00000    81:
        0   0.00000   0.00000    82:
        0   0.00000   0.00000    83:
        0   0.00000   0.00000    84:
        0   0.00000   0.00000    85:
        0   0.00000   0.00000    86:
        0   0.00000   0.00000    87:
        0   0.00000   0.00000    88:
        0   0.00000   0.00000    89:
        0   0.00000   0.00000    90:
        0   0.00000   0.00000    91:
        0   0.00000   0.00000    92:
        0   0.00000   0.00000    93:
        0   0.00000   0.00000    94:
        0   0.00000   0.00000    95:
        0   0.00000   0.00000    96:
        0   0.00000   0.00000    97:
        0   0.00000   0.00000    98:
        0   0.00000   0.00000    99:
        0   0.00000   0.00000   100:
        0   0.00000   0.00000   101:
        0   0.00000   0.00000   102:
        0   0.00000   0.00000   103:
        0   0.00000   0.00000   104:# $with_surrounding_quotes = quote(
        0   0.00000   0.00000   105:sub quote ($) {
        0   0.00000   0.00000   106: '"' . $_[0] . '"'
        0   0.00000   0.00000   107:}
        0   0.00000   0.00000   108:
        0   0.00000   0.00000   109:# $remove_surrounding_quotes = quote(
        0   0.00000   0.00000   110:sub unquote ($) {
        0   0.00000   0.00000   111: ( $_[0] =~ m/ \A ["] (.*) ["] \Z /sx ) ? $1
        0   0.00000   0.00000   112:}
           ================ SmallProf version 2.02 ================
           Profile of /usr/local/share/perl/5.10.1/String/Escape.pm    Page 86
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   113:
        0   0.00000   0.00000   114:# $word_or_phrase_with_surrounding_quotes =
        0   0.00000   0.00000   115:sub quote_non_words ($) {
        0   0.00000   0.00000   116: ( ! length $_[0] or $_[0] =~ /[^\w\_\-
        0   0.00000   0.00000   117:}
        0   0.00000   0.00000   118:
        0   0.00000   0.00000   119:# $with_surrounding_quotes = singlequote(
        0   0.00000   0.00000   120:sub singlequote ($) {
        0   0.00000   0.00000   121: '\'' . $_[0] . '\''
        0   0.00000   0.00000   122:}
        0   0.00000   0.00000   123:
        0   0.00000   0.00000   124:# $remove_surrounding_quotes = singlequote(
        0   0.00000   0.00000   125:sub unsinglequote ($) {
        0   0.00000   0.00000   126: ( $_[0] =~ m/ \A ['] (.*) ['] \Z /sx ) ? $1
        0   0.00000   0.00000   127:}
        0   0.00000   0.00000   128:
        0   0.00000   0.00000   129:
        0   0.00000   0.00000   130:#############################################
        0   0.00000   0.00000   131:
        0   0.00000   0.00000   132:=head2 Backslash Escaping Functions
        0   0.00000   0.00000   133:
        0   0.00000   0.00000   134:
        0   0.00000   0.00000   135:
        0   0.00000   0.00000   136:
        0   0.00000   0.00000   137:
        0   0.00000   0.00000   138:
        0   0.00000   0.00000   139:
        0   0.00000   0.00000   140:
        0   0.00000   0.00000   141:
        0   0.00000   0.00000   142:
        0   0.00000   0.00000   143:
        0   0.00000   0.00000   144:
        0   0.00000   0.00000   145:
        0   0.00000   0.00000   146:
        0   0.00000   0.00000   147:
        0   0.00000   0.00000   148:
        0   0.00000   0.00000   149:
        0   0.00000   0.00000   150:
        0   0.00000   0.00000   151:
        0   0.00000   0.00000   152:
        0   0.00000   0.00000   153:
        0   0.00000   0.00000   154:
        0   0.00000   0.00000   155:
        0   0.00000   0.00000   156:
        0   0.00000   0.00000   157:
        0   0.00000   0.00000   158:
        0   0.00000   0.00000   159:
        0   0.00000   0.00000   160:
        0   0.00000   0.00000   161:
        0   0.00000   0.00000   162:
        0   0.00000   0.00000   163:
        0   0.00000   0.00000   164:
        0   0.00000   0.00000   165:
        0   0.00000   0.00000   166:
        0   0.00000   0.00000   167:
        0   0.00000   0.00000   168:
           ================ SmallProf version 2.02 ================
           Profile of /usr/local/share/perl/5.10.1/String/Escape.pm    Page 87
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   169:
        0   0.00000   0.00000   170:
        0   0.00000   0.00000   171:
        0   0.00000   0.00000   172:
        0   0.00000   0.00000   173:
        0   0.00000   0.00000   174:
        0   0.00000   0.00000   175:
        0   0.00000   0.00000   176:
        0   0.00000   0.00000   177:
        0   0.00000   0.00000   178:
        0   0.00000   0.00000   179:
        0   0.00000   0.00000   180:
        0   0.00000   0.00000   181:
        0   0.00000   0.00000   182:use vars qw( %Backslashed %Interpolated );
        0   0.00000   0.00000   183:
        0   0.00000   0.00000   184:# Earlier definitions are preferred to later
        0   0.00000   0.00000   185:_define_backslash_escapes(
        0   0.00000   0.00000   186: ( map { $_ => $_ } ( '\\', '"', '$', '@' )
        0   0.00000   0.00000   187: ( 'r' => "\r", 'n' => "\n", 't' => "\t" ),
        0   0.00000   0.00000   188: ( map { 'x' . unpack('H2', chr($_)) =>
        0   0.00000   0.00000   189: ( map { sprintf('%03o', $_) => chr($_) }
        0   0.00000   0.00000   190:);
        0   0.00000   0.00000   191:
        0   0.00000   0.00000   192:sub _define_backslash_escapes {
        0   0.00000   0.00000   193: %Interpolated = @_;
        0   0.00000   0.00000   194: %Backslashed  = reverse @_;
        0   0.00000   0.00000   195:}
        0   0.00000   0.00000   196:
        0   0.00000   0.00000   197:# $special_characters_escaped = backslash(
        0   0.00000   0.00000   198:sub backslash ($) {
        0   0.00000   0.00000   199: local $_ = ( defined $_[0] ? $_[0] : '' );
        0   0.00000   0.00000   200: # Preserve only printable ASCII characters
        0   0.00000   0.00000   201: s/([^\x20\x21\x24\x25-\x39\x41-\x5b\x5d-
        0   0.00000   0.00000   202: return $_;
        0   0.00000   0.00000   203:}
        0   0.00000   0.00000   204:
        0   0.00000   0.00000   205:# $original_string = unbackslash(
        0   0.00000   0.00000   206:sub unbackslash ($) {
      378   0.00075   0.01000   207: local $_ = ( defined $_[0] ? $_[0] : '' );
      378   0.01234   0.00000   208: s/ (\A|\G|[^\\]) [\\] ( [0]\d\d | [x][\da-
      378   0.01298   0.75000   209: return $_;
        0   0.00000   0.00000   210:}
        0   0.00000   0.00000   211:
        0   0.00000   0.00000   212:# quoted_and_escaped = qqbackslash(
        0   0.00000   0.00000   213:sub qqbackslash ($) { quote backslash $_[0] }
        0   0.00000   0.00000   214:
        0   0.00000   0.00000   215:# $original_string = unqqbackslash(
        0   0.00000   0.00000   216:sub unqqbackslash ($) { unbackslash unquote
        0   0.00000   0.00000   217:
        0   0.00000   0.00000   218:
        0   0.00000   0.00000   219:#############################################
        0   0.00000   0.00000   220:
        0   0.00000   0.00000   221:=head2 Legacy Backslash Functions
        0   0.00000   0.00000   222:
        0   0.00000   0.00000   223:
        0   0.00000   0.00000   224:
           ================ SmallProf version 2.02 ================
           Profile of /usr/local/share/perl/5.10.1/String/Escape.pm    Page 88
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   225:
        0   0.00000   0.00000   226:
        0   0.00000   0.00000   227:
        0   0.00000   0.00000   228:
        0   0.00000   0.00000   229:
        0   0.00000   0.00000   230:
        0   0.00000   0.00000   231:
        0   0.00000   0.00000   232:
        0   0.00000   0.00000   233:
        0   0.00000   0.00000   234:
        0   0.00000   0.00000   235:
        0   0.00000   0.00000   236:
        0   0.00000   0.00000   237:
        0   0.00000   0.00000   238:
        0   0.00000   0.00000   239:
        0   0.00000   0.00000   240:
        0   0.00000   0.00000   241:
        0   0.00000   0.00000   242:
        0   0.00000   0.00000   243:
        0   0.00000   0.00000   244:
        0   0.00000   0.00000   245:
        0   0.00000   0.00000   246:
        0   0.00000   0.00000   247:
        0   0.00000   0.00000   248:
        0   0.00000   0.00000   249:
        0   0.00000   0.00000   250:
        0   0.00000   0.00000   251:
        0   0.00000   0.00000   252:
        0   0.00000   0.00000   253:
        0   0.00000   0.00000   254:
        0   0.00000   0.00000   255:use vars qw( %Printable %Unprintable );
        0   0.00000   0.00000   256:%Printable = (
        0   0.00000   0.00000   257: ( map { chr($_), unpack('H2', chr($_)) }
        0   0.00000   0.00000   258: ( "\\"=>'\\', "\r"=>'r', "\n"=>'n',
        0   0.00000   0.00000   259: ( map { $_ => $_ } ( '"' ) )
        0   0.00000   0.00000   260:);
        0   0.00000   0.00000   261:%Unprintable = ( reverse %Printable );
        0   0.00000   0.00000   262:
        0   0.00000   0.00000   263:# $special_characters_escaped = printable(
        0   0.00000   0.00000   264:sub printable ($) {
        0   0.00000   0.00000   265: local $_ = ( defined $_[0] ? $_[0] : '' );
        0   0.00000   0.00000   266: s/([\r\n\t\"\\\x00-\x1f\x7F-\xFF])/ '\\' .
        0   0.00000   0.00000   267: return $_;
        0   0.00000   0.00000   268:}
        0   0.00000   0.00000   269:
        0   0.00000   0.00000   270:# $original_string = unprintable(
        0   0.00000   0.00000   271:sub unprintable ($) {
        0   0.00000   0.00000   272: local $_ = ( defined $_[0] ? $_[0] : '' );
        0   0.00000   0.00000   273: s/((?:\A|\G|[^\\]))\\([rRnNtT\"\\]|[x]?[\da-
        0   0.00000   0.00000   274: return $_;
        0   0.00000   0.00000   275:}
        0   0.00000   0.00000   276:
        0   0.00000   0.00000   277:# quoted_and_escaped = qprintable(
        0   0.00000   0.00000   278:sub qprintable ($) { quote_non_words
        0   0.00000   0.00000   279:
        0   0.00000   0.00000   280:# $original_string = unqprintable(
           ================ SmallProf version 2.02 ================
           Profile of /usr/local/share/perl/5.10.1/String/Escape.pm    Page 89
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   281:sub unqprintable ($) { unprintable unquote
        0   0.00000   0.00000   282:
        0   0.00000   0.00000   283:
        0   0.00000   0.00000   284:#############################################
        0   0.00000   0.00000   285:
        0   0.00000   0.00000   286:=head2 Other Backslash Functions
        0   0.00000   0.00000   287:
        0   0.00000   0.00000   288:
        0   0.00000   0.00000   289:
        0   0.00000   0.00000   290:
        0   0.00000   0.00000   291:
        0   0.00000   0.00000   292:
        0   0.00000   0.00000   293:
        0   0.00000   0.00000   294:
        0   0.00000   0.00000   295:
        0   0.00000   0.00000   296:
        0   0.00000   0.00000   297:
        0   0.00000   0.00000   298:
        0   0.00000   0.00000   299:
        0   0.00000   0.00000   300:sub unquotemeta ($) {
        0   0.00000   0.00000   301: local $_ = ( defined $_[0] ? $_[0] : '' );
        0   0.00000   0.00000   302: s/ (\A|\G|[^\\]) [\\] (.) / $1 . $2 /gsex;
        0   0.00000   0.00000   303: return $_;
        0   0.00000   0.00000   304:}
        0   0.00000   0.00000   305:
        0   0.00000   0.00000   306:
        0   0.00000   0.00000   307:#############################################
        0   0.00000   0.00000   308:
        0   0.00000   0.00000   309:=head2 Elision Function
        0   0.00000   0.00000   310:
        0   0.00000   0.00000   311:
        0   0.00000   0.00000   312:
        0   0.00000   0.00000   313:
        0   0.00000   0.00000   314:
        0   0.00000   0.00000   315:
        0   0.00000   0.00000   316:
        0   0.00000   0.00000   317:
        0   0.00000   0.00000   318:
        0   0.00000   0.00000   319:
        0   0.00000   0.00000   320:
        0   0.00000   0.00000   321:
        0   0.00000   0.00000   322:
        0   0.00000   0.00000   323:
        0   0.00000   0.00000   324:
        0   0.00000   0.00000   325:
        0   0.00000   0.00000   326:
        0   0.00000   0.00000   327:
        0   0.00000   0.00000   328:
        0   0.00000   0.00000   329:
        0   0.00000   0.00000   330:
        0   0.00000   0.00000   331:
        0   0.00000   0.00000   332:
        0   0.00000   0.00000   333:
        0   0.00000   0.00000   334:
        0   0.00000   0.00000   335:
        0   0.00000   0.00000   336:
           ================ SmallProf version 2.02 ================
           Profile of /usr/local/share/perl/5.10.1/String/Escape.pm    Page 90
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   337:
        0   0.00000   0.00000   338:
        0   0.00000   0.00000   339:
        0   0.00000   0.00000   340:
        0   0.00000   0.00000   341:
        0   0.00000   0.00000   342:
        0   0.00000   0.00000   343:
        0   0.00000   0.00000   344:
        0   0.00000   0.00000   345:
        0   0.00000   0.00000   346:
        0   0.00000   0.00000   347:
        0   0.00000   0.00000   348:
        0   0.00000   0.00000   349:
        0   0.00000   0.00000   350:
        0   0.00000   0.00000   351:
        0   0.00000   0.00000   352:
        0   0.00000   0.00000   353:
        0   0.00000   0.00000   354:
        0   0.00000   0.00000   355:
        0   0.00000   0.00000   356:
        0   0.00000   0.00000   357:
        0   0.00000   0.00000   358:
        0   0.00000   0.00000   359:
        0   0.00000   0.00000   360:
        0   0.00000   0.00000   361:
        0   0.00000   0.00000   362:
        0   0.00000   0.00000   363:
        0   0.00000   0.00000   364:use vars qw( $Elipses $DefaultLength
        0   0.00000   0.00000   365:$Elipses = '...';
        0   0.00000   0.00000   366:$DefaultLength = 60;
        0   0.00000   0.00000   367:$DefaultStrictness = 10;
        0   0.00000   0.00000   368:
        0   0.00000   0.00000   369:# $elided_string = elide($string);
        0   0.00000   0.00000   370:# $elided_string = elide($string, $length);
        0   0.00000   0.00000   371:# $elided_string = elide($string, $length,
        0   0.00000   0.00000   372:# $elided_string = elide($string, $length,
        0   0.00000   0.00000   373:sub elide ($;$$) {
        0   0.00000   0.00000   374: my $source     = shift;
        0   0.00000   0.00000   375: my $length     = scalar(@_) ? shift() :
        0   0.00000   0.00000   376: my $word_limit = scalar(@_) ? shift() :
        0   0.00000   0.00000   377: my $elipses    = scalar(@_) ? shift() :
        0   0.00000   0.00000   378:
        0   0.00000   0.00000   379: # If the source is already short, we don't
        0   0.00000   0.00000   380: return $source if (length($source) <
        0   0.00000   0.00000   381:
        0   0.00000   0.00000   382: # Leave room for the elipses and make sure
        0   0.00000   0.00000   383: $length -= length( $elipses );
        0   0.00000   0.00000   384: $length = 1 if ( $length < 1 );
        0   0.00000   0.00000   385:
        0   0.00000   0.00000   386: my $excerpt;
        0   0.00000   0.00000   387:
        0   0.00000   0.00000   388: # Try matching $length characters or less at
        0   0.00000   0.00000   389: $excerpt = ( $source =~
        0   0.00000   0.00000   390:
        0   0.00000   0.00000   391: # If that fails or returns much less than we
        0   0.00000   0.00000   392: $excerpt = substr($source, 0, $length) if (
           ================ SmallProf version 2.02 ================
           Profile of /usr/local/share/perl/5.10.1/String/Escape.pm    Page 91
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   393:  ! defined $excerpt or
        0   0.00000   0.00000   394:  length($excerpt) < length($source) and
        0   0.00000   0.00000   395:   ! length($excerpt) || abs($length -
        0   0.00000   0.00000   396: );
        0   0.00000   0.00000   397:
        0   0.00000   0.00000   398: return $excerpt . $elipses;
        0   0.00000   0.00000   399:}
        0   0.00000   0.00000   400:
        0   0.00000   0.00000   401:
        0   0.00000   0.00000   402:#############################################
        0   0.00000   0.00000   403:
        0   0.00000   0.00000   404:=head2 escape()
        0   0.00000   0.00000   405:
        0   0.00000   0.00000   406:
        0   0.00000   0.00000   407:
        0   0.00000   0.00000   408:
        0   0.00000   0.00000   409:
        0   0.00000   0.00000   410:
        0   0.00000   0.00000   411:
        0   0.00000   0.00000   412:
        0   0.00000   0.00000   413:
        0   0.00000   0.00000   414:
        0   0.00000   0.00000   415:
        0   0.00000   0.00000   416:
        0   0.00000   0.00000   417:
        0   0.00000   0.00000   418:
        0   0.00000   0.00000   419:
        0   0.00000   0.00000   420:
        0   0.00000   0.00000   421:
        0   0.00000   0.00000   422:
        0   0.00000   0.00000   423:
        0   0.00000   0.00000   424:
        0   0.00000   0.00000   425:
        0   0.00000   0.00000   426:
        0   0.00000   0.00000   427:
        0   0.00000   0.00000   428:
        0   0.00000   0.00000   429:
        0   0.00000   0.00000   430:
        0   0.00000   0.00000   431:
        0   0.00000   0.00000   432:
        0   0.00000   0.00000   433:
        0   0.00000   0.00000   434:
        0   0.00000   0.00000   435:
        0   0.00000   0.00000   436:
        0   0.00000   0.00000   437:
        0   0.00000   0.00000   438:
        0   0.00000   0.00000   439:
        0   0.00000   0.00000   440:
        0   0.00000   0.00000   441:
        0   0.00000   0.00000   442:
        0   0.00000   0.00000   443:
        0   0.00000   0.00000   444:
        0   0.00000   0.00000   445:
        0   0.00000   0.00000   446:
        0   0.00000   0.00000   447:
        0   0.00000   0.00000   448:
           ================ SmallProf version 2.02 ================
           Profile of /usr/local/share/perl/5.10.1/String/Escape.pm    Page 92
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   449:
        0   0.00000   0.00000   450:
        0   0.00000   0.00000   451:
        0   0.00000   0.00000   452:
        0   0.00000   0.00000   453:
        0   0.00000   0.00000   454:
        0   0.00000   0.00000   455:
        0   0.00000   0.00000   456:
        0   0.00000   0.00000   457:
        0   0.00000   0.00000   458:
        0   0.00000   0.00000   459:
        0   0.00000   0.00000   460:
        0   0.00000   0.00000   461:
        0   0.00000   0.00000   462:
        0   0.00000   0.00000   463:
        0   0.00000   0.00000   464:
        0   0.00000   0.00000   465:
        0   0.00000   0.00000   466:
        0   0.00000   0.00000   467:
        0   0.00000   0.00000   468:
        0   0.00000   0.00000   469:
        0   0.00000   0.00000   470:
        0   0.00000   0.00000   471:
        0   0.00000   0.00000   472:
        0   0.00000   0.00000   473:
        0   0.00000   0.00000   474:
        0   0.00000   0.00000   475:
        0   0.00000   0.00000   476:
        0   0.00000   0.00000   477:
        0   0.00000   0.00000   478:
        0   0.00000   0.00000   479:
        0   0.00000   0.00000   480:
        0   0.00000   0.00000   481:
        0   0.00000   0.00000   482:
        0   0.00000   0.00000   483:
        0   0.00000   0.00000   484:
        0   0.00000   0.00000   485:
        0   0.00000   0.00000   486:
        0   0.00000   0.00000   487:
        0   0.00000   0.00000   488:
        0   0.00000   0.00000   489:
        0   0.00000   0.00000   490:
        0   0.00000   0.00000   491:
        0   0.00000   0.00000   492:
        0   0.00000   0.00000   493:
        0   0.00000   0.00000   494:
        0   0.00000   0.00000   495:
        0   0.00000   0.00000   496:
        0   0.00000   0.00000   497:
        0   0.00000   0.00000   498:
        0   0.00000   0.00000   499:
        0   0.00000   0.00000   500:
        0   0.00000   0.00000   501:
        0   0.00000   0.00000   502:
        0   0.00000   0.00000   503:
        0   0.00000   0.00000   504:
           ================ SmallProf version 2.02 ================
           Profile of /usr/local/share/perl/5.10.1/String/Escape.pm    Page 93
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   505:
        0   0.00000   0.00000   506:
        0   0.00000   0.00000   507:
        0   0.00000   0.00000   508:
        0   0.00000   0.00000   509:
        0   0.00000   0.00000   510:
        0   0.00000   0.00000   511:
        0   0.00000   0.00000   512:
        0   0.00000   0.00000   513:
        0   0.00000   0.00000   514:
        0   0.00000   0.00000   515:# %Escapes - escaper function references by
        0   0.00000   0.00000   516:use vars qw( %Escapes );
        0   0.00000   0.00000   517:
        0   0.00000   0.00000   518:# String::Escape::add( $name, $subroutine );
        0   0.00000   0.00000   519:sub add {
        0   0.00000   0.00000   520: while ( @_ ) {
        0   0.00000   0.00000   521:  my ( $name, $func ) = ( shift, shift );
        0   0.00000   0.00000   522:  $Escapes{ $name } = $func
        0   0.00000   0.00000   523: }
        0   0.00000   0.00000   524:}
        0   0.00000   0.00000   525:
        0   0.00000   0.00000   526:# @defined_names = String::Escape::names();
        0   0.00000   0.00000   527:sub names {
        0   0.00000   0.00000   528: keys(%Escapes)
        0   0.00000   0.00000   529:}
        0   0.00000   0.00000   530:
        0   0.00000   0.00000   531:# $escaped = escape($escape_spec, $value);
        0   0.00000   0.00000   532:# @escaped = escape($escape_spec, @values);
        0   0.00000   0.00000   533:sub escape {
        0   0.00000   0.00000   534: my ($escape_spec, @values) = @_;
        0   0.00000   0.00000   535:
        0   0.00000   0.00000   536: my @escapes =
        0   0.00000   0.00000   537:
        0   0.00000   0.00000   538: foreach my $value ( @values ) {
        0   0.00000   0.00000   539:  foreach my $escaper ( @escapes ) {
        0   0.00000   0.00000   540:   $value = &$escaper( $value );
        0   0.00000   0.00000   541:  }
        0   0.00000   0.00000   542: }
        0   0.00000   0.00000   543:
        0   0.00000   0.00000   544: if ( wantarray ) {
        0   0.00000   0.00000   545:  @values
        0   0.00000   0.00000   546: } elsif ( @values > 1 ) {
        0   0.00000   0.00000   547:  croak "escape called with multiple values
        0   0.00000   0.00000   548: } else {
        0   0.00000   0.00000   549:  $values[0]
        0   0.00000   0.00000   550: }
        0   0.00000   0.00000   551:}
        0   0.00000   0.00000   552:
        0   0.00000   0.00000   553:# @escape_functions =
        0   0.00000   0.00000   554:sub _expand_escape_spec {
        0   0.00000   0.00000   555: my $escape_spec = shift;
        0   0.00000   0.00000   556:
        0   0.00000   0.00000   557: if ( ref($escape_spec) eq 'CODE' ) {
        0   0.00000   0.00000   558:  return $escape_spec;
        0   0.00000   0.00000   559: } elsif ( ref($escape_spec) eq 'ARRAY' ) {
        0   0.00000   0.00000   560:  return map { _expand_escape_spec($_) }
           ================ SmallProf version 2.02 ================
           Profile of /usr/local/share/perl/5.10.1/String/Escape.pm    Page 94
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   561: } elsif ( ! ref($escape_spec) ) {
        0   0.00000   0.00000   562:  return map {
        0   0.00000   0.00000   563:   _expand_escape_spec($_)
        0   0.00000   0.00000   564:  } map {
        0   0.00000   0.00000   565:   $Escapes{$_} or _unsupported_escape_spec(
        0   0.00000   0.00000   566:  } split(/\s+/, $escape_spec);
        0   0.00000   0.00000   567: } else {
        0   0.00000   0.00000   568: _unsupported_escape_spec( $escape_spec );
        0   0.00000   0.00000   569: }
        0   0.00000   0.00000   570:}
        0   0.00000   0.00000   571:
        0   0.00000   0.00000   572:# _unsupported_escape_spec($escape_spec);
        0   0.00000   0.00000   573:sub _unsupported_escape_spec {
        0   0.00000   0.00000   574: my $escape_spec = shift;
        0   0.00000   0.00000   575:
        0   0.00000   0.00000   576:  croak(
        0   0.00000   0.00000   577:  "unsupported escape specification " .
        0   0.00000   0.00000   578:  ( defined($escape_spec) ? "'$_'" : 'undef'
        0   0.00000   0.00000   579:  "should be one of " . join(', ', names())
        0   0.00000   0.00000   580: )
        0   0.00000   0.00000   581:}
        0   0.00000   0.00000   582:
        0   0.00000   0.00000   583:add(
        0   0.00000   0.00000   584: 'none'            => sub ($) { $_[0]; },
        0   0.00000   0.00000   585:
        0   0.00000   0.00000   586: 'uppercase'       => sub ($) { uc $_[0] },
        0   0.00000   0.00000   587: 'lowercase'       => sub ($) { lc $_[0] },
        0   0.00000   0.00000   588: 'initialcase'     => sub ($) { ucfirst lc
        0   0.00000   0.00000   589:
        0   0.00000   0.00000   590: 'quote'           => \&quote,
        0   0.00000   0.00000   591: 'unquote'         => \&unquote,
        0   0.00000   0.00000   592: 'quote_non_words' => \&quote_non_words,
        0   0.00000   0.00000   593: 'singlequote'     => \&singlequote,
        0   0.00000   0.00000   594: 'unsinglequote'   => \&unsinglequote,
        0   0.00000   0.00000   595:
        0   0.00000   0.00000   596: 'backslash'       => \&backslash,
        0   0.00000   0.00000   597: 'unbackslash'     => \&unbackslash,
        0   0.00000   0.00000   598: 'qqbackslash'     => \&qqbackslash, #b
        0   0.00000   0.00000   599: 'unqqbackslash'   => \&unqqbackslash,
        0   0.00000   0.00000   600:
        0   0.00000   0.00000   601: 'printable'       => \&printable,
        0   0.00000   0.00000   602: 'unprintable'     => \&unprintable,
        0   0.00000   0.00000   603: 'qprintable'      => \&qprintable,
        0   0.00000   0.00000   604: 'unqprintable'    => \&unqprintable,
        0   0.00000   0.00000   605:
        0   0.00000   0.00000   606: 'quotemeta'       => sub ($) { quotemeta
        0   0.00000   0.00000   607: 'unquotemeta'     => \&unquotemeta,
        0   0.00000   0.00000   608:
        0   0.00000   0.00000   609: 'elide'           => \&elide,
        0   0.00000   0.00000   610:);
        0   0.00000   0.00000   611:
        0   0.00000   0.00000   612:
        0   0.00000   0.00000   613:#############################################
        0   0.00000   0.00000   614:
        0   0.00000   0.00000   615:=head2 Space-separated Lists and Hashes
        0   0.00000   0.00000   616:
           ================ SmallProf version 2.02 ================
           Profile of /usr/local/share/perl/5.10.1/String/Escape.pm    Page 95
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   617:
        0   0.00000   0.00000   618:
        0   0.00000   0.00000   619:
        0   0.00000   0.00000   620:
        0   0.00000   0.00000   621:
        0   0.00000   0.00000   622:
        0   0.00000   0.00000   623:
        0   0.00000   0.00000   624:
        0   0.00000   0.00000   625:
        0   0.00000   0.00000   626:
        0   0.00000   0.00000   627:
        0   0.00000   0.00000   628:
        0   0.00000   0.00000   629:
        0   0.00000   0.00000   630:
        0   0.00000   0.00000   631:
        0   0.00000   0.00000   632:
        0   0.00000   0.00000   633:
        0   0.00000   0.00000   634:
        0   0.00000   0.00000   635:
        0   0.00000   0.00000   636:
        0   0.00000   0.00000   637:
        0   0.00000   0.00000   638:
        0   0.00000   0.00000   639:
        0   0.00000   0.00000   640:
        0   0.00000   0.00000   641:
        0   0.00000   0.00000   642:
        0   0.00000   0.00000   643:
        0   0.00000   0.00000   644:
        0   0.00000   0.00000   645:
        0   0.00000   0.00000   646:
        0   0.00000   0.00000   647:
        0   0.00000   0.00000   648:
        0   0.00000   0.00000   649:
        0   0.00000   0.00000   650:
        0   0.00000   0.00000   651:
        0   0.00000   0.00000   652:
        0   0.00000   0.00000   653:
        0   0.00000   0.00000   654:
        0   0.00000   0.00000   655:
        0   0.00000   0.00000   656:
        0   0.00000   0.00000   657:
        0   0.00000   0.00000   658:
        0   0.00000   0.00000   659:
        0   0.00000   0.00000   660:
        0   0.00000   0.00000   661:
        0   0.00000   0.00000   662:
        0   0.00000   0.00000   663:
        0   0.00000   0.00000   664:
        0   0.00000   0.00000   665:
        0   0.00000   0.00000   666:
        0   0.00000   0.00000   667:
        0   0.00000   0.00000   668:
        0   0.00000   0.00000   669:
        0   0.00000   0.00000   670:
        0   0.00000   0.00000   671:
        0   0.00000   0.00000   672:
           ================ SmallProf version 2.02 ================
           Profile of /usr/local/share/perl/5.10.1/String/Escape.pm    Page 96
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   673:
        0   0.00000   0.00000   674:
        0   0.00000   0.00000   675:
        0   0.00000   0.00000   676:
        0   0.00000   0.00000   677:
        0   0.00000   0.00000   678:
        0   0.00000   0.00000   679:
        0   0.00000   0.00000   680:
        0   0.00000   0.00000   681:
        0   0.00000   0.00000   682:
        0   0.00000   0.00000   683:
        0   0.00000   0.00000   684:
        0   0.00000   0.00000   685:# @words = string2list(
        0   0.00000   0.00000   686:sub string2list {
        0   0.00000   0.00000   687: my $text = shift;
        0   0.00000   0.00000   688:
        0   0.00000   0.00000   689: carp "string2list called with a non-text
        0   0.00000   0.00000   690:
        0   0.00000   0.00000   691: my @words;
        0   0.00000   0.00000   692: my $word = '';
        0   0.00000   0.00000   693:
        0   0.00000   0.00000   694: while ( length $text ) {
        0   0.00000   0.00000   695:  if ($text =~ s/\A(?: ([^\"\s\\]+) | \\(.)
        0   0.00000   0.00000   696:   $word .= $1;
        0   0.00000   0.00000   697:  } elsif ($text =~
        0   0.00000   0.00000   698:   $word .= $1;
        0   0.00000   0.00000   699:  } elsif ($text =~ s/\A\s+//m){
        0   0.00000   0.00000   700:   push(@words, unprintable($word));
        0   0.00000   0.00000   701:   $word = '';
        0   0.00000   0.00000   702:  } elsif ($text =~ s/\A"//) {
        0   0.00000   0.00000   703:   carp "string2list found an unmatched quote
        0   0.00000   0.00000   704:   return;
        0   0.00000   0.00000   705:  } else {
        0   0.00000   0.00000   706:   carp "string2list parse exception at
        0   0.00000   0.00000   707:   return;
        0   0.00000   0.00000   708:  }
        0   0.00000   0.00000   709: }
        0   0.00000   0.00000   710: push(@words, unprintable($word));
        0   0.00000   0.00000   711:
        0   0.00000   0.00000   712: return @words;
        0   0.00000   0.00000   713:}
        0   0.00000   0.00000   714:
        0   0.00000   0.00000   715:# $space_sparated_string = list2string(
        0   0.00000   0.00000   716:sub list2string {
        0   0.00000   0.00000   717: join ( ' ', map qprintable($_), @_ );
        0   0.00000   0.00000   718:}
        0   0.00000   0.00000   719:
        0   0.00000   0.00000   720:# %hash = list2hash( @words );
        0   0.00000   0.00000   721:sub list2hash {
        0   0.00000   0.00000   722: my @pairs;
        0   0.00000   0.00000   723: foreach (@_) {
        0   0.00000   0.00000   724:  my ($key, $val) = m/\A(.*?)(?:\=(.*))?\Z/s;
        0   0.00000   0.00000   725:  push @pairs, $key, $val;
        0   0.00000   0.00000   726: }
        0   0.00000   0.00000   727: return @pairs;
        0   0.00000   0.00000   728:}
           ================ SmallProf version 2.02 ================
           Profile of /usr/local/share/perl/5.10.1/String/Escape.pm    Page 97
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   729:
        0   0.00000   0.00000   730:# @words = hash2list( %hash );
        0   0.00000   0.00000   731:sub hash2list {
        0   0.00000   0.00000   732: my @words;
        0   0.00000   0.00000   733: while ( scalar @_ ) {
        0   0.00000   0.00000   734:  my ($key, $value) = ( shift, shift );
        0   0.00000   0.00000   735:  push @words, qprintable($key) . '=' .
        0   0.00000   0.00000   736: }
        0   0.00000   0.00000   737: return @words;
        0   0.00000   0.00000   738:}
        0   0.00000   0.00000   739:
        0   0.00000   0.00000   740:# %hash = string2hash( $string );
        0   0.00000   0.00000   741:sub string2hash {
        0   0.00000   0.00000   742: return list2hash( string2list( shift ) );
        0   0.00000   0.00000   743:}
        0   0.00000   0.00000   744:
        0   0.00000   0.00000   745:# $string = hash2string( %hash );
        0   0.00000   0.00000   746:sub hash2string {
        0   0.00000   0.00000   747: join ( ' ', hash2list( @_ ) );
        0   0.00000   0.00000   748:}
        0   0.00000   0.00000   749:
        0   0.00000   0.00000   750:
        0   0.00000   0.00000   751:#############################################
        0   0.00000   0.00000   752:
        0   0.00000   0.00000   753:=head1 SEE ALSO
        0   0.00000   0.00000   754:
        0   0.00000   0.00000   755:
        0   0.00000   0.00000   756:
        0   0.00000   0.00000   757:
        0   0.00000   0.00000   758:
        0   0.00000   0.00000   759:
        0   0.00000   0.00000   760:
        0   0.00000   0.00000   761:
        0   0.00000   0.00000   762:
        0   0.00000   0.00000   763:
        0   0.00000   0.00000   764:#############################################
        0   0.00000   0.00000   765:
        0   0.00000   0.00000   766:
        0   0.00000   0.00000   767:=head1 BUGS
        0   0.00000   0.00000   768:
        0   0.00000   0.00000   769:
        0   0.00000   0.00000   770:
        0   0.00000   0.00000   771:
        0   0.00000   0.00000   772:
        0   0.00000   0.00000   773:
        0   0.00000   0.00000   774:
        0   0.00000   0.00000   775:
        0   0.00000   0.00000   776:
        0   0.00000   0.00000   777:
        0   0.00000   0.00000   778:
        0   0.00000   0.00000   779:
        0   0.00000   0.00000   780:
        0   0.00000   0.00000   781:
        0   0.00000   0.00000   782:
        0   0.00000   0.00000   783:
        0   0.00000   0.00000   784:
           ================ SmallProf version 2.02 ================
           Profile of /usr/local/share/perl/5.10.1/String/Escape.pm    Page 98
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   785:
        0   0.00000   0.00000   786:
        0   0.00000   0.00000   787:
        0   0.00000   0.00000   788:
        0   0.00000   0.00000   789:
        0   0.00000   0.00000   790:
        0   0.00000   0.00000   791:
        0   0.00000   0.00000   792:
        0   0.00000   0.00000   793:
        0   0.00000   0.00000   794:
        0   0.00000   0.00000   795:
        0   0.00000   0.00000   796:
        0   0.00000   0.00000   797:
        0   0.00000   0.00000   798:
        0   0.00000   0.00000   799:
        0   0.00000   0.00000   800:
        0   0.00000   0.00000   801:
        0   0.00000   0.00000   802:
        0   0.00000   0.00000   803:
        0   0.00000   0.00000   804:
        0   0.00000   0.00000   805:
        0   0.00000   0.00000   806:
        0   0.00000   0.00000   807:
        0   0.00000   0.00000   808:
        0   0.00000   0.00000   809:
        0   0.00000   0.00000   810:
        0   0.00000   0.00000   811:
        0   0.00000   0.00000   812:
        0   0.00000   0.00000   813:
        0   0.00000   0.00000   814:
        0   0.00000   0.00000   815:
        0   0.00000   0.00000   816:
        0   0.00000   0.00000   817:
        0   0.00000   0.00000   818:
        0   0.00000   0.00000   819:
        0   0.00000   0.00000   820:
        0   0.00000   0.00000   821:
        0   0.00000   0.00000   822:
        0   0.00000   0.00000   823:
        0   0.00000   0.00000   824:
        0   0.00000   0.00000   825:
        0   0.00000   0.00000   826:
        0   0.00000   0.00000   827:
        0   0.00000   0.00000   828:
        0   0.00000   0.00000   829:
        0   0.00000   0.00000   830:
        0   0.00000   0.00000   831:
        0   0.00000   0.00000   832:
        0   0.00000   0.00000   833:
        0   0.00000   0.00000   834:
        0   0.00000   0.00000   835:
        0   0.00000   0.00000   836:
        0   0.00000   0.00000   837:
        0   0.00000   0.00000   838:
        0   0.00000   0.00000   839:
        0   0.00000   0.00000   840:
           ================ SmallProf version 2.02 ================
           Profile of /usr/local/share/perl/5.10.1/String/Escape.pm    Page 99
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   841:
        0   0.00000   0.00000   842:
        0   0.00000   0.00000   843:
        0   0.00000   0.00000   844:
        0   0.00000   0.00000   845:
        0   0.00000   0.00000   846:
        0   0.00000   0.00000   847:
        0   0.00000   0.00000   848:
        0   0.00000   0.00000   849:
        0   0.00000   0.00000   850:
        0   0.00000   0.00000   851:
        0   0.00000   0.00000   852:
        0   0.00000   0.00000   853:
        0   0.00000   0.00000   854:
        0   0.00000   0.00000   855:
        0   0.00000   0.00000   856:#############################################
        0   0.00000   0.00000   857:
        0   0.00000   0.00000   858:1; # End of String::Escape
           ================ SmallProf version 2.02 ================
                 Profile of /usr/share/perl/5.10/AutoLoader.pm         Page 100
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000     1:package AutoLoader;
        0   0.00000   0.00000     2:
        0   0.00000   0.00000     3:use strict;
        0   0.00000   0.00000     4:use 5.006_001;
        0   0.00000   0.00000     5:
        0   0.00000   0.00000     6:our($VERSION, $AUTOLOAD);
        0   0.00000   0.00000     7:
        0   0.00000   0.00000     8:my $is_dosish;
        0   0.00000   0.00000     9:my $is_epoc;
        0   0.00000   0.00000    10:my $is_vms;
        0   0.00000   0.00000    11:my $is_macos;
        0   0.00000   0.00000    12:
        0   0.00000   0.00000    13:BEGIN {
        0   0.00000   0.00000    14:    $is_dosish = $^O eq 'dos' || $^O eq 'os2'
        0   0.00000   0.00000    15:    $is_epoc = $^O eq 'epoc';
        0   0.00000   0.00000    16:    $is_vms = $^O eq 'VMS';
        0   0.00000   0.00000    17:    $is_macos = $^O eq 'MacOS';
        0   0.00000   0.00000    18:    $VERSION = '5.68';
        0   0.00000   0.00000    19:}
        0   0.00000   0.00000    20:
        0   0.00000   0.00000    21:AUTOLOAD {
        1   0.00000   0.00000    22:    my $sub = $AUTOLOAD;
        1   0.00000   0.00000    23:    my $filename = AutoLoader::find_filename(
        0   0.00000   0.00000    24:
        1   0.00000   0.00000    25:    my $save = $@;
        1   0.00002   0.00000    26:    local $!; # Do not munge the value.
        3   0.00012   0.00000    27:    eval { local $SIG{__DIE__}; require
        1   0.00000   0.00000    28:    if ($@) {
        1   0.00000   0.00000    29: if (substr($sub,-9) eq '::DESTROY') {
        0   0.00000   0.00000    30:     no strict 'refs';
        2   0.00006   0.00000    31:     *$sub = sub {};
        1   0.00000   0.00000    32:     $@ = undef;
        0   0.00000   0.00000    33: } elsif ($@ =~ /^Can't locate/) {
        0   0.00000   0.00000    34:     # The load might just have failed
        0   0.00000   0.00000    35:     # long for some old SVR3 systems which
        0   0.00000   0.00000    36:     # If we can successfully truncate a long
        0   0.00000   0.00000    37:     # There is a slight risk that we could
        0   0.00000   0.00000    38:     # but autosplit should have warned about
        0   0.00000   0.00000    39:     if ($filename =~
        0   0.00000   0.00000    40:  eval { local $SIG{__DIE__}; require
        0   0.00000   0.00000    41:     }
        0   0.00000   0.00000    42: }
        1   0.00000   0.00000    43: if ($@){
        0   0.00000   0.00000    44:     $@ =~ s/ at .*\n//;
        0   0.00000   0.00000    45:     my $error = $@;
        0   0.00000   0.00000    46:     require Carp;
        0   0.00000   0.00000    47:     Carp::croak($error);
        0   0.00000   0.00000    48: }
        0   0.00000   0.00000    49:    }
        1   0.00000   0.00000    50:    $@ = $save;
        1   0.00001   0.00000    51:    goto &$sub;
        0   0.00000   0.00000    52:}
        0   0.00000   0.00000    53:
        0   0.00000   0.00000    54:sub find_filename {
        1   0.00000   0.00000    55:    my $sub = shift;
        1   0.00000   0.00000    56:    my $filename;
           ================ SmallProf version 2.02 ================
                 Profile of /usr/share/perl/5.10/AutoLoader.pm         Page 101
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000    57:    # Braces used to preserve $1 et al.
        0   0.00000   0.00000    58:    {
        0   0.00000   0.00000    59: # Try to find the autoloaded file from the
        0   0.00000   0.00000    60: # name of the sub. e.g., if the sub needed
        0   0.00000   0.00000    61: # Getopt::Long::GetOptions(), then
        0   0.00000   0.00000    62: # something like
        0   0.00000   0.00000    63: # autoload file is
        0   0.00000   0.00000    64: #
        0   0.00000   0.00000    65: # However, if @INC is a relative path, this
        0   0.00000   0.00000    66: # for example, @INC = ('lib'), then
        0   0.00000   0.00000    67: # 'lib/Getopt/Long.pm', and we want to
        0   0.00000   0.00000    68: # 'auto/Getopt/Long/GetOptions.al' (without
        0   0.00000   0.00000    69: # In this case, we simple prepend the
        0   0.00000   0.00000    70: # C<require> take care of the searching for
        0   0.00000   0.00000    71:
        2   0.00002   0.00000    72: my ($pkg,$func) = ($sub =~
        1   0.00001   0.00000    73: $pkg =~ s#::#/#g;
        1   0.00000   0.00000    74: if (defined($filename = $INC{"$pkg.pm"})) {
        1   0.00000   0.00000    75:     if ($is_macos) {
        0   0.00000   0.00000    76:  $pkg =~ tr#/#:#;
        0   0.00000   0.00000    77:  $filename = undef
        0   0.00000   0.00000    78:    unless $filename =~
        0   0.00000   0.00000    79:     } else {
        1   0.00007   0.00000    80:  $filename = undef
        0   0.00000   0.00000    81:    unless $filename =~
        0   0.00000   0.00000    82:     }
        0   0.00000   0.00000    83:
        0   0.00000   0.00000    84:     # if the file exists, then make sure
        0   0.00000   0.00000    85:     # a fully anchored path (i.e either
        0   0.00000   0.00000    86:     # or './lib/auto/foo/bar.al'.  This
        0   0.00000   0.00000    87:     # (and failing) to find the
        0   0.00000   0.00000    88:     # looked for 'lib/lib/auto/foo/bar.al',
        0   0.00000   0.00000    89:
        1   0.00003   0.00000    90:     if (defined $filename and -r $filename)
        0   0.00000   0.00000    91:  unless ($filename =~ m|^/|s) {
        0   0.00000   0.00000    92:      if ($is_dosish) {
        0   0.00000   0.00000    93:   unless ($filename =~ m{^([a-z]:)?[\\/]}is)
        0   0.00000   0.00000    94:       if ($^O ne 'NetWare') {
        0   0.00000   0.00000    95:    $filename = "./$filename";
        0   0.00000   0.00000    96:       } else {
        0   0.00000   0.00000    97:    $filename = "$filename";
        0   0.00000   0.00000    98:       }
        0   0.00000   0.00000    99:   }
        0   0.00000   0.00000   100:      }
        0   0.00000   0.00000   101:      elsif ($is_epoc) {
        0   0.00000   0.00000   102:   unless ($filename =~ m{^([a-
        0   0.00000   0.00000   103:        $filename = "./$filename";
        0   0.00000   0.00000   104:   }
        0   0.00000   0.00000   105:      }
        0   0.00000   0.00000   106:      elsif ($is_vms) {
        0   0.00000   0.00000   107:   # XXX todo by VMSmiths
        0   0.00000   0.00000   108:   $filename = "./$filename";
        0   0.00000   0.00000   109:      }
        0   0.00000   0.00000   110:      elsif (!$is_macos) {
        0   0.00000   0.00000   111:   $filename = "./$filename";
        0   0.00000   0.00000   112:      }
           ================ SmallProf version 2.02 ================
                 Profile of /usr/share/perl/5.10/AutoLoader.pm         Page 102
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   113:  }
        0   0.00000   0.00000   114:     }
        0   0.00000   0.00000   115:     else {
        1   0.00000   0.00000   116:  $filename = undef;
        0   0.00000   0.00000   117:     }
        0   0.00000   0.00000   118: }
        1   0.00000   0.00000   119: unless (defined $filename) {
        0   0.00000   0.00000   120:     # let C<require> do the searching
        1   0.00000   0.00000   121:     $filename = "auto/$sub.al";
        1   0.00001   0.00000   122:     $filename =~ s#::#/#g;
        0   0.00000   0.00000   123: }
        0   0.00000   0.00000   124:    }
        1   0.00000   0.00000   125:    return $filename;
        0   0.00000   0.00000   126:}
        0   0.00000   0.00000   127:
        0   0.00000   0.00000   128:sub import {
        0   0.00000   0.00000   129:    my $pkg = shift;
        0   0.00000   0.00000   130:    my $callpkg = caller;
        0   0.00000   0.00000   131:
        0   0.00000   0.00000   132:    #
        0   0.00000   0.00000   133:    # Export symbols, but not by accident of
        0   0.00000   0.00000   134:    #
        0   0.00000   0.00000   135:
        0   0.00000   0.00000   136:    if ($pkg eq 'AutoLoader') {
        0   0.00000   0.00000   137: if ( @_ and $_[0] =~ /^&?AUTOLOAD$/ ) {
        0   0.00000   0.00000   138:     no strict 'refs';
        0   0.00000   0.00000   139:     *{ $callpkg . '::AUTOLOAD' } =
        0   0.00000   0.00000   140: }
        0   0.00000   0.00000   141:    }
        0   0.00000   0.00000   142:
        0   0.00000   0.00000   143:    #
        0   0.00000   0.00000   144:    # Try to find the autosplit index file.
        0   0.00000   0.00000   145:    # is POSIX, then $INC{POSIX.pm} is
        0   0.00000   0.00000   146:    # '/usr/local/lib/perl5/POSIX.pm', and
        0   0.00000   0.00000   147:    #
        0   0.00000   0.00000   148:    #
        0   0.00000   0.00000   149:    # However, if @INC is a relative path,
        0   0.00000   0.00000   150:    # for example, @INC = ('lib'), then
        0   0.00000   0.00000   151:    # $INC{POSIX.pm} is 'lib/POSIX.pm', and
        0   0.00000   0.00000   152:    # 'auto/POSIX/autosplit.ix' (without the
        0   0.00000   0.00000   153:    #
        0   0.00000   0.00000   154:
        0   0.00000   0.00000   155:    (my $calldir = $callpkg) =~ s#::#/#g;
        0   0.00000   0.00000   156:    my $path = $INC{$calldir . '.pm'};
        0   0.00000   0.00000   157:    if (defined($path)) {
        0   0.00000   0.00000   158: # Try absolute path name, but only eval it
        0   0.00000   0.00000   159:        # transformation from module path to
        0   0.00000   0.00000   160:        # succeeded!
        0   0.00000   0.00000   161: my $replaced_okay;
        0   0.00000   0.00000   162: if ($is_macos) {
        0   0.00000   0.00000   163:     (my $malldir = $calldir) =~ tr#/#:#;
        0   0.00000   0.00000   164:     $replaced_okay = ($path =~
        0   0.00000   0.00000   165: } else {
        0   0.00000   0.00000   166:     $replaced_okay = ($path =~
        0   0.00000   0.00000   167: }
        0   0.00000   0.00000   168:
           ================ SmallProf version 2.02 ================
                 Profile of /usr/share/perl/5.10/AutoLoader.pm         Page 103
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   169: eval { require $path; } if $replaced_okay;
        0   0.00000   0.00000   170: # If that failed, try relative path with
        0   0.00000   0.00000   171: if (!$replaced_okay or $@) {
        0   0.00000   0.00000   172:     $path ="auto/$calldir/autosplit.ix";
        0   0.00000   0.00000   173:     eval { require $path; };
        0   0.00000   0.00000   174: }
        0   0.00000   0.00000   175: if ($@) {
        0   0.00000   0.00000   176:     my $error = $@;
        0   0.00000   0.00000   177:     require Carp;
        0   0.00000   0.00000   178:     Carp::carp($error);
        0   0.00000   0.00000   179: }
        0   0.00000   0.00000   180:    }
        0   0.00000   0.00000   181:}
        0   0.00000   0.00000   182:
        0   0.00000   0.00000   183:sub unimport {
        0   0.00000   0.00000   184:    my $callpkg = caller;
        0   0.00000   0.00000   185:
        0   0.00000   0.00000   186:    no strict 'refs';
        0   0.00000   0.00000   187:
        0   0.00000   0.00000   188:    for my $exported (qw( AUTOLOAD )) {
        0   0.00000   0.00000   189: my $symname = $callpkg . '::' . $exported;
        0   0.00000   0.00000   190: undef *{ $symname } if \&{ $symname } == \&{
        0   0.00000   0.00000   191: *{ $symname } = \&{ $symname };
        0   0.00000   0.00000   192:    }
        0   0.00000   0.00000   193:}
        0   0.00000   0.00000   194:
        0   0.00000   0.00000   195:1;
        0   0.00000   0.00000   196:
        0   0.00000   0.00000   197:__END__
           ================ SmallProf version 2.02 ================
                  Profile of /usr/share/perl/5.10/Exporter.pm          Page 104
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000     1:package Exporter;
        0   0.00000   0.00000     2:
        0   0.00000   0.00000     3:require 5.006;
        0   0.00000   0.00000     4:
        0   0.00000   0.00000     5:# Be lean.
        0   0.00000   0.00000     6:#use strict;
        0   0.00000   0.00000     7:#no strict 'refs';
        0   0.00000   0.00000     8:
        0   0.00000   0.00000     9:our $Debug = 0;
        0   0.00000   0.00000    10:our $ExportLevel = 0;
        0   0.00000   0.00000    11:our $Verbose ||= 0;
        0   0.00000   0.00000    12:our $VERSION = '5.63';
        0   0.00000   0.00000    13:our (%Cache);
        0   0.00000   0.00000    14:
        0   0.00000   0.00000    15:# Carp 1.05+ does this now for us, but we may
        0   0.00000   0.00000    16:$Carp::Internal{Exporter}++;
        0   0.00000   0.00000    17:
        0   0.00000   0.00000    18:sub as_heavy {
        0   0.00000   0.00000    19:  require Exporter::Heavy;
        0   0.00000   0.00000    20:  # Unfortunately, this does not work if the
        0   0.00000   0.00000    21:  # Thus the need to create a lot of
        0   0.00000   0.00000    22:  my $c = (caller(1))[3];
        0   0.00000   0.00000    23:  $c =~ s/.*:://;
        0   0.00000   0.00000    24:  \&{"Exporter::Heavy::heavy_$c"};
        0   0.00000   0.00000    25:}
        0   0.00000   0.00000    26:
        0   0.00000   0.00000    27:sub export {
        0   0.00000   0.00000    28:  goto &{as_heavy()};
        0   0.00000   0.00000    29:}
        0   0.00000   0.00000    30:
        0   0.00000   0.00000    31:sub import {
        1   0.00000   0.00000    32:  my $pkg = shift;
        1   0.00000   0.00000    33:  my $callpkg = caller($ExportLevel);
        0   0.00000   0.00000    34:
        1   0.00000   0.00000    35:  if ($pkg eq "Exporter" and @_ and $_[0] eq
        0   0.00000   0.00000    36:    *{$callpkg."::import"} = \&import;
        0   0.00000   0.00000    37:    return;
        0   0.00000   0.00000    38:  }
        0   0.00000   0.00000    39:
        0   0.00000   0.00000    40:  # We *need* to treat
        1   0.00001   0.00000    41:  my($exports, $fail) = (\@{"$pkg\::EXPORT"},
        1   0.00000   0.00000    42:  return export $pkg, $callpkg, @_
        0   0.00000   0.00000    43:    if $Verbose or $Debug or @$fail > 1;
        1   0.00000   0.00000    44:  my $export_cache = ($Cache{$pkg} ||= {});
        1   0.00000   0.00000    45:  my $args = @_ or @_ = @$exports;
        0   0.00000   0.00000    46:
        1   0.00000   0.00000    47:  local $_;
        1   0.00000   0.00000    48:  if ($args and not %$export_cache) {
        0   0.00000   0.00000    49:    s/^&//, $export_cache->{$_} = 1
        0   0.00000   0.00000    50:      foreach (@$exports,
        0   0.00000   0.00000    51:  }
        1   0.00000   0.00000    52:  my $heavy;
        0   0.00000   0.00000    53:  # Try very hard not to use {} and hence
        0   0.00000   0.00000    54:  # We bomb out of the loop with last as soon
        1   0.00000   0.00000    55:  if ($args or $fail) {
        0   0.00000   0.00000    56:    ($heavy = (/\W/ or $args and not exists
           ================ SmallProf version 2.02 ================
                  Profile of /usr/share/perl/5.10/Exporter.pm          Page 105
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000    57:               or @$fail and $_ eq $fail-
        2   0.00000   0.00000    58:                 foreach (@_);
        0   0.00000   0.00000    59:  } else {
        0   0.00000   0.00000    60:    ($heavy = /\W/) and last
        0   0.00000   0.00000    61:      foreach (@_);
        0   0.00000   0.00000    62:  }
        1   0.00000   0.00000    63:  return export $pkg, $callpkg, ($args ? @_ :
        0   0.00000   0.00000    64:  local $SIG{__WARN__} =
        1   0.00002   0.00000    65: sub {require Carp; &Carp::carp};
        0   0.00000   0.00000    66:  # shortcut for the common case of no type
        2   0.00001   0.00000    67:  *{"$callpkg\::$_"} = \&{"$pkg\::$_"}
        0   0.00000   0.00000    68:}
        0   0.00000   0.00000    69:
        0   0.00000   0.00000    70:# Default methods
        0   0.00000   0.00000    71:
        0   0.00000   0.00000    72:sub export_fail {
        0   0.00000   0.00000    73:    my $self = shift;
        0   0.00000   0.00000    74:    @_;
        0   0.00000   0.00000    75:}
        0   0.00000   0.00000    76:
        0   0.00000   0.00000    77:# Unfortunately, caller(1)[3] "does not work"
        0   0.00000   0.00000    78:# *name = \&foo.  Thus the need to create a
        0   0.00000   0.00000    79:# Otherwise we could have aliased them to
        0   0.00000   0.00000    80:
        0   0.00000   0.00000    81:sub export_to_level {
        0   0.00000   0.00000    82:  goto &{as_heavy()};
        0   0.00000   0.00000    83:}
        0   0.00000   0.00000    84:
        0   0.00000   0.00000    85:sub export_tags {
        0   0.00000   0.00000    86:  goto &{as_heavy()};
        0   0.00000   0.00000    87:}
        0   0.00000   0.00000    88:
        0   0.00000   0.00000    89:sub export_ok_tags {
        0   0.00000   0.00000    90:  goto &{as_heavy()};
        0   0.00000   0.00000    91:}
        0   0.00000   0.00000    92:
        0   0.00000   0.00000    93:sub require_version {
        0   0.00000   0.00000    94:  goto &{as_heavy()};
        0   0.00000   0.00000    95:}
        0   0.00000   0.00000    96:
        0   0.00000   0.00000    97:1;
        0   0.00000   0.00000    98:__END__
           ================ SmallProf version 2.02 ================
                 Profile of /usr/share/perl/5.10/Getopt/Std.pm         Page 106
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000     1:package Getopt::Std;
        0   0.00000   0.00000     2:require 5.000;
        0   0.00000   0.00000     3:require Exporter;
        0   0.00000   0.00000     4:
        0   0.00000   0.00000     5:=head1 NAME
        0   0.00000   0.00000     6:
        0   0.00000   0.00000     7:
        0   0.00000   0.00000     8:
        0   0.00000   0.00000     9:
        0   0.00000   0.00000    10:
        0   0.00000   0.00000    11:
        0   0.00000   0.00000    12:
        0   0.00000   0.00000    13:
        0   0.00000   0.00000    14:
        0   0.00000   0.00000    15:
        0   0.00000   0.00000    16:
        0   0.00000   0.00000    17:
        0   0.00000   0.00000    18:
        0   0.00000   0.00000    19:
        0   0.00000   0.00000    20:
        0   0.00000   0.00000    21:
        0   0.00000   0.00000    22:
        0   0.00000   0.00000    23:
        0   0.00000   0.00000    24:
        0   0.00000   0.00000    25:
        0   0.00000   0.00000    26:
        0   0.00000   0.00000    27:
        0   0.00000   0.00000    28:
        0   0.00000   0.00000    29:
        0   0.00000   0.00000    30:
        0   0.00000   0.00000    31:
        0   0.00000   0.00000    32:
        0   0.00000   0.00000    33:
        0   0.00000   0.00000    34:
        0   0.00000   0.00000    35:
        0   0.00000   0.00000    36:
        0   0.00000   0.00000    37:
        0   0.00000   0.00000    38:
        0   0.00000   0.00000    39:
        0   0.00000   0.00000    40:
        0   0.00000   0.00000    41:
        0   0.00000   0.00000    42:
        0   0.00000   0.00000    43:
        0   0.00000   0.00000    44:
        0   0.00000   0.00000    45:
        0   0.00000   0.00000    46:
        0   0.00000   0.00000    47:
        0   0.00000   0.00000    48:
        0   0.00000   0.00000    49:
        0   0.00000   0.00000    50:
        0   0.00000   0.00000    51:
        0   0.00000   0.00000    52:
        0   0.00000   0.00000    53:
        0   0.00000   0.00000    54:
        0   0.00000   0.00000    55:
        0   0.00000   0.00000    56:
           ================ SmallProf version 2.02 ================
                 Profile of /usr/share/perl/5.10/Getopt/Std.pm         Page 107
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000    57:
        0   0.00000   0.00000    58:
        0   0.00000   0.00000    59:
        0   0.00000   0.00000    60:
        0   0.00000   0.00000    61:
        0   0.00000   0.00000    62:
        0   0.00000   0.00000    63:
        0   0.00000   0.00000    64:
        0   0.00000   0.00000    65:
        0   0.00000   0.00000    66:
        0   0.00000   0.00000    67:
        0   0.00000   0.00000    68:
        0   0.00000   0.00000    69:
        0   0.00000   0.00000    70:
        0   0.00000   0.00000    71:
        0   0.00000   0.00000    72:
        0   0.00000   0.00000    73:@ISA = qw(Exporter);
        0   0.00000   0.00000    74:@EXPORT = qw(getopt getopts);
        0   0.00000   0.00000    75:$VERSION = '1.06';
        0   0.00000   0.00000    76:# uncomment the next line to disable 1.03-
        0   0.00000   0.00000    77:# $STANDARD_HELP_VERSION = 1;
        0   0.00000   0.00000    78:
        0   0.00000   0.00000    79:# Process single-character switches with
        0   0.00000   0.00000    80:# which is a string containing all switches
        0   0.00000   0.00000    81:# switch found, sets $opt_x (where x is the
        0   0.00000   0.00000    82:# argument, or 1 if no argument.  Switches
        0   0.00000   0.00000    83:# whether there is a space between the switch
        0   0.00000   0.00000    84:
        0   0.00000   0.00000    85:# Usage:
        0   0.00000   0.00000    86:# getopt('oDI');  # -o, -D & -I take arg.
        0   0.00000   0.00000    87:
        0   0.00000   0.00000    88:sub getopt (;$$) {
        0   0.00000   0.00000    89:    my ($argumentative, $hash) = @_;
        0   0.00000   0.00000    90:    $argumentative = '' if !defined
        0   0.00000   0.00000    91:    my ($first,$rest);
        0   0.00000   0.00000    92:    local $_;
        0   0.00000   0.00000    93:    local @EXPORT;
        0   0.00000   0.00000    94:
        0   0.00000   0.00000    95:    while (@ARGV && ($_ = $ARGV[0]) =~ /^-
        0   0.00000   0.00000    96: ($first,$rest) = ($1,$2);
        0   0.00000   0.00000    97: if (/^--$/) { # early exit if --
        0   0.00000   0.00000    98:     shift @ARGV;
        0   0.00000   0.00000    99:     last;
        0   0.00000   0.00000   100: }
        0   0.00000   0.00000   101: if (index($argumentative,$first) >= 0) {
        0   0.00000   0.00000   102:     if ($rest ne '') {
        0   0.00000   0.00000   103:  shift(@ARGV);
        0   0.00000   0.00000   104:     }
        0   0.00000   0.00000   105:     else {
        0   0.00000   0.00000   106:  shift(@ARGV);
        0   0.00000   0.00000   107:  $rest = shift(@ARGV);
        0   0.00000   0.00000   108:     }
        0   0.00000   0.00000   109:     if (ref $hash) {
        0   0.00000   0.00000   110:         $$hash{$first} = $rest;
        0   0.00000   0.00000   111:     }
        0   0.00000   0.00000   112:     else {
           ================ SmallProf version 2.02 ================
                 Profile of /usr/share/perl/5.10/Getopt/Std.pm         Page 108
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   113:         ${"opt_$first"} = $rest;
        0   0.00000   0.00000   114:         push( @EXPORT, "\$opt_$first" );
        0   0.00000   0.00000   115:     }
        0   0.00000   0.00000   116: }
        0   0.00000   0.00000   117: else {
        0   0.00000   0.00000   118:     if (ref $hash) {
        0   0.00000   0.00000   119:         $$hash{$first} = 1;
        0   0.00000   0.00000   120:     }
        0   0.00000   0.00000   121:     else {
        0   0.00000   0.00000   122:         ${"opt_$first"} = 1;
        0   0.00000   0.00000   123:         push( @EXPORT, "\$opt_$first" );
        0   0.00000   0.00000   124:     }
        0   0.00000   0.00000   125:     if ($rest ne '') {
        0   0.00000   0.00000   126:  $ARGV[0] = "-$rest";
        0   0.00000   0.00000   127:     }
        0   0.00000   0.00000   128:     else {
        0   0.00000   0.00000   129:  shift(@ARGV);
        0   0.00000   0.00000   130:     }
        0   0.00000   0.00000   131: }
        0   0.00000   0.00000   132:    }
        0   0.00000   0.00000   133:    unless (ref $hash) {
        0   0.00000   0.00000   134: local $Exporter::ExportLevel = 1;
        0   0.00000   0.00000   135: import Getopt::Std;
        0   0.00000   0.00000   136:    }
        0   0.00000   0.00000   137:}
        0   0.00000   0.00000   138:
        0   0.00000   0.00000   139:sub output_h () {
        0   0.00000   0.00000   140:  return $OUTPUT_HELP_VERSION if defined
        0   0.00000   0.00000   141:  return \*STDOUT if $STANDARD_HELP_VERSION;
        0   0.00000   0.00000   142:  return \*STDERR;
        0   0.00000   0.00000   143:}
        0   0.00000   0.00000   144:
        0   0.00000   0.00000   145:sub try_exit () {
        0   0.00000   0.00000   146:    exit 0 if $STANDARD_HELP_VERSION;
        0   0.00000   0.00000   147:    my $p = __PACKAGE__;
        0   0.00000   0.00000   148:    print {output_h()} <<EOM;
        0   0.00000   0.00000   149:  [Now continuing due to backward
        0   0.00000   0.00000   150:   See ``perldoc $p'' about
        0   0.00000   0.00000   151:EOM
        0   0.00000   0.00000   152:}
        0   0.00000   0.00000   153:
        0   0.00000   0.00000   154:sub version_mess ($;$) {
        0   0.00000   0.00000   155:    my $args = shift;
        0   0.00000   0.00000   156:    my $h = output_h;
        0   0.00000   0.00000   157:    if (@_ and defined
        0   0.00000   0.00000   158: main::VERSION_MESSAGE($h, __PACKAGE__,
        0   0.00000   0.00000   159:    } else {
        0   0.00000   0.00000   160: my $v = $main::VERSION;
        0   0.00000   0.00000   161: $v = '[unknown]' unless defined $v;
        0   0.00000   0.00000   162: my $myv = $VERSION;
        0   0.00000   0.00000   163: $myv .= ' [paranoid]' unless
        0   0.00000   0.00000   164: my $perlv = $];
        0   0.00000   0.00000   165: $perlv = sprintf "%vd", $^V if $] >= 5.006;
        0   0.00000   0.00000   166: print $h <<EOH;
        0   0.00000   0.00000   167:$0 version $v calling Getopt::Std::getopts
        0   0.00000   0.00000   168:running under Perl version $perlv.
           ================ SmallProf version 2.02 ================
                 Profile of /usr/share/perl/5.10/Getopt/Std.pm         Page 109
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   169:EOH
        0   0.00000   0.00000   170:    }
        0   0.00000   0.00000   171:}
        0   0.00000   0.00000   172:
        0   0.00000   0.00000   173:sub help_mess ($;$) {
        0   0.00000   0.00000   174:    my $args = shift;
        0   0.00000   0.00000   175:    my $h = output_h;
        0   0.00000   0.00000   176:    if (@_ and defined &main::HELP_MESSAGE) {
        0   0.00000   0.00000   177: main::HELP_MESSAGE($h, __PACKAGE__,
        0   0.00000   0.00000   178:    } else {
        0   0.00000   0.00000   179: my (@witharg) = ($args =~ /(\S)\s*:/g);
        0   0.00000   0.00000   180: my (@rest) = ($args =~ /([^\s:])(?!\s*:)/g);
        0   0.00000   0.00000   181: my ($help, $arg) = ('', '');
        0   0.00000   0.00000   182: if (@witharg) {
        0   0.00000   0.00000   183:     $help .= "\n\tWith arguments: -" . join
        0   0.00000   0.00000   184:     $arg = "\nSpace is not required between
        0   0.00000   0.00000   185: }
        0   0.00000   0.00000   186: if (@rest) {
        0   0.00000   0.00000   187:     $help .= "\n\tBoolean (without
        0   0.00000   0.00000   188: }
        0   0.00000   0.00000   189: my ($scr) = ($0 =~ m,([^/\\]+)$,);
        0   0.00000   0.00000   190: print $h <<EOH if @_;   # Let the script
        0   0.00000   0.00000   191:
        0   0.00000   0.00000   192:Usage: $scr [-OPTIONS [-MORE_OPTIONS]] [--]
        0   0.00000   0.00000   193:EOH
        0   0.00000   0.00000   194: print $h <<EOH;
        0   0.00000   0.00000   195:
        0   0.00000   0.00000   196:The following single-character options are
        0   0.00000   0.00000   197:
        0   0.00000   0.00000   198:Options may be merged together.  -- stops
        0   0.00000   0.00000   199:EOH
        0   0.00000   0.00000   200: my $has_pod;
        0   0.00000   0.00000   201: if ( defined $0 and $0 ne '-e' and -f $0 and
        0   0.00000   0.00000   202:      and open my $script, '<', $0 ) {
        0   0.00000   0.00000   203:     while (<$script>) {
        0   0.00000   0.00000   204:  $has_pod = 1, last if /^=(pod|head1)/;
        0   0.00000   0.00000   205:     }
        0   0.00000   0.00000   206: }
        0   0.00000   0.00000   207: print $h <<EOH if $has_pod;
        0   0.00000   0.00000   208:
        0   0.00000   0.00000   209:For more details run
        0   0.00000   0.00000   210: perldoc -F $0
        0   0.00000   0.00000   211:EOH
        0   0.00000   0.00000   212:    }
        0   0.00000   0.00000   213:}
        0   0.00000   0.00000   214:
        0   0.00000   0.00000   215:# Usage:
        0   0.00000   0.00000   216:#   getopts('a:bc'); # -a takes arg. -b & -c
        0   0.00000   0.00000   217:#   #  side effect.
        0   0.00000   0.00000   218:
        0   0.00000   0.00000   219:sub getopts ($;$) {
        1   0.00000   0.00000   220:    my ($argumentative, $hash) = @_;
        1   0.00000   0.00000   221:    my (@args,$first,$rest,$exit);
        1   0.00000   0.00000   222:    my $errs = 0;
        1   0.00000   0.00000   223:    local $_;
        1   0.00000   0.00000   224:    local @EXPORT;
           ================ SmallProf version 2.02 ================
                 Profile of /usr/share/perl/5.10/Getopt/Std.pm         Page 110
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   225:
        1   0.00003   0.00000   226:    @args = split( / */, $argumentative );
        1   0.00000   0.00000   227:    while(@ARGV && ($_ = $ARGV[0]) =~ /^-
        0   0.00000   0.00000   228: ($first,$rest) = ($1,$2);
        0   0.00000   0.00000   229: if (/^--$/) { # early exit if --
        0   0.00000   0.00000   230:     shift @ARGV;
        0   0.00000   0.00000   231:     last;
        0   0.00000   0.00000   232: }
        0   0.00000   0.00000   233: my $pos = index($argumentative,$first);
        0   0.00000   0.00000   234: if ($pos >= 0) {
        0   0.00000   0.00000   235:     if (defined($args[$pos+1]) and
        0   0.00000   0.00000   236:  shift(@ARGV);
        0   0.00000   0.00000   237:  if ($rest eq '') {
        0   0.00000   0.00000   238:      ++$errs unless @ARGV;
        0   0.00000   0.00000   239:      $rest = shift(@ARGV);
        0   0.00000   0.00000   240:  }
        0   0.00000   0.00000   241:  if (ref $hash) {
        0   0.00000   0.00000   242:      $$hash{$first} = $rest;
        0   0.00000   0.00000   243:  }
        0   0.00000   0.00000   244:  else {
        0   0.00000   0.00000   245:      ${"opt_$first"} = $rest;
        0   0.00000   0.00000   246:      push( @EXPORT, "\$opt_$first" );
        0   0.00000   0.00000   247:  }
        0   0.00000   0.00000   248:     }
        0   0.00000   0.00000   249:     else {
        0   0.00000   0.00000   250:  if (ref $hash) {
        0   0.00000   0.00000   251:      $$hash{$first} = 1;
        0   0.00000   0.00000   252:  }
        0   0.00000   0.00000   253:  else {
        0   0.00000   0.00000   254:      ${"opt_$first"} = 1;
        0   0.00000   0.00000   255:      push( @EXPORT, "\$opt_$first" );
        0   0.00000   0.00000   256:  }
        0   0.00000   0.00000   257:  if ($rest eq '') {
        0   0.00000   0.00000   258:      shift(@ARGV);
        0   0.00000   0.00000   259:  }
        0   0.00000   0.00000   260:  else {
        0   0.00000   0.00000   261:      $ARGV[0] = "-$rest";
        0   0.00000   0.00000   262:  }
        0   0.00000   0.00000   263:     }
        0   0.00000   0.00000   264: }
        0   0.00000   0.00000   265: else {
        0   0.00000   0.00000   266:     if ($first eq '-' and $rest eq 'help') {
        0   0.00000   0.00000   267:  version_mess($argumentative, 'main');
        0   0.00000   0.00000   268:  help_mess($argumentative, 'main');
        0   0.00000   0.00000   269:  try_exit();
        0   0.00000   0.00000   270:  shift(@ARGV);
        0   0.00000   0.00000   271:  next;
        0   0.00000   0.00000   272:     } elsif ($first eq '-' and $rest eq
        0   0.00000   0.00000   273:  version_mess($argumentative, 'main');
        0   0.00000   0.00000   274:  try_exit();
        0   0.00000   0.00000   275:  shift(@ARGV);
        0   0.00000   0.00000   276:  next;
        0   0.00000   0.00000   277:     }
        0   0.00000   0.00000   278:     warn "Unknown option: $first\n";
        0   0.00000   0.00000   279:     ++$errs;
        0   0.00000   0.00000   280:     if ($rest ne '') {
           ================ SmallProf version 2.02 ================
                 Profile of /usr/share/perl/5.10/Getopt/Std.pm         Page 111
       =================================================================
    count wall tm  cpu time line
        0   0.00000   0.00000   281:  $ARGV[0] = "-$rest";
        0   0.00000   0.00000   282:     }
        0   0.00000   0.00000   283:     else {
        0   0.00000   0.00000   284:  shift(@ARGV);
        0   0.00000   0.00000   285:     }
        0   0.00000   0.00000   286: }
        0   0.00000   0.00000   287:    }
        1   0.00000   0.00000   288:    unless (ref $hash) {
        1   0.00000   0.00000   289: local $Exporter::ExportLevel = 1;
        1   0.00000   0.00000   290: import Getopt::Std;
        0   0.00000   0.00000   291:    }
        1   0.00000   0.00000   292:    $errs == 0;
        0   0.00000   0.00000   293:}
        0   0.00000   0.00000   294:
        0   0.00000   0.00000   295:1;
